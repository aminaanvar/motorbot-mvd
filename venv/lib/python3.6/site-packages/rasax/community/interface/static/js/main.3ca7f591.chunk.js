(this["webpackJsonprasa-frontend"]=this["webpackJsonprasa-frontend"]||[]).push([[0],{101:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o}));var r=n(5),a=Object(r.createAsyncAction)("FETCH TELEMETRY DATA","FETCH TELEMETRY DATA SUCCESS","FETCH TELEMETRY DATA FAILURE")(),c=Object(r.createAsyncAction)("SAVE POWERUSER FORM","SAVE POWERUSER FORM SUCCESS","SAVE POWERUSER FORM FAILURE")(),o=Object(r.createAsyncAction)("SAVE TELEMETRY EVENT","SAVE TELEMETRY EVENT SUCCESS","SAVE TELEMETRY EVENT FAILURE")()},11:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return m}));var r=n(6),a=n.n(r),c=n(5),o=n(7),s=n(213),i=n(28),l=a.a.mark(p),u=a.a.mark(h),d=(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}(i.c.success,i.f.success,i.g.success),[s.a,Object(c.getType)(i.c.success),Object(c.getType)(i.g.success)]),b=[s.a,Object(c.getType)(i.f.success)];function f(e){switch(e.type){case Object(c.getType)(i.c.success):case Object(c.getType)(i.g.success):return e.payload.access_token;case s.a:return e.payload&&e.payload.auth&&e.payload.auth.accessToken||null;default:return null}}function j(e){switch(e.type){case Object(c.getType)(i.f.success):return e.payload.access_token;case s.a:return e.payload&&e.payload.auth&&e.payload.auth.guestAccessToken||null;default:return null}}function p(e,t,n,r){var c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=f(r),a.next=3,n(e,t,c);case 3:case"end":return a.stop()}}),l)}function h(e,t,n,r){var c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=j(r),a.next=3,n(e,t,c);case 3:case"end":return a.stop()}}),u)}function O(e,t,n,r){var c,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(c=r?!0===r?o.k:r:o.j,!n)return a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c(e,t);case 2:case"end":return n.stop()}}),n)}));var i=s?h:p,l=s?b:d;return a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(o.k)(l,i,e,t,c);case 2:case"end":return n.stop()}}),n)}))}function x(e,t){return O(Object(c.getType)(e),t,!0)}function m(e,t){return O(Object(c.getType)(e),t,!0,!1,!0)}},111:function(e,t,n){"use strict";n.d(t,"b",(function(){return rc}));var r=n(113),a=n(756),c=n(213),o=n(734),s=n.n(o),i=n(735),l=n(134),u=n.n(l),d=n(45),b="".concat(l.DEFAULT_PREFIX,"::").concat(l.WEBSOCKET_MESSAGE),f="".concat(l.DEFAULT_PREFIX,"::").concat(l.WEBSOCKET_ERROR),j=function(e){return function(e){return function(t){if(t.type===f&&console.warn("WebSockets Error:",t.payload),t.type===b){var n=function(e){return JSON.parse(e.payload.message)}(t);return"onboarding"===function(e){switch("".concat(e.topic,"_").concat(e.name)){case"ivc_connected":case"ivc_changes_pushed":case"models_model_added":case"models_model_promoted":case"nlu_message_annotated":return"onboarding";case"messages_message_sent":return"rasa"!==e.data.channel?"onboarding":"conversations"}}(n)?void e(Object(d.d)(n)):void 0}e(t)}}},p=n(15),h=n(6),O=n.n(h),x=n(5),m=n(7),g=n(11),v=n(19),y=n(12),C=n(208),S=O.a.mark(w);function w(e,t){var n,r,a,c,o;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n=t.payload,r=n.bucket,a=n.start,c=n.end,s.next=4,Object(m.b)(y.G,e,r,a,c);case 4:return o=s.sent,s.next=7,Object(m.f)(C.a.success(o));case 7:s.next=15;break;case 9:return s.prev=9,s.t0=s.catch(0),s.next=13,Object(v.a)(s.t0);case 13:return s.next=15,Object(m.f)(C.a.failure(s.t0));case 15:case"end":return s.stop()}}),S,null,[[0,9]])}var E=[Object(g.a)(Object(x.getType)(C.a.request),w,!0)],k=n(209),T=O.a.mark(R);function R(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(y.Eb,e);case 3:return t=n.sent,n.next=6,Object(m.f)(k.a.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(v.a)(n.t0);case 12:return n.next=14,Object(m.f)(k.a.failure(n.t0));case 14:case"end":return n.stop()}}),T,null,[[0,8]])}var A=[Object(g.a)(Object(x.getType)(k.a.request),R,!0)],_=n(28),I=O.a.mark(B),F=O.a.mark(H),N=O.a.mark(q),U=O.a.mark(G),L=O.a.mark(V),D=O.a.mark(z),M=O.a.mark(W),P=O.a.mark(Y);function B(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(""!==(n=t.payload.username)){c.next=7;break}return(r=new Error).message="Please enter a username",c.next=6,Object(m.f)(_.b.failure(r));case 6:return c.abrupt("return");case 7:return c.prev=7,c.next=10,Object(m.b)(y.k,e,n);case 10:return a=c.sent,c.next=13,Object(m.f)(_.b.success(a));case 13:c.next=20;break;case 15:return c.prev=15,c.t0=c.catch(7),c.t0.response&&404===c.t0.response.status&&(c.t0.message=c.t0.response.data.details.message),c.next=20,Object(m.f)(_.b.failure(c.t0));case 20:case"end":return c.stop()}}),I,null,[[7,15]])}function H(e,t){var n,r,a,c,o,s;return O.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.username,a=n.oldPassword,c=n.newPassword,o=n.newPasswordConfirm,i.prev=1,i.next=4,Object(m.b)(y.f,e,r,a,c,o);case 4:return s=i.sent,i.next=7,Object(m.f)(_.a.success(s));case 7:i.next=15;break;case 9:return i.prev=9,i.t0=i.catch(1),i.next=13,Object(v.a)(i.t0);case 13:return i.next=15,Object(m.f)(_.a.failure(i.t0));case 15:case"end":return i.stop()}}),F,null,[[1,9]])}function q(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(y.bb,e);case 3:return t=n.sent,n.next=6,Object(m.f)(_.d.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(v.a)(n.t0);case 12:return n.next=14,Object(m.f)(_.d.failure(n.t0));case 14:case"end":return n.stop()}}),N,null,[[0,8]])}function G(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m.b)(y.ub);case 3:return e=t.sent,t.next=6,Object(m.f)(_.e.success(e));case 6:window.location.assign(e.redirect_to),t.next=15;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(v.a)(t.t0);case 13:return t.next=15,Object(m.f)(_.e.failure(t.t0));case 15:case"end":return t.stop()}}),U,null,[[0,9]])}function V(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.singleUseToken,a.prev=1,a.next=4,Object(m.b)(y.V,e,n);case 4:return r=a.sent,a.next=7,Object(m.f)(_.c.success(r));case 7:a.next=19;break;case 9:if(a.prev=9,a.t0=a.catch(1),!a.t0.response){a.next=17;break}if(401!==a.t0.response.status){a.next=17;break}return a.t0.message="Invalid token",a.next=17,Object(m.f)(_.g.failure(a.t0));case 17:return a.next=19,Object(m.f)(_.c.failure(a.t0));case 19:case"end":return a.stop()}}),L,null,[[1,9]])}function z(e){var t,n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.chatToken,r.next=4,Object(m.b)(y.Bb,t);case 4:return n=r.sent,r.next=7,Object(m.f)(_.f.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(v.a)(r.t0);case 13:return r.next=15,Object(m.f)(_.f.failure(r.t0));case 15:case"end":return r.stop()}}),D,null,[[0,9]])}function W(e,t){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(m.b)(y.Tb,e,t.payload);case 3:return n=r.sent,r.next=6,Object(m.f)(_.i.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(v.a)(r.t0);case 12:return r.next=14,Object(m.f)(_.i.failure(r.t0));case 14:case"end":return r.stop()}}),M,null,[[0,8]])}function Y(e){var t,n,r,a,c;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload,n=t.username,r=t.password,""!==n&&""!==r){o.next=7;break}return(a=new Error).message="Please fill all the fields",o.next=6,Object(m.f)(_.g.failure(a));case 6:return o.abrupt("return");case 7:return o.prev=7,o.next=10,Object(m.b)(y.Jb,n,r);case 10:return c=o.sent,o.next=13,Object(m.f)(_.g.success(c));case 13:o.next=25;break;case 15:if(o.prev=15,o.t0=o.catch(7),!o.t0.response){o.next=23;break}if(401!==o.t0.response.status){o.next=23;break}return o.t0.message="Wrong credentials",o.next=23,Object(m.f)(_.g.failure(o.t0));case 23:return o.next=25,Object(m.f)(_.g.failure(o.t0));case 25:case"end":return o.stop()}}),P,null,[[7,15]])}var K=[Object(g.a)(Object(x.getType)(_.b.request),B,!0),Object(g.a)(Object(x.getType)(_.a.request),H,!0),Object(g.a)(Object(x.getType)(_.c.request),V,!0),Object(g.a)(Object(x.getType)(_.d.request),q,!0),Object(g.a)(Object(x.getType)(_.e.request),G),Object(g.a)(Object(x.getType)(_.f.request),z),Object(g.a)(Object(x.getType)(_.g.request),Y),Object(g.a)(Object(x.getType)(_.i.request),W,!0)],Q=n(2),X=n(133),Z=n.n(X),J=n(205),$=n(319),ee=n.n($),te=n(21),ne=n(32),re=n(50),ae=n(112),ce=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){var t=function(e){return e};return e.apply(void 0,n).then(t,t)}},oe=n(130),se=O.a.mark(ve),ie=O.a.mark(ye),le=O.a.mark(Ce),ue=O.a.mark(Se),de=O.a.mark(we),be=O.a.mark(Ee),fe=O.a.mark(Te),je=O.a.mark(Re),pe=O.a.mark(Ae),he=O.a.mark(_e),Oe=O.a.mark(Ie),xe=O.a.mark(Fe),me=O.a.mark(Ne),ge=O.a.mark(Ue);function ve(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,c.prev=1,r=ee()(n),c.next=5,Object(m.b)(y.Z,e,"default",r);case 5:return a=c.sent,c.next=8,Object(m.f)(te.g.success(a));case 8:c.next=16;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(v.a)(c.t0);case 14:return c.next=16,Object(m.f)(te.g.failure(c.t0));case 16:case"end":return c.stop()}}),se,null,[[1,10]])}function ye(e,t){var n,r,a,c,o,s,i,l,u,d;return O.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return n=t.payload,r=n.search,a=n.offset,c=n.limit,b.prev=1,o=Z.a.parse(r),s=o.getAllText(),i=o.getConditionArray().filter((function(e){return"intent"===e.keyword})).map((function(e){return e.value})).join(","),b.next=7,Object(m.b)(y.ab,e,"default",s,i,c,a);case 7:return l=b.sent,u=l.examples,d=l.total,b.next=12,Object(m.f)(te.h.success({examples:u,total:d,offset:a}));case 12:b.next=20;break;case 14:return b.prev=14,b.t0=b.catch(1),b.next=18,Object(v.a)(b.t0);case 18:return b.next=20,Object(m.f)(te.h.failure(b.t0));case 20:case"end":return b.stop()}}),ie,null,[[1,14]])}function Ce(e,t){var n,r,a,c,o;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=ee()(n),s.prev=2,s.next=5,Object(m.a)({example:Object(m.b)(ce(y.Z,e,"default",r))});case 5:return a=s.sent,c=a.example,o=[c].reduce((function(e,t){if("response"in t&&t.response){if(404!==t.response.status)throw t;return e}return!0}),!1),s.next=10,Object(m.f)(te.c.success(o));case 10:s.next=18;break;case 12:return s.prev=12,s.t0=s.catch(2),s.next=16,Object(v.a)(s.t0);case 16:return s.next=18,Object(m.f)(te.c.failure(s.t0));case 18:case"end":return s.stop()}}),le,null,[[2,12]])}function Se(e){var t,n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(m.b)(y.gb,e,"default");case 3:return t=r.sent,n=t.map((function(e){return e.intent})),r.next=7,Object(m.f)(te.i.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(v.a)(r.t0);case 13:return r.next=15,Object(m.f)(te.i.failure(r.t0));case 15:case"end":return r.stop()}}),ue,null,[[0,9]])}function we(e){var t,n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(m.b)(y.C,e,"default");case 3:t=r.sent,n=new Blob([t],{type:"text/markdown;charset=utf-8"}),Object(J.saveAs)(n,"nlu.md"),r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(v.a)(r.t0);case 12:return r.next=14,Object(m.f)(te.h.failure(r.t0));case 14:case"end":return r.stop()}}),de,null,[[0,8]])}function Ee(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.Sb,e,"default",n);case 4:return r=a.sent,a.next=7,Object(m.f)(te.k.success(r));case 7:return a.next=9,Object(m.f)(te.f.request());case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(v.a)(a.t0);case 15:return a.next=17,Object(m.f)(te.k.failure(a.t0));case 17:case"end":return a.stop()}}),be,null,[[1,11]])}var ke=function(e){var t=e.user_input.intent&&e.user_input.intent.name;if(!t)throw new Error("Cannot save suggestion with null intent");return{entities:e.user_input.entities.map((function(e){return Object(Q.a)(Object(Q.a)({},e),{},{start:e.start,end:e.end})})),text:e.user_input.text,intent:t,project_id:e.project_id,team:e.team}};function Te(e){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.a)(e.entities.filter((function(e){return e.entity_synonym_id})).map((function(e){var t=e.entity_synonym_id,n=e.value;return t&&Object(m.f)(re.d.request({id:t,mapped_values:[{value:n}]}))})));case 2:case"end":return t.stop()}}),fe)}function Re(e,t){var n,r,a,c;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=Array.isArray(t.payload)?t.payload:[t.payload],r=n.map(ke),a=r.some((function(e){return e.entities.some((function(e){return e.entity_synonym_id}))})),o.prev=3,!a){o.next=7;break}return o.next=7,Object(m.a)(r.map((function(e){return Te(e)})));case 7:return o.next=9,Object(m.a)(r.map((function(t){return Object(m.b)(y.Sb,e,"default",t)})));case 9:return c=o.sent,o.next=12,Object(m.f)(te.m.success(c));case 12:return o.next=14,Object(m.f)(te.f.request());case 14:o.next=22;break;case 16:return o.prev=16,o.t0=o.catch(3),o.next=20,Object(v.a)(o.t0);case 20:return o.next=22,Object(m.f)(te.m.failure(o.t0));case 22:case"end":return o.stop()}}),je,null,[[3,16]])}function Ae(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r={entities:(o=n).entities,text:o.text,intent:o.intent,project_id:"default",team:"default"},c.prev=2,c.next=5,Object(m.b)(y.Sb,e,"default",r);case 5:return a=c.sent,c.next=8,Object(m.f)(te.l.success(a));case 8:return c.next=10,Object(m.f)(te.f.request());case 10:c.next=18;break;case 12:return c.prev=12,c.t0=c.catch(2),c.next=16,Object(v.a)(c.t0);case 16:return c.next=18,Object(m.f)(te.l.failure(c.t0));case 18:case"end":return c.stop()}var o}),pe,null,[[2,12]])}function _e(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=Object(Q.a)(Object(Q.a)({},t.payload),{},{isDirty:void 0}),r=n.entities.some((function(e){return e.entity_synonym_id})),c.prev=2,c.next=5,Object(m.b)(y.kc,e,"default",n);case 5:if(a=c.sent,!r){c.next=9;break}return c.next=9,Te(n);case 9:return c.next=11,Object(m.f)(te.o.success(a));case 11:return c.next=13,Object(m.f)(te.f.request());case 13:c.next=21;break;case 15:return c.prev=15,c.t0=c.catch(2),c.next=19,Object(v.a)(c.t0);case 19:return c.next=21,Object(m.f)(te.o.failure(c.t0));case 21:case"end":return c.stop()}}),he,null,[[2,15]])}function Ie(e,t){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(m.b)(y.p,e,"default",n);case 4:return r.next=6,Object(m.f)(te.d.success(n));case 6:return r.next=8,Object(m.f)(te.f.request());case 8:r.next=16;break;case 10:return r.prev=10,r.t0=r.catch(1),r.next=14,Object(v.a)(r.t0);case 14:return r.next=16,Object(m.f)(te.d.failure(r.t0));case 16:case"end":return r.stop()}}),Oe,null,[[1,10]])}function Fe(e,t){var n,r,a,c,o,s;return O.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.examples,a=n.fileName,c=Object(oe.a)(a),i.prev=2,i.next=5,Object(m.b)(y.wc,e,"default",r,c);case 5:return o=i.sent,i.next=8,Object(m.f)(te.p.success(o));case 8:return i.next=10,Object(m.h)((function(e){return e.examples.searchQuery}));case 10:return s=i.sent,i.next=13,Object(m.f)(te.i.request());case 13:return i.next=15,Object(m.f)(te.f.request());case 15:return i.next=17,Object(m.f)(te.h.request({search:s,offset:0,limit:20}));case 17:return i.next=19,Object(m.f)(ne.h.request({offset:0,limit:20}));case 19:return i.next=21,Object(m.f)(ne.f.request());case 21:i.next=29;break;case 23:return i.prev=23,i.t0=i.catch(2),i.next=27,Object(v.a)(i.t0);case 27:return i.next=29,Object(m.f)(te.p.failure(i.t0));case 29:case"end":return i.stop()}}),xe,null,[[2,23]])}function Ne(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(y.Gb,e,"default");case 3:return t=n.sent,n.next=6,Object(m.f)(te.j.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(v.a)(n.t0);case 12:return n.next=14,Object(m.f)(te.j.failure(n.t0));case 14:case"end":return n.stop()}}),me,null,[[0,8]])}function Ue(e){var t,n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(m.b)(y.W,e,"default");case 3:return t=r.sent,n=t.map((function(e){return e.entity})),r.next=7,Object(m.f)(te.f.success(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(v.a)(r.t0);case 13:return r.next=15,Object(m.f)(te.f.failure(r.t0));case 15:case"end":return r.stop()}}),ge,null,[[0,9]])}var Le=[Object(g.a)(Object(x.getType)(te.g.request),ve,!0),Object(g.a)(Object(x.getType)(te.h.request),ye,!0,!0),Object(g.a)(Object(x.getType)(te.c.request),Ce,!0),Object(g.a)(Object(x.getType)(te.i.request),Se,!0),Object(g.a)(Object(x.getType)(te.e),we,!0),Object(g.a)(Object(x.getType)(te.k.request),Ee,!0),Object(g.a)(Object(x.getType)(te.m.request),Re,!0),Object(g.a)(Object(x.getType)(te.l.request),Ae,!0),Object(g.a)(Object(x.getType)(te.o.request),_e,!0),Object(g.a)(Object(x.getType)(te.d.request),Ie,!0),Object(g.a)(Object(x.getType)(te.p.request),Fe,!0),Object(g.a)(Object(x.getType)(te.j.request),Ne,!0),Object(g.a)(Object(x.getType)(te.f.request),Ue,!0,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.l.apply(void 0,[1e3].concat(t))})),Object(g.a)([Object(x.getType)(te.k.success),Object(x.getType)(te.m.success),Object(x.getType)(te.l.success),Object(x.getType)(te.o.success),Object(x.getType)(te.d.success),Object(x.getType)(te.p.success)],ae.b)],De=n(34),Me=n(13),Pe=O.a.mark(Ke),Be=O.a.mark(Qe),He=O.a.mark(Ze),qe=O.a.mark(Je),Ge=O.a.mark($e),Ve=O.a.mark(et),ze=O.a.mark(tt),We=O.a.mark(nt),Ye=["action_listen","action_restart","action_session_started"];function Ke(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.cc,e,"default",n);case 4:return r=a.sent,a.next=7,Object(m.f)(De.j.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(De.j.failure(a.t0));case 15:case"end":return a.stop()}}),Pe,null,[[1,9]])}function Qe(e,t){var n,r,a,c,o,s,i,l,u,d;return O.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,Object(m.e)("history");case 2:return n=b.sent,r=t.payload,a=r.data,c=r.storyName,o=r.strictMode,s=r.undoingEvent,b.prev=4,b.next=7,Object(m.b)(y.j,e,a);case 7:return i=b.sent,b.next=10,Object(m.f)(De.h.success(i));case 10:return b.next=12,Object(m.f)(Me.h.success({conversation:i}));case 12:if(l=i.events,u=i.sender_id,d=l[l.length-1],"/interactive"===n.location.pathname||!a.conversation_id_to_copy_from){b.next=18;break}return n.push("/interactive?strict=".concat(!!o)),b.next=18,Object(m.f)(De.e({conversationId:u,storyName:c,strictMode:o}));case 18:if(!s||!Xe(s)){b.next=23;break}return b.next=21,Object(m.f)(De.j.request(s.text));case 21:b.next=26;break;case 23:if(!a.conversation_id_to_copy_from||"action"===d.event&&Ye.includes(d.name)){b.next=26;break}return b.next=26,Object(m.f)(De.i.request(u));case 26:b.next=34;break;case 28:return b.prev=28,b.t0=b.catch(4),b.next=32,Object(v.a)(b.t0);case 32:return b.next=34,Object(m.f)(De.h.failure(b.t0));case 34:case"end":return b.stop()}}),Be,null,[[4,28]])}function Xe(e){return"user"===e.event}function Ze(e,t){var n,r,a,c,o,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.events,a=n.createPayload,c=a.data.until,o=r.findIndex((function(e){return e.timestamp===c}))){e.next=5;break}return e.abrupt("return");case 5:if(s=r[o],i=r.slice(0,o).reverse(),!Xe(s))for(;i.length>0&&!Xe(i[0])&&"bot"!==i[0].event;)i=i.slice(1);if(0!==i.length){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(m.f)(De.h.request(Object(Q.a)(Object(Q.a)({},a),{},{data:Object(Q.a)(Object(Q.a)({},a.data),{},{until:i[0].timestamp}),undoingEvent:s})));case 12:case"end":return e.stop()}}),He)}function Je(e,t){var n,r,a,c;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.conversationId,a=n.event,o.prev=1,o.next=4,Object(m.b)(y.Rb,e,r,a);case 4:if("user"!==(c=o.sent).event){o.next=8;break}return o.next=8,Object(m.f)(Me.y.success({message:c,senderId:r}));case 8:return o.next=10,Object(m.f)(De.k.success(c));case 10:return o.next=12,Object(m.f)(De.i.request(r));case 12:o.next=20;break;case 14:return o.prev=14,o.t0=o.catch(1),o.next=18,Object(v.a)(o.t0);case 18:return o.next=20,Object(m.f)(Me.y.failure(o.t0));case 20:case"end":return o.stop()}}),qe,null,[[1,14]])}function $e(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(m.a)({prediction:Object(m.b)(y.hb,e,t),domainActions:Object(m.b)(y.F,e,"default")});case 2:return n=c.sent,r=n.prediction,a=n.domainActions,c.next=7,Object(m.f)(De.i.success({prediction:r,actions:a}));case 7:case"end":return c.stop()}}),Ge)}function et(e,t){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,$e(e,n);case 4:r.next=12;break;case 6:return r.prev=6,r.t0=r.catch(1),r.next=10,Object(v.a)(r.t0);case 10:return r.next=12,Object(m.f)(De.i.failure(r.t0));case 12:case"end":return r.stop()}}),Ve,null,[[1,6]])}function tt(e,t){var n,r,a,c,o;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.conversationId,a=n.confirmedAction,c=a.action,s.prev=2,s.next=5,Object(m.b)(y.h,e,r,c);case 5:return o=s.sent,s.next=8,Object(m.f)(De.f.success(o));case 8:if(!Ye.includes(c)){s.next=10;break}return s.abrupt("return");case 10:return s.next=12,$e(e,r);case 12:s.next=20;break;case 14:return s.prev=14,s.t0=s.catch(2),s.next=18,Object(v.a)(s.t0);case 18:return s.next=20,Object(m.f)(De.f.failure(s.t0));case 20:case"end":return s.stop()}}),ze,null,[[2,14]])}function nt(e,t){var n,r,a,c,o,s;return O.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.action,a=n.responses,c=n.conversationId,i.prev=1,i.next=4,Object(m.b)(y.Nb,e,"default",r);case 4:return o=i.sent,i.next=7,Object(m.a)(a.map((function(t){return Object(m.b)(y.Wb,e,Object(Q.a)(Object(Q.a)({},t),{},{response_name:o.name}))})));case 7:return i.next=9,Object(m.f)(De.g.success(o.name));case 9:return s={event:"action",name:o.name},i.next=12,Object(m.f)(De.k.request({conversationId:c,event:s}));case 12:i.next=20;break;case 14:return i.prev=14,i.t0=i.catch(1),i.next=18,Object(v.a)(i.t0);case 18:return i.next=20,Object(m.f)(De.g.failure(i.t0));case 20:case"end":return i.stop()}}),We,null,[[1,14]])}var rt=[Object(g.a)(Object(x.getType)(De.h.request),Qe,!0),Object(g.a)(Object(x.getType)(De.l),Ze,!0),Object(g.a)(Object(x.getType)(De.k.request),Je,!0),Object(g.a)(Object(x.getType)(De.j.request),Ke,!0),Object(g.a)(Object(x.getType)(De.i.request),et,!0),Object(g.a)(Object(x.getType)(De.f.request),tt,!0),Object(g.a)(Object(x.getType)(De.g.request),nt,!0)],at=n(411),ct=n(8),ot=n(27),st=O.a.mark(gt),it=O.a.mark(vt),lt=O.a.mark(yt),ut=O.a.mark(Ct),dt=O.a.mark(St),bt=O.a.mark(wt),ft=O.a.mark(Et),jt=O.a.mark(kt),pt=O.a.mark(Tt),ht=O.a.mark(Rt),Ot=O.a.mark(At),xt=O.a.mark(_t),mt=O.a.mark(It);function gt(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(y.X,e);case 3:return t=n.sent,n.next=6,Object(m.f)(ot.c.success(t.environments));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(v.a)(n.t0);case 12:return n.next=14,Object(m.f)(ot.c.failure(n.t0));case 14:case"end":return n.stop()}}),st,null,[[0,8]])}function vt(e,t){var n,r,a,c,o,s,i,l,u,d,b,f;return O.a.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return n=t.payload,r=n.search,a=n.offset,c=n.limit,o=n.tag,s=0===c?[1,0]:[c,a],i=Object(ct.a)(s,2),l=i[0],u=i[1],j.prev=2,j.next=5,Object(m.b)(y.kb,e,"default",l,u,o);case 5:return d=j.sent,b=d.models,f=d.total,j.next=10,Object(m.f)(ot.f.success({search:r,models:b,total:f,offset:a}));case 10:j.next=18;break;case 12:return j.prev=12,j.t0=j.catch(2),j.next=16,Object(v.a)(j.t0);case 16:return j.next=18,Object(m.f)(ot.f.failure(j.t0));case 18:case"end":return j.stop()}}),it,null,[[2,12]])}function yt(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(m.b)(y.s,e,"default",t.model)})),a.next=5,Object(m.a)(r);case 5:return a.next=7,Object(m.f)(ot.b.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(ot.b.failure(a.t0));case 15:case"end":return a.stop()}}),lt,null,[[1,9]])}function Ct(e,t){var n,r,a,c,o;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.model,a=n.environment,c=Array.isArray(a)?a:[a],s.prev=2,o=c.map((function(t){return Object(m.b)(y.gc,e,"default",r.model,t)})),s.next=6,Object(m.a)(o);case 6:return s.next=8,Object(m.f)(ot.a.success({model:r,environment:a}));case 8:s.next=16;break;case 10:return s.prev=10,s.t0=s.catch(2),s.next=14,Object(v.a)(s.t0);case 14:return s.next=16,Object(m.f)(ot.a.failure(s.t0));case 16:case"end":return s.stop()}}),ut,null,[[2,10]])}function St(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.model,a=n.environment,c.prev=1,c.next=4,Object(m.b)(y.t,e,"default",r.model,a);case 4:return c.next=6,Object(m.f)(ot.h.success());case 6:return c.next=8,Object(m.f)(ot.e.request());case 8:c.next=16;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(v.a)(c.t0);case 14:return c.next=16,Object(m.f)(ot.h.failure(c.t0));case 16:case"end":return c.stop()}}),dt,null,[[1,10]])}function wt(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(y.ic,e,"default");case 3:return t=n.sent,n.next=6,Object(m.f)(ot.k.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(v.a)(n.t0);case 12:return n.next=14,Object(m.f)(ot.k.failure(n.t0));case 14:case"end":return n.stop()}}),bt,null,[[0,8]])}function Et(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(y.fb,e);case 3:return t=n.sent,n.next=6,Object(m.f)(ot.e.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(v.a)(n.t0);case 12:return n.next=14,Object(m.f)(ot.e.failure(n.t0));case 14:case"end":return n.stop()}}),ft,null,[[0,8]])}function kt(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=t.payload,a.next=4,Object(m.b)(y.xc,e,"default",n);case 4:return r=a.sent,a.next=7,Object(m.f)(ot.l.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(ot.l.failure(a.t0));case 15:case"end":return a.stop()}}),jt,null,[[0,9]])}function Tt(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(m.f)(ot.e.request());case 3:return e.next=5,Object(m.i)([Object(x.getType)(ot.e.success),Object(x.getType)(ot.e.failure)]);case 5:return e.next=7,Object(m.d)(3e4);case 7:e.next=0;break;case 9:case"end":return e.stop()}}),pt)}function Rt(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.g)({poll:Object(m.b)(Tt),cancel:Object(m.i)(Object(x.getType)(_.h))});case 2:case"end":return e.stop()}}),ht)}function At(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.Y,e,"default",n.model);case 4:return r=a.sent,a.next=7,Object(m.f)(ot.d.success(r));case 7:a.next=19;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:if(!a.t0.response||404!==a.t0.response.status){a.next=17;break}return a.next=16,Object(m.f)(ot.i(n));case 16:return a.abrupt("return");case 17:return a.next=19,Object(m.f)(ot.d.failure(a.t0));case 19:case"end":return a.stop()}}),Ot,null,[[1,9]])}function _t(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.hc,e,"default",n.model);case 4:return r=a.sent,a.next=7,Object(m.f)(ot.d.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(ot.d.failure(a.t0));case 15:case"end":return a.stop()}}),xt,null,[[1,9]])}function It(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.f)(ot.f.request({search:"",limit:0,offset:0}));case 2:case"end":return e.stop()}}),mt)}var Ft=[Object(g.a)(Object(x.getType)(ot.c.request),gt,!0),Object(g.a)(Object(x.getType)(ot.f.request),vt,!0,!0),Object(g.a)(Object(x.getType)(ot.a.request),Ct,!0),Object(g.a)(Object(x.getType)(ot.h.request),St,!0),Object(g.a)(Object(x.getType)(ot.k.request),wt,!0),Object(g.a)(Object(x.getType)(ot.b.request),yt,!0),Object(g.a)(Object(x.getType)(ot.e.request),Et,!0),Object(g.a)(Object(x.getType)(ot.j),Rt,!0),Object(g.a)(Object(x.getType)(ot.d.request),At,!0),Object(g.a)(Object(x.getType)(ot.i),_t,!0),Object(g.a)(Object(x.getType)(ot.l.request),kt,!0),Object(g.a)([Object(x.getType)(ot.l.success),Object(x.getType)(ot.k.success)],It)],Nt=n(55),Ut=O.a.mark(Bt),Lt=O.a.mark(Ht),Dt=O.a.mark(qt),Mt=O.a.mark(Gt),Pt=O.a.mark(Vt);function Bt(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.ac,e,"default",n);case 4:return a.next=6,Object(m.f)(Nt.d.success(n));case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(1),a.t0.response&&400===a.t0.response.status&&(r=["Invalid YAML file","It looks like something is wrong with your YAML file. Please update it and try saving again."],a.t0.name=r[0],a.t0.message=r[1]),a.next=13,Object(m.f)(Nt.d.failure(a.t0));case 13:case"end":return a.stop()}}),Ut,null,[[1,8]])}function Ht(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(y.sb,e,"default");case 3:return t=n.sent,n.next=6,Object(m.f)(Nt.a.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(v.a)(n.t0);case 12:return n.next=14,Object(m.f)(Nt.a.failure(n.t0));case 14:case"end":return n.stop()}}),Lt,null,[[0,8]])}function qt(e,t){var n,r,a,c,o,s;return O.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.domain,a=n.storeResponses,c=n.onSuccess,i.prev=1,i.next=4,Object(m.b)(y.Pb,e,r,a);case 4:return o=i.sent,i.next=7,c&&c();case 7:return i.next=9,Object(m.f)(Nt.e.success(o));case 9:return i.next=11,Object(m.f)(Nt.c.request());case 11:i.next=18;break;case 13:return i.prev=13,i.t0=i.catch(1),i.t0.response&&400===i.t0.response.status&&(s=["Invalid YAML file","It looks like something is wrong with your YAML file. Please update it and try saving again."],i.t0.name=s[0],i.t0.message=s[1]),i.next=18,Object(m.f)(Nt.e.failure(i.t0));case 18:case"end":return i.stop()}}),Dt,null,[[1,13]])}function Gt(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(y.T,e);case 3:return t=n.sent,n.next=6,Object(m.f)(Nt.b.success(t));case 6:return n.next=8,Object(m.f)(Nt.c.request());case 8:n.next=16;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(v.a)(n.t0);case 14:return n.next=16,Object(m.f)(Nt.b.failure(n.t0));case 16:case"end":return n.stop()}}),Mt,null,[[0,10]])}function Vt(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(y.U,e);case 3:return t=n.sent,n.next=6,Object(m.f)(Nt.c.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(v.a)(n.t0);case 12:return n.next=14,Object(m.f)(Nt.c.failure(n.t0));case 14:case"end":return n.stop()}}),Pt,null,[[0,8]])}var zt=[Object(g.a)(Object(x.getType)(Nt.d.request),Bt,!0),Object(g.a)(Object(x.getType)(Nt.a.request),Ht,!0),Object(g.a)(Object(x.getType)(Nt.e.request),qt,!0),Object(g.a)(Object(x.getType)(Nt.b.request),Gt,!0),Object(g.a)(Object(x.getType)(Nt.c.request),Vt,!0),Object(g.a)([Object(x.getType)(Nt.e.success),Object(x.getType)(Nt.d.success)],ae.b)],Wt=O.a.mark(tn),Yt=O.a.mark(nn),Kt=O.a.mark(rn),Qt=O.a.mark(an),Xt=O.a.mark(cn),Zt=O.a.mark(on),Jt=O.a.mark(sn),$t=O.a.mark(ln),en=O.a.mark(un);function tn(e,t){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(m.b)(y.lb,e,"default",t);case 3:return n=r.sent,r.next=6,Object(m.f)(ne.g.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(v.a)(r.t0);case 12:return r.next=14,Object(m.f)(ne.g.failure(r.t0));case 14:case"end":return r.stop()}}),Wt,null,[[0,8]])}function nn(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.m,e,"default",n);case 4:return r=a.sent,a.next=7,Object(m.f)(ne.b.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(ne.b.failure(a.t0));case 15:case"end":return a.stop()}}),Yt,null,[[1,9]])}function rn(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.mc,e,"default",n);case 4:return r=a.sent,a.next=7,Object(m.f)(ne.i.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(ne.i.failure(a.t0));case 15:case"end":return a.stop()}}),Kt,null,[[1,9]])}function an(e,t){var n,r,a,c,o,s,i;return O.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.offset,a=n.limit,c=0===a?[1,0]:[a,r],l.prev=2,l.next=5,m.b.apply(void 0,[y.mb,e,"default"].concat(c));case 5:return o=l.sent,s=o.regexes,i=o.total,l.next=10,Object(m.f)(ne.h.success({regexes:s,total:i,offset:r}));case 10:l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(2),l.next=16,Object(v.a)(l.t0);case 16:return l.next=18,Object(m.f)(ne.h.failure(l.t0));case 18:case"end":return l.stop()}}),Qt,null,[[2,12]])}function cn(e,t){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(m.a)(n.map((function(t){return Object(m.b)(y.u,e,"default",t)})));case 4:return r.next=6,Object(m.f)(ne.d.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(v.a)(r.t0);case 12:return r.next=14,Object(m.f)(ne.d.failure(r.t0));case 14:case"end":return r.stop()}}),Xt,null,[[1,8]])}function on(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.l,e,"default",n);case 4:return r=a.sent,a.next=7,Object(m.f)(ne.a.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(ne.a.failure(a.t0));case 15:case"end":return a.stop()}}),Zt,null,[[1,9]])}function sn(e){var t,n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(y.jb,e,"default");case 3:return t=a.sent,n=t.lookupTables,r=t.total,a.next=8,Object(m.f)(ne.f.success({lookupTables:n,total:r}));case 8:a.next=16;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(v.a)(a.t0);case 14:return a.next=16,Object(m.f)(ne.f.failure(a.t0));case 16:case"end":return a.stop()}}),Jt,null,[[0,10]])}function ln(e,t){var n,r,a,c,o;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n=t.payload,r=n.filename,a=n.lookupTableId,s.next=4,Object(m.b)(y.ib,e,"default",a);case 4:return c=s.sent,o=new Blob([c],{type:"text/*;charset=utf-8"}),Object(J.saveAs)(o,r),s.next=9,Object(m.f)(ne.e.success(c));case 9:s.next=17;break;case 11:return s.prev=11,s.t0=s.catch(0),s.next=15,Object(v.a)(s.t0);case 15:return s.next=17,Object(m.f)(ne.e.failure(s.t0));case 17:case"end":return s.stop()}}),$t,null,[[0,11]])}function un(e,t){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(m.a)(n.map((function(t){return Object(m.b)(y.r,e,"default",t)})));case 4:return r.next=6,Object(m.f)(ne.c.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(v.a)(r.t0);case 12:return r.next=14,Object(m.f)(ne.c.failure(r.t0));case 14:case"end":return r.stop()}}),en,null,[[1,8]])}var dn=[Object(g.a)(Object(x.getType)(ne.a.request),on,!0,!0),Object(g.a)(Object(x.getType)(ne.b.request),nn,!0),Object(g.a)(Object(x.getType)(ne.c.request),un,!0,!0),Object(g.a)(Object(x.getType)(ne.d.request),cn,!0),Object(g.a)(Object(x.getType)(ne.e.request),ln,!0,!0),Object(g.a)(Object(x.getType)(ne.f.request),sn,!0,!0),Object(g.a)(Object(x.getType)(ne.g.request),tn,!0),Object(g.a)(Object(x.getType)(ne.h.request),an,!0,!0),Object(g.a)(Object(x.getType)(ne.i.request),rn,!0),Object(g.a)([Object(x.getType)(ne.a.success),Object(x.getType)(ne.b.success),Object(x.getType)(ne.c.success),Object(x.getType)(ne.d.success),Object(x.getType)(ne.i.success)],ae.b)],bn=n(43),fn=O.a.mark(mn),jn=O.a.mark(gn),pn=O.a.mark(vn),hn=O.a.mark(yn),On=O.a.mark(Cn),xn=O.a.mark(Sn);function mn(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.search,a.prev=1,a.next=4,Object(m.b)(y.eb,e,"",n,!0,!1);case 4:return r=a.sent,a.next=7,Object(m.f)(bn.b.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(bn.b.failure(a.t0));case 15:case"end":return a.stop()}}),fn,null,[[1,9]])}function gn(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((n=t.payload.search)&&""!==n){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.next=6,Object(m.b)(y.eb,e,n,n,!1,!1,50,0);case 6:return r=a.sent,a.next=9,Object(m.f)(bn.c.success(Object(Q.a)(Object(Q.a)({},r),{},{search:n})));case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(3),a.next=15,Object(v.a)(a.t0);case 15:return a.next=17,Object(m.f)(bn.c.failure(a.t0));case 17:case"end":return a.stop()}}),jn,null,[[3,11]])}function vn(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Object(Q.a)(Object(Q.a)({},t.payload),{},{isDirty:void 0}),a.prev=1,a.next=4,Object(m.b)(y.nc,e,n);case 4:return r=a.sent,a.next=7,Object(m.f)(bn.f.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(bn.f.failure(a.t0));case 15:case"end":return a.stop()}}),pn,null,[[1,9]])}function yn(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.name,a=n.newName,c.prev=1,c.next=4,Object(m.b)(y.oc,e,r,a);case 4:return c.next=6,Object(m.f)(bn.g.success({name:r,newName:a}));case 6:c.next=14;break;case 8:return c.prev=8,c.t0=c.catch(1),c.next=12,Object(v.a)(c.t0);case 12:return c.next=14,Object(m.f)(bn.g.failure(c.t0));case 14:case"end":return c.stop()}}),hn,null,[[1,8]])}function Cn(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.Wb,e,n);case 4:return r=a.sent,a.next=7,Object(m.f)(bn.d.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(bn.d.failure(a.t0));case 15:case"end":return a.stop()}}),On,null,[[1,9]])}function Sn(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(m.b)(y.v,e,t)})),a.next=5,Object(m.a)(r);case 5:return a.next=7,Object(m.f)(bn.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(bn.a.failure(a.t0));case 15:case"end":return a.stop()}}),xn,null,[[1,9]])}var wn=[Object(g.a)(Object(x.getType)(bn.b.request),mn,!0,!0),Object(g.a)(Object(x.getType)(bn.c.request),gn,!0,!0),Object(g.a)(Object(x.getType)(bn.d.request),Cn,!0),Object(g.a)(Object(x.getType)(bn.f.request),vn,!0),Object(g.a)(Object(x.getType)(bn.g.request),yn,!0),Object(g.a)(Object(x.getType)(bn.a.request),Sn,!0),Object(g.a)([Object(x.getType)(bn.d.success),Object(x.getType)(bn.f.success),Object(x.getType)(bn.g.success),Object(x.getType)(bn.a.success)],ae.b)],En=n(68),kn=O.a.mark(Fn),Tn=O.a.mark(Nn),Rn=O.a.mark(Un),An=O.a.mark(Ln),_n=O.a.mark(Dn),In=O.a.mark(Mn);function Fn(e,t){var n,r,a,c,o,s,i;return O.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.search,a=n.limit,c=n.offset,l.prev=1,l.next=4,Object(m.b)(y.pb,e,r,a,c);case 4:return o=l.sent,s=o.roles,i=o.total,l.next=9,Object(m.f)(En.d.success({roles:s,total:i,offset:c}));case 9:l.next=17;break;case 11:return l.prev=11,l.t0=l.catch(1),l.next=15,Object(v.a)(l.t0);case 15:return l.next=17,Object(m.f)(En.d.failure(l.t0));case 17:case"end":return l.stop()}}),kn,null,[[1,11]])}function Nn(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.nb,e,n);case 4:return r=a.sent,a.next=7,Object(m.f)(En.b.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(En.b.failure(a.t0));case 15:case"end":return a.stop()}}),Tn,null,[[1,9]])}function Un(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.ob,e,n);case 4:return r=a.sent,a.next=7,Object(m.f)(En.c.success({role:n,users:r}));case 7:return a.next=9,Object(m.f)(d.f(r));case 9:a.next=17;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(v.a)(a.t0);case 15:return a.next=17,Object(m.f)(En.c.failure(a.t0));case 17:case"end":return a.stop()}}),Rn,null,[[1,11]])}function Ln(e,t){var n,r,a,c,o,s;return O.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.role,a=n.users,c=n.onSaved,i.prev=1,i.next=4,Object(m.b)(y.Xb,e,r);case 4:if(o=i.sent,!a){i.next=11;break}return i.next=8,Object(m.b)(y.Yb,e,r,a);case 8:i.t0=i.sent,i.next=12;break;case 11:i.t0=void 0;case 12:return s=i.t0,i.next=15,Object(m.f)(En.f.success({role:o,users:s}));case 15:if(!s){i.next=18;break}return i.next=18,Object(m.f)(d.f(s));case 18:null===c||void 0===c||c(),i.next=27;break;case 21:return i.prev=21,i.t1=i.catch(1),i.next=25,Object(v.a)(i.t1);case 25:return i.next=27,Object(m.f)(En.f.failure(i.t1));case 27:case"end":return i.stop()}}),An,null,[[1,21]])}function Dn(e,t){var n,r,a,c,o,s,i;return O.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.currentId,a=n.role,c=n.users,o=n.onSaved,l.prev=1,l.next=4,Object(m.b)(y.qc,e,a,r);case 4:if(s=l.sent,!c){l.next=11;break}return l.next=8,Object(m.b)(y.Yb,e,a,c);case 8:l.t0=l.sent,l.next=12;break;case 11:l.t0=void 0;case 12:return i=l.t0,l.next=15,Object(m.f)(En.g.success({currentId:r,role:s,users:[]}));case 15:if(!i){l.next=18;break}return l.next=18,Object(m.f)(d.f(i));case 18:null===o||void 0===o||o(),l.next=27;break;case 21:return l.prev=21,l.t1=l.catch(1),l.next=25,Object(v.a)(l.t1);case 25:return l.next=27,Object(m.f)(En.g.failure(l.t1));case 27:case"end":return l.stop()}}),_n,null,[[1,21]])}function Mn(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(m.b)(y.w,e,t)})),a.next=5,Object(m.a)(r);case 5:return a.next=7,Object(m.f)(En.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(En.a.failure(a.t0));case 15:case"end":return a.stop()}}),In,null,[[1,9]])}var Pn=[Object(g.a)(Object(x.getType)(En.b.request),Nn,!0),Object(g.a)(Object(x.getType)(En.d.request),Fn,!0),Object(g.a)(Object(x.getType)(En.c.request),Un,!0),Object(g.a)(Object(x.getType)(En.f.request),Ln,!0),Object(g.a)(Object(x.getType)(En.g.request),Dn,!0),Object(g.a)(Object(x.getType)(En.a.request),Mn,!0)],Bn=n(64),Hn=n(44),qn=O.a.mark(Xn),Gn=O.a.mark(Zn),Vn=O.a.mark(Jn),zn=O.a.mark(er),Wn=O.a.mark(tr),Yn=O.a.mark(nr),Kn=Object(Bn.b)(y.qb,Hn.f,(function(e,t){var n=e.total;return{rules:e.rules,total:n,offset:t.offset}}),(function(e){return[e.search,e.limit,e.offset]})),Qn=Object(Bn.b)(y.rb,Hn.g);function Xn(e,t){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(Array.isArray(t.payload)?t.payload:[t.payload]).length){n.next=5;break}return n.next=4,Object(m.f)(Hn.g.success(""));case 4:return n.abrupt("return");case 5:return n.next=7,Qn(e,t);case 7:case"end":return n.stop()}}),qn)}function Zn(e,t){var n,r,a,c;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.story,a=n.isMarkdown,o.prev=1,o.next=4,Object(m.b)(y.rc,e,r,a);case 4:return c=o.sent,o.next=7,Object(m.f)(Hn.j.success(c));case 7:o.next=15;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(v.a)(o.t0);case 13:return o.next=15,Object(m.f)(Hn.j.failure(o.t0));case 15:case"end":return o.stop()}}),Gn,null,[[1,9]])}function Jn(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.story,a.prev=1,a.next=4,Object(m.b)(y.Zb,e,n,!1);case 4:return r=a.sent,a.next=7,Object(m.f)(Hn.i.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(Hn.i.failure(a.t0));case 15:case"end":return a.stop()}}),Vn,null,[[1,9]])}var $n=Object(Bn.b)(y.x,Hn.d,(function(e,t){return t}));function er(e){var t,n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(m.b)(y.D,e);case 3:t=r.sent,n=new Blob([t],{type:"text/yaml;charset=utf-8"}),saveAs(n,"rules.yml"),r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(v.a)(r.t0);case 12:return r.next=14,Object(m.f)(Hn.f.failure(r.t0));case 14:case"end":return r.stop()}}),zn,null,[[0,8]])}function tr(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload.stories,"text/yaml",c.prev=2,c.next=5,Object(m.b)(y.Lb,e,n,"text/yaml");case 5:return r=c.sent,c.next=8,Object(m.f)(Hn.h.success(r));case 8:return c.next=10,Object(m.h)((function(e){return e.rules.searchQuery}));case 10:return a=c.sent,c.next=13,Object(m.f)(Hn.f.request(a));case 13:c.next=21;break;case 15:return c.prev=15,c.t0=c.catch(2),c.next=19,Object(v.a)(c.t0);case 19:return c.next=21,Object(m.f)(Hn.h.failure(c.t0));case 21:case"end":return c.stop()}}),Wn,null,[[2,15]])}function nr(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,"text/yaml",c.prev=2,c.next=5,Object(m.b)(y.a,e,n,"text/yaml");case 5:return r=c.sent,c.next=8,Object(m.f)(Hn.a.success(r));case 8:return c.next=10,Object(m.h)((function(e){return e.rules.searchQuery}));case 10:return a=c.sent,c.next=13,Object(m.f)(Hn.f.request(a));case 13:c.next=21;break;case 15:return c.prev=15,c.t0=c.catch(2),c.next=19,Object(v.a)(c.t0);case 19:return c.next=21,Object(m.f)(Hn.a.failure(c.t0));case 21:case"end":return c.stop()}}),Yn,null,[[2,15]])}var rr=[Object(g.b)(Hn.f.request,Kn),Object(g.b)(Hn.g.request,Xn),Object(g.b)(Hn.i.request,Jn),Object(g.b)(Hn.j.request,Zn),Object(g.b)(Hn.d.request,$n),Object(g.b)(Hn.a.request,nr),Object(g.b)(Hn.h.request,tr),Object(g.b)(Hn.e,er)],ar=n(36),cr=O.a.mark(fr),or=O.a.mark(jr),sr=O.a.mark(pr),ir=O.a.mark(Or),lr=O.a.mark(xr),ur=O.a.mark(mr),dr=Object(Bn.b)(y.wb,ar.f,(function(e,t){var n=e.total;return{stories:e.stories,total:n,offset:t.offset}}),(function(e){return[e.search,e.limit,e.offset]})),br=Object(Bn.b)(y.Fb,ar.g);function fr(e,t){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(Array.isArray(t.payload)?t.payload:[t.payload]).length){n.next=5;break}return n.next=4,Object(m.f)(ar.g.success(""));case 4:return n.abrupt("return");case 5:return n.next=7,br(e,t);case 7:case"end":return n.stop()}}),cr)}function jr(e,t){var n,r,a,c;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.story,a=n.isMarkdown,o.prev=1,o.next=4,Object(m.b)(y.sc,e,r,a);case 4:return c=o.sent,o.next=7,Object(m.f)(ar.m.success(c));case 7:o.next=15;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(v.a)(o.t0);case 13:return o.next=15,Object(m.f)(ar.m.failure(o.t0));case 15:case"end":return o.stop()}}),or,null,[[1,9]])}function pr(e,t){var n,r,a,c;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.story,a=n.isMarkdown,o.prev=1,o.next=4,Object(m.b)(y.bc,e,r,a);case 4:return c=o.sent,o.next=7,Object(m.f)(ar.i.success(c));case 7:o.next=15;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(v.a)(o.t0);case 13:return o.next=15,Object(m.f)(ar.i.failure(o.t0));case 15:case"end":return o.stop()}}),sr,null,[[1,9]])}var hr=Object(Bn.b)(y.y,ar.d,(function(e,t){return t}));function Or(e){var t,n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(m.b)(y.E,e);case 3:t=r.sent,n=new Blob([t],{type:"text/yaml;charset=utf-8"}),Object(J.saveAs)(n,"stories.yml"),r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(v.a)(r.t0);case 12:return r.next=14,Object(m.f)(ar.f.failure(r.t0));case 14:case"end":return r.stop()}}),ir,null,[[0,8]])}function xr(e,t){var n,r,a,c;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=t.payload,r="application/json";try{JSON.parse(n)}catch(s){r="text/yaml"}return o.prev=3,o.next=6,Object(m.b)(y.b,e,n,r);case 6:return a=o.sent,o.next=9,Object(m.f)(ar.a.success(a));case 9:return o.next=11,Object(m.h)((function(e){return e.stories.searchQuery}));case 11:return c=o.sent,o.next=14,Object(m.f)(ar.f.request(c));case 14:o.next=22;break;case 16:return o.prev=16,o.t0=o.catch(3),o.next=20,Object(v.a)(o.t0);case 20:return o.next=22,Object(m.f)(ar.a.failure(o.t0));case 22:case"end":return o.stop()}}),lr,null,[[3,16]])}function mr(e,t){var n,r,a,c,o,s;return O.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=n.stories,a=n.fileName,c=Object(oe.a)(a),i.prev=2,i.next=5,Object(m.b)(y.Mb,e,r,c);case 5:return o=i.sent,i.next=8,Object(m.f)(ar.h.success(o));case 8:return i.next=10,Object(m.h)((function(e){return e.stories.searchQuery}));case 10:return s=i.sent,i.next=13,Object(m.f)(ar.f.request(s));case 13:i.next=21;break;case 15:return i.prev=15,i.t0=i.catch(2),i.next=19,Object(v.a)(i.t0);case 19:return i.next=21,Object(m.f)(ar.h.failure(i.t0));case 21:case"end":return i.stop()}}),ur,null,[[2,15]])}var gr=[Object(g.b)(ar.f.request,dr),Object(g.b)(ar.g.request,fr),Object(g.b)(ar.i.request,pr),Object(g.b)(ar.m.request,jr),Object(g.b)(ar.d.request,hr),Object(g.b)(ar.a.request,xr),Object(g.b)(ar.h.request,mr),Object(g.b)(ar.e,Or)],vr=n(48),yr=O.a.mark(kr),Cr=O.a.mark(Tr),Sr=O.a.mark(_r),wr=O.a.mark(Ir),Er=O.a.mark(Fr);function kr(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.cc,e,"default",n);case 4:return r=a.sent,a.next=7,Object(m.f)(vr.f.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(vr.f.failure(a.t0));case 15:case"end":return a.stop()}}),yr,null,[[1,9]])}function Tr(e,t){var n,r,a,c,o,s;return O.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.payload,r=ee()(n),i.prev=2,i.next=5,Object(m.a)({suggestion:Object(m.b)(ce(y.xb,e,"default",r)),example:Object(m.b)(ce(y.Z,e,"default",r))});case 5:return a=i.sent,c=a.suggestion,o=a.example,s=[c,o].reduce((function(e,t){if("response"in t&&t.response){if(404!==t.response.status)throw t;return e}return!0}),!1),i.next=11,Object(m.f)(vr.b.success(s));case 11:i.next=19;break;case 13:return i.prev=13,i.t0=i.catch(2),i.next=17,Object(v.a)(i.t0);case 17:return i.next=19,Object(m.f)(vr.b.failure(i.t0));case 19:case"end":return i.stop()}}),Cr,null,[[2,13]])}function Rr(e,t){var n=e.payload,r=n.offset,a=n.limit;return 0===r||t<r+a}function Ar(e,t){var n=e.payload,r=n.offset,a=r+n.limit,c=0===r,o=c?a:a-t;return{offset:c?0:t,limit:50*Math.ceil(o/50)}}function _r(e,t){var n,r,a,c,o,s,i,l,u,d,b,f,j,p,h,x;return O.a.wrap((function(O){for(;;)switch(O.prev=O.next){case 0:return n=t.payload,r=n.offset,a=n.search,c=n.sortBy,o=n.sortOrder,O.next=3,Object(m.h)((function(e){return e.suggestions.totalFetched}));case 3:if(s=O.sent,Rr(t,s)){O.next=6;break}return O.abrupt("return");case 6:return i=Ar(t,s),l=i.offset,u=i.limit,O.next=9,Object(m.f)(vr.h(l+u));case 9:return O.prev=9,d=Z.a.parse(a),b=d.getAllText(),f=d.getConditionArray().filter((function(e){return"intent"===e.keyword})).map((function(e){return e.value})).join(","),O.next=15,Object(m.b)(y.yb,e,"default",b,f,u,l,c,o);case 15:return j=O.sent,p=j.suggestions,h=j.total,x=0===r?h:void 0,O.next=21,Object(m.f)(vr.d.success({suggestions:p,total:x,limit:u,offset:l}));case 21:O.next=29;break;case 23:return O.prev=23,O.t0=O.catch(9),O.next=27,Object(v.a)(O.t0);case 27:return O.next=29,Object(m.f)(vr.d.failure(O.t0));case 29:case"end":return O.stop()}}),Sr,null,[[9,23]])}function Ir(e,t){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.isArray(t.payload)?t.payload:[t.payload],r.prev=1,r.next=4,Object(m.a)(n.map((function(t){return Object(m.b)(y.z,e,"default",t)})));case 4:return r.next=6,Object(m.f)(vr.c.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(v.a)(r.t0);case 12:return r.next=14,Object(m.f)(vr.c.failure(r.t0));case 14:case"end":return r.stop()}}),wr,null,[[1,8]])}function Fr(e,t){var n,r,a,c,o;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.payload,r=n.suggestionId,a=n.entities,s.prev=1,s.next=4,Object(m.a)(a.map((function(t){return Object(m.b)(y.zb,e,"default","","",t.value)})));case 4:return c=s.sent,o=c.map((function(e){return e.synonyms[0]})),s.next=8,Object(m.f)(vr.e.success({suggestionId:r,entities:a,synonyms:o}));case 8:s.next=16;break;case 10:return s.prev=10,s.t0=s.catch(1),s.next=14,Object(v.a)(s.t0);case 14:return s.next=16,Object(m.f)(vr.e.failure(s.t0));case 16:case"end":return s.stop()}}),Er,null,[[1,10]])}var Nr=[Object(g.a)(Object(x.getType)(vr.f.request),kr,!0),Object(g.a)(Object(x.getType)(vr.b.request),Tr,!0),Object(g.a)(Object(x.getType)(vr.e.request),Fr,!0,!0),Object(g.a)(Object(x.getType)(vr.d.request),_r,!0,!1),Object(g.a)(Object(x.getType)(vr.c.request),Ir,!0),Object(g.a)([Object(x.getType)(vr.f.success),Object(x.getType)(vr.c.success)],ae.b)],Ur=O.a.mark(Hr),Lr=O.a.mark(qr),Dr=O.a.mark(Gr),Mr=O.a.mark(Vr),Pr=O.a.mark(zr),Br=O.a.mark(Wr);function Hr(e,t){var n,r,a,c,o,s,i;return O.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.payload,r=n.search,a=n.mappedValue,l.prev=1,c=Z.a.parse(r),o=c.getAllText(),s=c.getConditionArray().filter((function(e){return"reference"===e.keyword})).map((function(e){return e.value})).join(","),l.next=7,Object(m.b)(y.zb,e,"default",o,s,a||"");case 7:return i=l.sent,l.next=10,Object(m.f)(re.b.success(i));case 10:l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(1),l.next=16,Object(v.a)(l.t0);case 16:return l.next=18,Object(m.f)(re.b.failure(l.t0));case 18:case"end":return l.stop()}}),Ur,null,[[1,12]])}function qr(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,a.next=4,Object(m.b)(y.dc,e,"default",n);case 4:return r=a.sent,a.next=7,Object(m.f)(re.c.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(re.c.failure(a.t0));case 15:case"end":return a.stop()}}),Lr,null,[[1,9]])}function Gr(e,t){var n,r,a,c;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.synonymId,a=n.valueId,c=n.newValue,o.prev=1,o.next=4,Object(m.b)(y.uc,e,"default",r,a,c);case 4:return o.next=6,Object(m.f)(re.f.success(n));case 6:o.next=14;break;case 8:return o.prev=8,o.t0=o.catch(1),o.next=12,Object(v.a)(o.t0);case 12:return o.next=14,Object(m.f)(re.f.failure(o.t0));case 14:case"end":return o.stop()}}),Dr,null,[[1,8]])}function Vr(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.synonymId,a=n.value,c.prev=1,c.next=4,Object(m.b)(y.tc,e,"default",r,a);case 4:return c.next=6,Object(m.f)(re.e.success(n));case 6:c.next=14;break;case 8:return c.prev=8,c.t0=c.catch(1),c.next=12,Object(v.a)(c.t0);case 12:return c.next=14,Object(m.f)(re.e.failure(c.t0));case 14:case"end":return c.stop()}}),Mr,null,[[1,8]])}function zr(e,t){var n,r,a,c;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.id,a=n.mapped_values,o.prev=1,o.next=4,Object(m.b)(y.ec,e,"default",r,{mapped_values:a});case 4:return c=o.sent,o.next=7,Object(m.f)(re.d.success({id:r,mapped_values:c}));case 7:o.next=15;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(v.a)(o.t0);case 13:return o.next=15,Object(m.f)(re.d.failure(o.t0));case 15:case"end":return o.stop()}}),Pr,null,[[1,9]])}function Wr(e,t){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(m.a)(n.map((function(t){var n=t.synonymId,r=t.valueId;return Object(m.b)(y.A,e,"default",n,r)})));case 4:return r.next=6,Object(m.a)(n.map((function(e){return Object(m.f)(re.a.success(e))})));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(v.a)(r.t0);case 12:return r.next=14,Object(m.f)(re.a.failure(r.t0));case 14:case"end":return r.stop()}}),Br,null,[[1,8]])}var Yr=[Object(g.a)(Object(x.getType)(re.a.request),Wr,!0),Object(g.a)(Object(x.getType)(re.b.request),Hr,!0,!0),Object(g.a)(Object(x.getType)(re.c.request),qr,!0),Object(g.a)(Object(x.getType)(re.d.request),zr,!0),Object(g.a)(Object(x.getType)(re.e.request),Vr,!0),Object(g.a)(Object(x.getType)(re.f.request),Gr,!0)],Kr=n(101),Qr=O.a.mark(Jr),Xr=O.a.mark($r),Zr=O.a.mark(ea);function Jr(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m.b)(y.Ab,e);case 3:return t=n.sent,n.next=6,Object(m.f)(Kr.a.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(v.a)(n.t0);case 12:return n.next=14,Object(m.f)(Kr.a.failure(n.t0));case 14:case"end":return n.stop()}}),Qr,null,[[0,8]])}function $r(e,t){var n,r,a,c,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.payload,r=n.userId,a=n.name,c=n.email,o=n.checkboxChecked,e.next=4,Object(m.b)(y.Vb,r,a,c,o);case 4:return e.next=6,Object(m.f)(Kr.b.success({}));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(m.f)(Kr.b.failure(e.t0));case 12:case"end":return e.stop()}}),Xr,null,[[0,8]])}function ea(e,t){var n,r,a;return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n=t.payload,r=n.event,a=n.payload,c.next=4,Object(m.b)(y.Ib,e,r,a);case 4:return c.next=6,Object(m.f)(Kr.c.success({}));case 6:c.next=14;break;case 8:return c.prev=8,c.t0=c.catch(0),c.next=12,Object(v.a)(c.t0);case 12:return c.next=14,Object(m.f)(Kr.c.failure(c.t0));case 14:case"end":return c.stop()}}),Zr,null,[[0,8]])}var ta=[Object(g.a)(Object(x.getType)(Kr.a.request),Jr,!0),Object(g.a)(Object(x.getType)(Kr.b.request),$r,!0),Object(g.a)(Object(x.getType)(Kr.c.request),ea,!0)],na=n(132),ra=O.a.mark(ua),aa=O.a.mark(da),ca=O.a.mark(ba),oa=O.a.mark(fa),sa=O.a.mark(ja),ia=O.a.mark(pa),la=Object(Bn.a)(y.Cb,d.b);function ua(e){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.f)(Object(l.send)(y.d(e)));case 2:case"end":return t.stop()}}),ra)}function da(e,t){var n,r,a,c,o,s,i,l,u,b;return O.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return n=t.payload,r=n.search,a=n.limit,c=n.offset,f.prev=1,o=Z.a.parse(r),s=o.getAllText(),i=o.getConditionArray().filter((function(e){return"role"===e.keyword})).map((function(e){return e.value})).join(","),f.next=7,Object(m.b)(y.Db,e,s,i,a,c);case 7:return l=f.sent,u=l.users,b=l.total,f.next=12,Object(m.f)(d.c.success({users:u,total:b,limit:a,offset:c,search:r}));case 12:f.next=24;break;case 14:return f.prev=14,f.t0=f.catch(1),f.next=18,Object(v.a)(f.t0);case 18:if(404!==f.t0.response.status){f.next=22;break}return f.next=21,Object(m.f)(d.c.success({users:[],total:0,limit:a,offset:c,search:r}));case 21:return f.abrupt("return");case 22:return f.next=24,Object(m.f)(d.c.failure(f.t0));case 24:case"end":return f.stop()}}),aa,null,[[1,14]])}function ba(e,t){var n;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.payload,r.prev=1,r.next=4,Object(m.b)(y.vc,e,n);case 4:return r.next=6,Object(m.f)(d.h.success(n));case 6:r.next=14;break;case 8:return r.prev=8,r.t0=r.catch(1),r.next=12,Object(v.a)(r.t0);case 12:return r.next=14,Object(m.f)(d.h.failure(r.t0));case 14:case"end":return r.stop()}}),ca,null,[[1,8]])}function fa(e,t){var n,r,a,c;return O.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.payload,r=n.userIndex,a=n.user,c=n.roles,o.prev=1,o.delegateYield(O.a.mark((function t(){var n,o,s,i,l,u,b;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.b)(y.fc,e,a,c);case 2:return n=t.sent,t.next=5,Object(m.f)(d.e.success({userIndex:r,user:n}));case 5:o=Object(na.a)(a.roles.filter((function(e){return!n.roles.includes(e)}))),t.prev=6,o.s();case 8:if((s=o.n()).done){t.next=14;break}return i=s.value,t.next=12,Object(m.f)(En.e({role:i,updateFn:function(e){return e.users_count=(e.users_count||1)-1,e}}));case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),o.e(t.t0);case 19:return t.prev=19,o.f(),t.finish(19);case 22:l=Object(na.a)(n.roles.filter((function(e){return!a.roles.includes(e)}))),t.prev=23,l.s();case 25:if((u=l.n()).done){t.next=31;break}return b=u.value,t.next=29,Object(m.f)(En.e({role:b,updateFn:function(e){return e.users_count=(e.users_count||0)+1,e}}));case 29:t.next=25;break;case 31:t.next=36;break;case 33:t.prev=33,t.t1=t.catch(23),l.e(t.t1);case 36:return t.prev=36,l.f(),t.finish(36);case 39:case"end":return t.stop()}}),t,null,[[6,16,19,22],[23,33,36,39]])}))(),"t0",3);case 3:o.next=11;break;case 5:return o.prev=5,o.t1=o.catch(1),o.next=9,Object(v.a)(o.t1);case 9:return o.next=11,Object(m.f)(d.e.failure(o.t1));case 11:case"end":return o.stop()}}),oa,null,[[1,5]])}function ja(e,t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,a.prev=1,r=n.map((function(t){return Object(m.b)(y.B,e,t)})),a.next=5,Object(m.a)(r);case 5:return a.next=7,Object(m.f)(d.a.success(n));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.a)(a.t0);case 13:return a.next=15,Object(m.f)(d.a.failure(a.t0));case 15:case"end":return a.stop()}}),sa,null,[[1,9]])}function pa(e){var t,n,r,a,c,o,s,i,l;return O.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.topic,r=t.name,a="".concat(n,"_").concat(r),c=function(e){return e.users.currentUser},u.next=5,Object(m.h)(c);case 5:if(!(o=u.sent)){u.next=12;break}if(-1!==(i=(null===(s=o.data)||void 0===s?void 0:s.viewed_hints)||[]).indexOf(a)){u.next=12;break}return l=Object(Q.a)(Object(Q.a)({},o),{},{data:Object(Q.a)(Object(Q.a)({},o.data),{},{viewed_hints:[].concat(Object(p.a)(i),[a])})}),u.next=12,Object(m.f)(d.h.request(l));case 12:case"end":return u.stop()}}),ia)}var ha=[Object(g.a)(Object(x.getType)(d.b.request),la,!0),Object(g.a)(Object(x.getType)(d.c.request),da,!0),Object(g.a)(Object(x.getType)(d.h.request),ba,!0),Object(g.a)(Object(x.getType)(d.e.request),fa,!0),Object(g.a)(Object(x.getType)(d.a.request),ja,!0),Object(g.a)(Object(x.getType)(d.b.success),ua,!0),Object(g.a)(Object(x.getType)(d.d),pa)],Oa=[].concat(Object(p.a)(E),Object(p.a)(A),Object(p.a)(K),Object(p.a)(Le),Object(p.a)(ae.a),Object(p.a)(rt),Object(p.a)(at.b),Object(p.a)(Ft),Object(p.a)(zt),Object(p.a)(dn),Object(p.a)(wn),Object(p.a)(Pn),Object(p.a)(rr),Object(p.a)(gr),Object(p.a)(Nr),Object(p.a)(Yr),Object(p.a)(ta),Object(p.a)(ha)),xa=n(511),ma={version:null};var ga=n(9),va=n(163),ya=n(412),Ca=n.n(ya),Sa={draftExampleExists:!1,examples:[],correction:null,intents:[],error:{},loading:{},searchQuery:"",warnings:[],entityTypes:[]},wa=Object(va.a)((function(e,t){switch(t.type){case Object(x.getType)(_.h):return Sa;case Object(x.getType)(te.h.request):e.loading.fetchExamples=!0,e.error.fetchExamples=null,e.searchQuery=t.payload.search;break;case Object(x.getType)(te.h.success):var n,r=t.payload,a=r.examples,c=r.total,o=r.offset,s=a.map((function(e){return Object(Q.a)(Object(Q.a)({},e),{},{entities:e.entities.map((function(e){return Object(Q.a)(Object(Q.a)({},e),{},{id:Ca()()})}))})}));(n=e.examples).splice.apply(n,[o||0,a.length].concat(Object(p.a)(s))),e.examples.length=c,e.loading.fetchExamples=!1;break;case Object(x.getType)(te.h.failure):e.loading.fetchExamples=!1,e.error.fetchExamples=t.payload;break;case Object(x.getType)(te.g.request):e.loading.fetchExample=!0,e.error.fetchExample=null;break;case Object(x.getType)(te.g.success):case Object(x.getType)(te.l.success):e.correction=t.payload,e.loading.fetchExample=!1;break;case Object(x.getType)(te.g.failure):e.correction=null,e.loading.fetchExample=!1;break;case Object(x.getType)(te.i.request):e.loading.fetchIntents=!0,e.error.fetchIntents=null;break;case Object(x.getType)(te.i.success):e.intents=t.payload.sort(),e.loading.fetchIntents=!1;break;case Object(x.getType)(te.i.failure):e.loading.fetchIntents=!1,e.error.fetchIntents=t.payload;break;case Object(x.getType)(te.k.success):case Object(x.getType)(te.m.success):var i,l=Array.isArray(t.payload)?t.payload:[t.payload];e.intents=Object(p.a)(new Set([].concat(Object(p.a)(e.intents),Object(p.a)(l.map((function(e){return e.intent})))))),(i=e.examples).splice.apply(i,[0,0].concat(Object(p.a)(l)));break;case Object(x.getType)(te.b):case Object(x.getType)(te.o.success):var u=t.payload;t.type===Object(x.getType)(te.b)&&(u.isDirty=!0);var d=e.examples.findIndex((function(e){return e&&e.id===u.id}));e.examples[d]=u;break;case Object(x.getType)(te.d.success):var b=t.payload,f=e.examples.findIndex((function(e){return e&&e.id===b.id}));e.examples.splice(f,1);break;case Object(x.getType)(te.a):e.correction=t.payload,e.correction&&(e.correction.isDirty=!0);break;case Object(x.getType)(te.p.request):e.loading.uploadExamples=!0,e.error.uploadExamples=null;break;case Object(x.getType)(te.p.success):e.loading.uploadExamples=!1,e.examples=[];break;case Object(x.getType)(te.p.failure):e.loading.uploadExamples=!1,e.error.uploadExamples=t.payload;break;case Object(x.getType)(te.j.success):e.warnings=t.payload;break;case Object(x.getType)(te.f.success):e.entityTypes=t.payload;break;case Object(x.getType)(te.n):e.searchQuery=t.payload;break;case Object(x.getType)(te.c.success):e.draftExampleExists=t.payload}}),Sa),Ea=n(33),ka={total:0,error:{},loading:{},gitRepositories:[],activeGitRepository:null,activeRepositoryStatus:null,generatedSshKey:null},Ta=Object(va.a)((function(e,t){switch(t.type){case Object(x.getType)(Ea.e.request):e.loading.fetchGitRepositories=!0,e.error.fetchGitRepositories=null;break;case Object(x.getType)(Ea.e.success):var n=t.payload,r=n.gitRepositories,a=n.total;e.gitRepositories=r,e.activeGitRepository=r.slice(-1)[0],e.total=a,e.loading.fetchGitRepositories=!1;break;case Object(x.getType)(Ea.e.failure):e.loading.fetchGitRepositories=!1,e.error.fetchGitRepositories=t.payload;break;case Object(x.getType)(Ea.g.request):e.loading.fetchSshKey=!0,e.error.fetchSshKey=null;break;case Object(x.getType)(Ea.g.success):var c=t.payload.public_ssh_key;e.generatedSshKey=c,e.loading.fetchSshKey=!1;break;case Object(x.getType)(Ea.g.failure):e.loading.fetchSshKey=!1,e.error.fetchSshKey=t.payload;break;case Object(x.getType)(Ea.d.request):e.loading.deleteGitRepository=!0,e.error.deleteGitRepository=null;break;case Object(x.getType)(Ea.d.success):var o,s=t.payload.repositoryId;e.gitRepositories=e.gitRepositories.filter((function(e){return e.id!==s})),(null===(o=e.activeGitRepository)||void 0===o?void 0:o.id)===s&&(e.activeGitRepository=null),e.loading.deleteGitRepository=!1;break;case Object(x.getType)(Ea.d.failure):e.loading.deleteGitRepository=!1,e.error.deleteGitRepository=t.payload;break;case Object(x.getType)(Ea.c.request):e.loading.connectGitRepository=!0,e.error.connectGitRepository=null;break;case Object(x.getType)(Ea.c.success):e.activeGitRepository=t.payload,e.loading.connectGitRepository=!1;break;case Object(x.getType)(Ea.c.failure):e.loading.connectGitRepository=!1,e.error.connectGitRepository=t.payload;break;case Object(x.getType)(Ea.j.request):e.loading.updateGitRepository=!0,e.error.updateGitRepository=null;break;case Object(x.getType)(Ea.j.success):e.activeGitRepository=t.payload,e.loading.updateGitRepository=!1;break;case Object(x.getType)(Ea.j.failure):e.loading.updateGitRepository=!1,e.error.updateGitRepository=t.payload;break;case Object(x.getType)(Ea.f.request):e.loading.fetchGitRepositoryStatus=!0,e.error.fetchGitRepositoryStatus=null;break;case Object(x.getType)(Ea.f.success):e.activeRepositoryStatus=t.payload,e.loading.fetchGitRepositoryStatus=!1;break;case Object(x.getType)(Ea.f.failure):e.loading.fetchGitRepositoryStatus=!1,e.error.fetchGitRepositoryStatus=t.payload;break;case Object(x.getType)(Ea.b.request):e.loading.commitGitChanges=!0,e.error.commitGitChanges=null;break;case Object(x.getType)(Ea.b.success):e.loading.commitGitChanges=!1;break;case Object(x.getType)(Ea.b.failure):e.loading.commitGitChanges=!1,e.error.commitGitChanges=t.payload}}),ka),Ra=n(115),Aa=n(87),_a=n(85),Ia=n.n(_a),Fa=n(41),Na=n(131),Ua={error:{evaluation:null,uploadModel:null},trainingFailed:!1,currentTrainingProcesses:0,models:{},latestModelIsNew:!1,modelIsTraining:!1,modelExists:!1,total:0,confusionValues:[],cleanState:{training:!0,uploading:!0},evaluation:null,evaluationFilter:null,environments:[],environmentsHealth:{},loading:{evaluation:!1,models:!1,uploadModel:!1},f1Score:0,accuracy:0,filter:"all"};var La=n(23),Da={config:"",domain:"",domainWarnings:[],error:null};var Ma={error:{},loading:{},lookupTables:{},lookupTablesTotal:0,regexes:{},regexesTotal:0,selectedRegex:null};var Pa,Ba={error:{},loading:{},responseNames:[],groupedResponses:[],searchQuery:"",suggestionsQuery:"",suggestions:[],total:0},Ha=Object(va.a)((function(e,t){switch(t.type){case Object(x.getType)(bn.b.request):e.loading.fetchGroupedResponses=!0,e.error.fetchGroupedResponses=null,e.searchQuery=t.payload.search;break;case Object(x.getType)(bn.b.success):var n=t.payload,r=n.responses,a=n.total;e.responseNames=r.map((function(e){return e.response_name})),e.groupedResponses=r,e.total=a,e.loading.fetchGroupedResponses=!1;break;case Object(x.getType)(bn.b.failure):e.loading.fetchGroupedResponses=!1,e.error.fetchGroupedResponses=t.payload;break;case Object(x.getType)(bn.c.request):var c=t.payload.search;e.loading.fetchResponsesSuggestions=!0,e.error.fetchResponsesSuggestions=null,""===c&&(e.suggestions=[]),e.suggestionsQuery=t.payload.search;break;case Object(x.getType)(bn.c.success):var o=t.payload,s=o.search,i=o.responses,l=function(e,t){var n=e.toLowerCase().indexOf(t.toLowerCase()),r=t.length;return n>-1?[e.substr(0,n),e.substr(n,r),e.substr(n+r)]:[e]};e.suggestions=i.flatMap((function(e){e.response_name;return e.responses.map((function(e){var t=e.response_name,n=e.text;return{key:t,text:l(t,s),description:l(n,s)}}))})),e.loading.fetchResponsesSuggestions=!1;break;case Object(x.getType)(bn.c.failure):e.loading.fetchResponsesSuggestions=!1,e.error.fetchResponsesSuggestions=t.payload;break;case Object(x.getType)(bn.f.success):var u=t.payload,d=u.response_name,b=e.groupedResponses.findIndex((function(e){return e.response_name===d})),f=e.groupedResponses[b].responses.findIndex((function(e){return e.id===u.id}));e.groupedResponses[b].responses[f]=u;break;case Object(x.getType)(bn.g.success):var j=t.payload,h=j.name,O=j.newName,m=e.groupedResponses.findIndex((function(e){return e.response_name===h}));e.groupedResponses[m].response_name=O,e.responseNames.splice(m,1,O);break;case Object(x.getType)(bn.a.success):var g=Array.isArray(t.payload)?t.payload[0]:t.payload,v=e.groupedResponses.findIndex((function(e){return e.response_name===g.response_name})),y=e.groupedResponses[v].responses.findIndex((function(e){return e.id===g.id}));1===e.groupedResponses[v].responses.length?(e.groupedResponses.splice(v,1),e.responseNames=e.responseNames.filter((function(e){return e!==g.response_name}))):e.groupedResponses[v].responses.splice(y,1),e.total--;break;case Object(x.getType)(bn.d.success):var C=t.payload,S=C.response_name,w=e.groupedResponses.findIndex((function(e){return e.response_name===S}));w>=0?e.groupedResponses[w].responses.unshift(C):(e.responseNames=[S].concat(Object(p.a)(e.responseNames)),e.groupedResponses.unshift({response_name:S,responses:[C]})),e.total++;break;case Object(x.getType)(bn.e):e.searchQuery=t.payload}}),Ba);!function(e){e.Analytics="analytics_dashboard",e.Conversation="conversations",e.DeploymentEnvironment="deployment_environment",e.Model="models",e.Response="responses",e.Rule="rules",e.Story="stories",e.TestConversation="test_conversation",e.TrainingData="nlu_training_data",e.Git="git",e.Domain="domain"}(Pa||(Pa={}));var qa={total:0,roles:{},roleUsers:{},permissions:[{label:"Talk to your bot",resource:Pa.TestConversation,cannotModify:!0},{label:"Conversations",resource:Pa.Conversation,cannotModify:!0},{label:"NLU Training Data",resource:Pa.TrainingData},{label:"Rules",resource:Pa.Rule},{label:"Stories",resource:Pa.Story},{label:"Responses",resource:Pa.Response},{label:"Models",resource:Pa.Model},{label:"Analytics",resource:Pa.Analytics,cannotModify:!0},{label:"Deployment",resource:Pa.DeploymentEnvironment,cannotView:!0},{label:"Git status & commands",resource:Pa.Git},{label:"Domain",resource:Pa.Domain}]};var Ga={rules:{},loading:!1,error:null,searchQuery:"",selectedRules:[],total:0,visualization:""};var Va={stories:{},loading:!1,error:null,searchQuery:"",selectedStories:[],shouldReplaceStories:!1,storiesToConfirm:"",total:0,visualization:""};var za={draftSuggestionExists:!1,error:null,loading:!1,searchQuery:"",searchQueryChanged:!1,sortBy:"time",sortOrder:"desc",suggestions:[],total:0,totalFetched:0},Wa=Object(va.a)((function(e,t){switch(t.type){case Object(x.getType)(vr.d.request):e.loading=!0;var n=t.payload,r=n.search,a=n.sortBy,c=n.sortOrder,o=a&&a!==e.sortBy,s=c&&c!==e.sortOrder;(r!==e.searchQuery||o||s)&&(e.searchQuery=t.payload.search,o&&(e.sortBy=a),s&&(e.sortOrder=c),e.searchQueryChanged=!0,e.totalFetched=0);break;case Object(x.getType)(vr.d.success):e.loading=!1;var i,l=t.payload,u=l.suggestions,d=l.total,b=l.offset;if(u.map((function(e){return e.user_input.intent_ranking=[e.user_input.intent].concat(Object(p.a)(e.user_input.intent_ranking.splice(1)))})),e.searchQueryChanged&&(e.suggestions=[],e.searchQueryChanged=!1),e.suggestions.length&&e.suggestions[0].id===u[0].id)break;if(0===b)e.suggestions=u;else(i=e.suggestions).splice.apply(i,[b||0,u.length].concat(Object(p.a)(u)));d&&(0===e.total&&(e.total=d),e.suggestions.length=d);break;case Object(x.getType)(vr.d.failure):e.error=t.payload,e.loading=!1;break;case Object(x.getType)(vr.h):if(t.payload<=e.totalFetched)break;e.totalFetched=t.payload;break;case Object(x.getType)(vr.e.success):var f=t.payload,j=f.suggestionId,h=f.entities,O=f.synonyms;h.forEach((function(t,n){var r=e.suggestions.find((function(e){return e.id===j})).user_input.entities.findIndex((function(e){return e.id===t.id||e.start===t.start&&e.end===t.end}));e.suggestions.find((function(e){return e.id===j})).user_input.entities.splice(r,1,Object(Q.a)(Object(Q.a)({},t),{},{entity_synonym_id:O[n].id}))}));break;case Object(x.getType)(vr.f.success):e.suggestions.splice(0,0,t.payload);break;case Object(x.getType)(te.m.success):(Array.isArray(t.payload)?t.payload:[t.payload]).forEach((function(t){var n=e.suggestions.findIndex((function(e){return e.user_input.text===t.text}));n>=0&&e.suggestions.splice(n,1)})),e.total=e.suggestions.length;break;case Object(x.getType)(vr.c.success):(Array.isArray(t.payload)?t.payload:[t.payload]).forEach((function(t){var n=e.suggestions.findIndex((function(e){return e.id===t.id}));n>=0&&e.suggestions.splice(n,1)})),e.total=e.suggestions.length;break;case Object(x.getType)(vr.a):var m=e.suggestions.findIndex((function(e){return(null===e||void 0===e?void 0:e.id)===t.payload.id}));if(m<0)break;e.suggestions[m]=Object(Q.a)(Object(Q.a)({},t.payload),{},{isDirty:!0});break;case Object(x.getType)(vr.b.success):e.draftSuggestionExists=t.payload;break;case Object(x.getType)(vr.g):e.searchQuery=t.payload}}),za),Ya={error:{},loading:{},references:[],searchQuery:"",synonyms:[],total:0},Ka=Object(va.a)((function(e,t){switch(t.type){case Object(x.getType)(re.b.request):e.loading.fetchSynonyms=!0,e.error.fetchSynonyms=null,e.searchQuery=t.payload.search;break;case Object(x.getType)(re.b.success):var n=t.payload,r=n.synonyms,a=n.total;e.synonyms=r,e.references=r.map((function(e){return{id:e.id,synonym_reference:e.synonym_reference}})),e.total=a,e.loading.fetchSynonyms=!1;break;case Object(x.getType)(re.b.failure):e.loading.fetchSynonyms=!1,e.error.fetchSynonyms=t.payload;break;case Object(x.getType)(re.f.success):var c=t.payload,o=c.synonymId,s=c.valueId,i=c.newValue,l=e.synonyms.findIndex((function(e){return e.id===o})),u=e.synonyms[l].mapped_values.findIndex((function(e){return e.id===s}));e.synonyms[l].mapped_values[u].value=i;break;case Object(x.getType)(re.e.success):var d=t.payload,b=d.synonymId,f=d.value,j=e.synonyms.findIndex((function(e){return e.id===b})),h=e.references.findIndex((function(e){return e.id===b}));e.synonyms[j].synonym_reference=f,e.references[h].synonym_reference=f;break;case Object(x.getType)(re.a.success):var O=t.payload,m=e.synonyms.findIndex((function(e){return e.id===O.synonymId})),g=e.synonyms[m].mapped_values.findIndex((function(e){return e.id===O.valueId}));1===e.synonyms[m].mapped_values.length?(e.synonyms.splice(m,1),e.references=e.references.filter((function(e){return e.id!==O.synonymId})),e.total--):e.synonyms[m].mapped_values.splice(g,1);break;case Object(x.getType)(re.d.success):var v,y=t.payload,C=y.id,S=y.mapped_values,w=e.synonyms.findIndex((function(e){return e.id===C}));(v=e.synonyms[w].mapped_values).push.apply(v,Object(p.a)(S)),e.total=e.synonyms.length;break;case Object(x.getType)(re.c.success):var E=t.payload,k=E.id,T=E.synonym_reference;e.references=[].concat(Object(p.a)(e.references),[{id:k,synonym_reference:T}]),e.synonyms.push(E),e.total++}}),Ya),Qa={error:null,loading:!1,searchQuery:"",total:0,unfilteredTotal:0,users:{},currentUser:void 0};var Xa={telemetry_enabled:!1,user_groups:[],user_id:""};var Za={analytics:xa.b,application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(x.getType)(k.a.success):return{version:t.payload};default:return e}},auth:ga.e,examples:wa,gitRepositories:Ta,interactiveLearning:Ra.c,login:ga.e,messages:Aa.d,models:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(x.getType)(ot.c.success):var n=Ia.a.load(t.payload),r=n.rasa;return Object(Q.a)(Object(Q.a)({},e),{},{environments:Object.keys(r).filter((function(e){return"worker"!==e}))});case Object(x.getType)(ot.e.success):return Object(Q.a)(Object(Q.a)({},e),{},{environmentsHealth:t.payload});case Object(x.getType)(ot.k.request):return Object(Q.a)(Object(Q.a)({},e),{},{modelIsTraining:!0,cleanState:Object(Q.a)(Object(Q.a)({},e.cleanState),{},{training:!1}),trainingFailed:!1});case Object(x.getType)(ot.k.success):var a=201!==t.payload.status;return Object(Q.a)(Object(Q.a)({},e),{},{modelIsTraining:!1,latestModelIsNew:a,trainingFailed:!1});case Object(x.getType)(ot.k.failure):return Object(Q.a)(Object(Q.a)({},e),{},{modelIsTraining:!1,trainingFailed:!0});case Object(x.getType)(ot.l.request):return Object(Q.a)(Object(Q.a)({},e),{},{cleanState:Object(Q.a)(Object(Q.a)({},e.cleanState),{},{uploading:!1}),loading:Object(Q.a)(Object(Q.a)({},e.loading),{},{uploadModel:!0}),error:Object(Q.a)(Object(Q.a)({},e.error),{},{uploadModel:null})});case Object(x.getType)(ot.l.success):return Object(Q.a)(Object(Q.a)({},e),{},{loading:Object(Q.a)(Object(Q.a)({},e.loading),{},{uploadModel:!1})});case Object(x.getType)(ot.l.failure):var c=t.payload.response&&409===t.payload.response.status;return Object(Q.a)(Object(Q.a)({},e),{},{modelExists:c,loading:Object(Q.a)(Object(Q.a)({},e.loading),{},{uploadModel:!1}),error:Object(Q.a)(Object(Q.a)({},e.error),{},{uploadModel:t.payload})});case Object(x.getType)(ot.f.request):return Object(Q.a)(Object(Q.a)({},e),{},{loading:Object(Q.a)(Object(Q.a)({},e.loading),{},{models:!0})});case Object(x.getType)(ot.f.success):var o=t.payload,s=o.models,i=o.total,l=o.offset,u=Object(Na.a)(e.models,s,l||0,(function(e,t){return e.model===t.model}),(function(e){return Object(Q.a)(Object(Q.a)({},e),{},{tags:e.tags.sort()})}));return Object(Q.a)(Object(Q.a)({},e),{},{models:u,total:i,loading:Object(Q.a)(Object(Q.a)({},e.loading),{},{models:!1})});case Object(x.getType)(ot.b.success):var d=t.payload,b=function(e,t){return t.some((function(t){return t.model===e.model}))},f=Object.entries(e.models).reduce((function(e,t){var n=Object(ct.a)(e,2),r=n[0],a=n[1],c=Object(ct.a)(t,2),o=c[0],s=c[1];if(a<d.length&&b(s,d))return[Object(Q.a)({},r),a+1];var i=String(Number(o)-a);return[Object(Q.a)(Object(Q.a)({},r),{},{[i]:s}),a]}),[{},0]),j=Object(ct.a)(f,2),p=j[0],h=j[1];return Object(Q.a)(Object(Q.a)({},e),{},{models:p,total:e.total-h});case Object(x.getType)(ot.d.request):return Object(Q.a)(Object(Q.a)({},e),{},{loading:Object(Q.a)(Object(Q.a)({},e.loading),{},{evaluation:!0}),error:Object(Q.a)(Object(Q.a)({},e.error),{},{evaluation:null})});case Object(x.getType)(ot.d.failure):return Object(Q.a)(Object(Q.a)({},e),{},{loading:Object(Q.a)(Object(Q.a)({},e.loading),{},{evaluation:!1}),error:Object(Q.a)(Object(Q.a)({},e.error),{},{evaluation:t.payload})});case Object(x.getType)(ot.a.success):var O=t.payload,m=O.model,g=O.environment,v=Array.isArray(g)?g[0]:g;if(!v)return Object(Q.a)({},e);var y=Object(Fa.mapValues)(e.models,(function(e){var t=e.tags.indexOf(v);return t>-1&&e.tags.splice(t,1),Object(Fa.isEqual)(e,m)&&!e.tags.includes(v)&&Object.assign(e,m.tags.push(v)),e}));return Object(Q.a)(Object(Q.a)({},e),{},{models:y});case Object(x.getType)(ot.g):return Object(Q.a)(Object(Q.a)({},e),{},{evaluationFilter:t.payload});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(x.getType)(Nt.a.success):case Object(x.getType)(Nt.d.success):return Object(Q.a)(Object(Q.a)({},e),{},{error:null,config:Ia.a.dump(Ia.a.load(t.payload))});case Object(x.getType)(Nt.d.failure):return Object(Q.a)(Object(Q.a)({},e),{},{error:t.payload});case Object(x.getType)(Nt.e.success):case Object(x.getType)(Nt.b.success):return Object(Q.a)(Object(Q.a)({},e),{},{error:null,domain:Ia.a.dump(Ia.a.load(t.payload))});case Object(x.getType)(Nt.c.success):var n=t.payload,r=n.total,a=Object(La.a)(n,["total"]),c=Object.entries(a).flatMap((function(e){var t=Object(ct.a)(e,2),n=t[0],r=t[1];return Object.entries(r).flatMap((function(e){var t=Object(ct.a)(e,2),r=t[0];return t[1].map((function(e){return{element:n.replace("_warnings",""),location:r,value:e}}))}))}));return c.length!==r&&console.error("Something went wrong with flattening warnings"),Object(Q.a)(Object(Q.a)({},e),{},{domainWarnings:c});case Object(x.getType)(Nt.e.failure):return Object(Q.a)(Object(Q.a)({},e),{},{error:t.payload});default:return e}},regexes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(x.getType)(ne.h.success):var n=t.payload,r=n.regexes,a=n.total,c=n.offset,o=Object(Na.a)(e.regexes,r,c||0,(function(e,t){return e.id===t.id}));return Object(Q.a)(Object(Q.a)({},e),{},{regexes:o,regexesTotal:a});case Object(x.getType)(ne.b.success):var s=t.payload,i=Object(Q.a)({0:s},Object(Fa.reduce)(e.regexes,(function(e,t,n){return Object(Q.a)(Object(Q.a)({},e),{},{[(Number(n)+1).toString()]:t})}),{}));return Object(Q.a)(Object(Q.a)({},e),{},{regexes:i,regexesTotal:e.regexesTotal+1});case Object(x.getType)(ne.d.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=function(e,t){return t.some((function(t){return e.id===t.id}))},d=Object.entries(e.regexes).reduce((function(e,t){var n=Object(ct.a)(e,2),r=n[0],a=n[1],c=Object(ct.a)(t,2),o=c[0],s=c[1];if(a<l.length&&u(s,l))return[Object(Q.a)({},r),a+1];var i=String(Number(o)-a);return[Object(Q.a)(Object(Q.a)({},r),{},{[i]:s}),a]}),[{},0]),b=Object(ct.a)(d,2),f=b[0],j=b[1];return Object(Q.a)(Object(Q.a)({},e),{},{regexes:f,regexesTotal:e.regexesTotal-j});case Object(x.getType)(ne.i.success):var p=t.payload,h=Object(Fa.findKey)(e.regexes,(function(e){return e.id===p.id}));return Object(Q.a)(Object(Q.a)({},e),{},{regexes:h?Object(Q.a)(Object(Q.a)({},e.regexes),{},{[h]:p}):e.regexes});case Object(x.getType)(ne.f.success):var O=t.payload,m=O.lookupTables,g=O.total,v=m.reduce((function(e,t,n){return Object(Q.a)(Object(Q.a)({},e),{},{[n]:Object(Q.a)({},t)})}),e.lookupTables);return Object(Q.a)(Object(Q.a)({},e),{},{lookupTables:v,lookupTablesTotal:g});case Object(x.getType)(ne.a.request):return Object(Q.a)(Object(Q.a)({},e),{},{loading:Object(Q.a)(Object(Q.a)({},e.loading),{},{createLookupTable:!0}),error:Object(Q.a)(Object(Q.a)({},e.error),{},{createLookupTable:null})});case Object(x.getType)(ne.a.success):var y=t.payload,C=Object(Q.a)({0:y},Object(Fa.reduce)(e.lookupTables,(function(e,t,n){return Object(Q.a)(Object(Q.a)({},e),{},{[(Number(n)+1).toString()]:t})}),{}));return Object(Q.a)(Object(Q.a)({},e),{},{lookupTables:C,loading:Object(Q.a)(Object(Q.a)({},e.loading),{},{createLookupTable:!1}),lookupTablesTotal:e.lookupTablesTotal+1});case Object(x.getType)(ne.a.failure):return Object(Q.a)(Object(Q.a)({},e),{},{loading:Object(Q.a)(Object(Q.a)({},e.loading),{},{createLookupTable:!1}),error:Object(Q.a)(Object(Q.a)({},e.error),{},{createLookupTable:t.payload})});case Object(x.getType)(ne.c.success):var S=Array.isArray(t.payload)?t.payload:[t.payload],w=function(e,t){return t.some((function(t){return e.id===t.id}))},E=Object.entries(e.lookupTables).reduce((function(e,t){var n=Object(ct.a)(e,2),r=n[0],a=n[1],c=Object(ct.a)(t,2),o=c[0],s=c[1];if(a<S.length&&w(s,S))return[Object(Q.a)({},r),a+1];var i=String(Number(o)-a);return[Object(Q.a)(Object(Q.a)({},r),{},{[i]:s}),a]}),[{},0]),k=Object(ct.a)(E,2),T=k[0],R=k[1];return Object(Q.a)(Object(Q.a)({},e),{},{lookupTables:T,lookupTablesTotal:e.lookupTablesTotal-R});case Object(x.getType)(ne.g.success):return Object(Q.a)(Object(Q.a)({},e),{},{selectedRegex:t.payload});default:return e}},responses:Ha,roles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(x.getType)(En.d.success):var n=t.payload,r=n.total,a=n.roles;return Object(Q.a)(Object(Q.a)({},e),{},{roles:a.reduce((function(e,t,n){return Object(Q.a)(Object(Q.a)({},e),{},{[n.toString()]:t})}),{}),total:r});case Object(x.getType)(En.c.success):var c=t.payload,o=c.role,s=c.users;return Object(Q.a)(Object(Q.a)({},e),{},{roles:Object(Q.a)(Object(Q.a)({},e.roles),{},{[o]:Object(Q.a)(Object(Q.a)({},e.roles[o]),{},{users_count:s.length})})});case Object(x.getType)(En.b.success):var i=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{roles:Object(Q.a)(Object(Q.a)({},e.roles),{},{[i.role]:i})});case Object(x.getType)(En.f.success):return e;case Object(x.getType)(En.g.success):var l=t.payload,u=l.currentId,d=l.role,b=Object.entries(e.roles).find((function(e){var t=Object(ct.a)(e,2);t[0];return t[1].role===u})),f=b?Object(Q.a)(Object(Q.a)({},e.roles),{},{[b[0]]:d}):Object.entries(e.roles).reduce((function(e,t){var n=Object(ct.a)(t,2),r=n[0],a=n[1];return Object(Q.a)(Object(Q.a)({},e),{},{[Number(r)+1]:a})}),{0:d});return Object(Q.a)(Object(Q.a)({},e),{},{roles:f,total:b?e.total:e.total+1});case Object(x.getType)(En.a.success):var j=t.payload,p=function(e,t){return t.some((function(t){return t.role===e.role}))},h=Object.entries(e.roles).reduce((function(e,t){var n=Object(ct.a)(e,2),r=n[0],a=n[1],c=Object(ct.a)(t,2),o=c[0],s=c[1];if(a<j.length&&p(s,j))return[Object(Q.a)({},r),a+1];var i=String(Number(o)-a);return[Object(Q.a)(Object(Q.a)({},r),{},{[i]:s}),a]}),[{},0]),O=Object(ct.a)(h,2),m=O[0],g=O[1];return Object(Q.a)(Object(Q.a)({},e),{},{roles:m,total:e.total-g});case Object(x.getType)(En.e):var v=t.payload,y=v.role,C=v.updateFn,S=Object.values(e.roles).findIndex((function(e){return e.role===y}));return-1!==S?Object(Q.a)(Object(Q.a)({},e),{},{roles:Object(Q.a)(Object(Q.a)({},e.roles),{},{[S]:C(e.roles[S])})}):e;default:return e}},rules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(x.getType)(Hn.f.request):return Object(Q.a)(Object(Q.a)({},e),{},{loading:!0,searchQuery:t.payload.search});case Object(x.getType)(Hn.f.success):var n=t.payload,r=n.rules,a=n.total,c=n.offset,o=a>=e.total?e.rules:{},s=Object(Na.a)(o,r,c||0,(function(e,t){return e.id===t.id}));return Object(Q.a)(Object(Q.a)({},e),{},{rules:s,total:a,loading:!1});case Object(x.getType)(Hn.f.failure):return Object(Q.a)(Object(Q.a)({},e),{},{loading:!1,error:t.payload});case Object(x.getType)(Hn.g.success):return Object(Q.a)(Object(Q.a)({},e),{},{visualization:t.payload});case Object(x.getType)(Hn.j.success):var i=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{rules:Object.entries(e.rules).map((function(e){var t=Object(ct.a)(e,2),n=t[0],r=t[1];return[n,r.id!==i.id?r:i]})).reduce((function(e,t){var n=Object(ct.a)(t,2),r=n[0],a=n[1];return Object(Q.a)(Object(Q.a)({},e),{},{[r]:a})}),{})});case Object(x.getType)(Hn.i.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=Object(Q.a)(Object(Q.a)({},l.reduce((function(e,t,n){return Object(Q.a)(Object(Q.a)({},e),{},{[n.toString()]:t})}),{})),Object(Fa.reduce)(e.rules,(function(e,t,n){return Object(Q.a)(Object(Q.a)({},e),{},{[(Number(n)+l.length).toString()]:t})}),{}));return Object(Q.a)(Object(Q.a)({},e),{},{rules:u,total:Object.keys(u).length});case Object(x.getType)(Hn.d.success):var d=t.payload,b=Object.entries(e.rules).reduce((function(e,t){var n=Object(ct.a)(e,2),r=n[0],a=n[1],c=Object(ct.a)(t,2),o=c[0],s=c[1];if(s.id===d.id)return[Object(Q.a)({},r),!0];var i=String(a?Number(o)-1:o);return[Object(Q.a)(Object(Q.a)({},r),{},{[i]:s}),a]}),[{},!1]),f=Object(ct.a)(b,1),j=f[0];return Object(Q.a)(Object(Q.a)({},e),{},{rules:j,total:e.total-1});case Object(x.getType)(Hn.c):return Object(Q.a)(Object(Q.a)({},e),{},{selectedRules:t.payload});default:return e}},stories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(x.getType)(ar.f.request):return Object(Q.a)(Object(Q.a)({},e),{},{loading:!0,searchQuery:t.payload.search});case Object(x.getType)(ar.f.success):var n=t.payload,r=n.stories,a=n.total,c=n.offset,o=a>=e.total?e.stories:{},s=Object(Na.a)(o,r,c||0,(function(e,t){return e.id===t.id}));return Object(Q.a)(Object(Q.a)({},e),{},{stories:s,total:a,loading:!1});case Object(x.getType)(ar.f.failure):return Object(Q.a)(Object(Q.a)({},e),{},{loading:!1,error:t.payload});case Object(x.getType)(ar.g.success):return Object(Q.a)(Object(Q.a)({},e),{},{visualization:t.payload});case Object(x.getType)(ar.m.success):var i=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{stories:Object.entries(e.stories).map((function(e){var t=Object(ct.a)(e,2),n=t[0],r=t[1];return[n,r.id!==i.id?r:i]})).reduce((function(e,t){var n=Object(ct.a)(t,2),r=n[0],a=n[1];return Object(Q.a)(Object(Q.a)({},e),{},{[r]:a})}),{})});case Object(x.getType)(ar.i.success):var l=Array.isArray(t.payload)?t.payload:[t.payload],u=Object(Q.a)(Object(Q.a)({},l.reduce((function(e,t,n){return Object(Q.a)(Object(Q.a)({},e),{},{[n.toString()]:t})}),{})),Object(Fa.reduce)(e.stories,(function(e,t,n){return Object(Q.a)(Object(Q.a)({},e),{},{[(Number(n)+l.length).toString()]:t})}),{}));return Object(Q.a)(Object(Q.a)({},e),{},{stories:u,total:Object.keys(u).length});case Object(x.getType)(ar.d.success):var d=t.payload,b=Object.entries(e.stories).reduce((function(e,t){var n=Object(ct.a)(e,2),r=n[0],a=n[1],c=Object(ct.a)(t,2),o=c[0],s=c[1];if(s.id===d.id)return[Object(Q.a)({},r),!0];var i=String(a?Number(o)-1:o);return[Object(Q.a)(Object(Q.a)({},r),{},{[i]:s}),a]}),[{},!1]),f=Object(ct.a)(b,1),j=f[0];return Object(Q.a)(Object(Q.a)({},e),{},{stories:j,total:e.total-1});case Object(x.getType)(ar.c):return Object(Q.a)(Object(Q.a)({},e),{},{selectedStories:t.payload});case Object(x.getType)(ar.j):return Object(Q.a)(Object(Q.a)({},e),{},{searchQuery:t.payload});case Object(x.getType)(ar.k):return Object(Q.a)(Object(Q.a)({},e),{},{shouldReplaceStories:t.payload});case Object(x.getType)(ar.l):return Object(Q.a)(Object(Q.a)({},e),{},{storiesToConfirm:t.payload});default:return e}},suggestions:Wa,synonyms:Ka,telemetry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(x.getType)(Kr.a.success):return t.payload;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(x.getType)(_.h):return Qa;case Object(x.getType)(d.c.request):return Object(Q.a)(Object(Q.a)({},e),{},{loading:!0,searchQuery:t.payload.search});case Object(x.getType)(d.b.success):return Object(Q.a)(Object(Q.a)({},e),{},{currentUser:t.payload});case Object(x.getType)(d.c.success):var n=t.payload,r=n.users,a=n.total,c=n.offset,o=n.search,s=e.total<Object.values(e.users).length,i=a>=e.total&&!s?e.users:{},l=Object(Na.a)(i,r,c||0,(function(e,t){return e.username===t.username}));return Object(Q.a)(Object(Q.a)({},e),{},{users:l,unfilteredTotal:""===o?a:e.unfilteredTotal,total:r.length,loading:!1});case Object(x.getType)(d.h.success):return Object(Q.a)(Object(Q.a)({},e),{},{currentUser:t.payload});case Object(x.getType)(d.e.success):var u=t.payload,b=u.user,f=u.userIndex;return Object(Q.a)(Object(Q.a)({},e),{},{users:Object(Q.a)(Object(Q.a)({},e.users),{},{[f]:b})});case Object(x.getType)(d.a.success):var j=t.payload,p=function(e,t){return t.some((function(t){return t.username===e.username}))},h=Object.entries(e.users).reduce((function(e,t){var n=Object(ct.a)(e,2),r=n[0],a=n[1],c=Object(ct.a)(t,2),o=c[0],s=c[1];if(a<j.length&&p(s,j))return[Object(Q.a)({},r),a+1];var i=String(Number(o)-a);return[Object(Q.a)(Object(Q.a)({},r),{},{[i]:s}),a]}),[{},0]),O=Object(ct.a)(h,2),m=O[0],g=O[1];return Object(Q.a)(Object(Q.a)({},e),{},{users:m,unfilteredTotal:e.unfilteredTotal-g,total:e.total-g});case Object(x.getType)(d.f):var v=t.payload,y=e.users,C=v.reduce((function(e,t){var n=Object.values(e),r=n.findIndex((function(e){return e.username===t.username}));return-1!==r?e[r]=t:e[n.length]=t,e}),y);return Object(Q.a)(Object(Q.a)({},e),{},{users:C});case Object(x.getType)(d.g):return Object(Q.a)(Object(Q.a)({},e),{},{searchQuery:t.payload});default:return e}}},Ja=Object(r.c)(Za),$a=(xa.a,ga.b,Ra.b,Aa.c,n(737)),ec=n.n($a),tc=function(e){return ec.a.enhancer({params:{q:{selector:function(t){if(!e.location)return"";switch(e.location.pathname){case"/nlu-inbox":return t.suggestions.searchQuery;case"/data/training-data":return t.examples.searchQuery;case"/responses":return t.responses.searchQuery;case"/users":return t.users.searchQuery;default:return""}},action:function(t){switch(e.location.pathname){case"/nlu-inbox":return Object(vr.g)(t);case"/data/training-data":return Object(te.n)(t);case"/responses":return Object(bn.e)(t);case"/users":return Object(d.g)(t);default:return null}},defaultValue:""}},initialTruth:"location",replaceState:!0,history:e})},nc=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d,rc=Object(i.a)();t.a=function(e){var t=Object(a.a)({context:{history:e}}),n=u()(),o=[j,rc.middleware,t,n],i=nc(tc(e),r.a.apply(void 0,o)),l=Object(c.b)({key:"root",storage:s.a,whitelist:["auth"]},Ja),d=Object(r.e)(l,i);return Oa.forEach((function(e){return t.run(e)})),{persistor:Object(c.c)(d),store:d}}},112:function(e,t,n){"use strict";n.d(t,"b",(function(){return M}));var r=n(6),a=n.n(r),c=n(7),o=n(5),s=n(12),i=n(19),l=n(11),u=n(33),d=n(32),b=n(21),f=n(43),j=n(48),p=n(55),h=a.a.mark(T),O=a.a.mark(R),x=a.a.mark(A),m=a.a.mark(_),g=a.a.mark(I),v=a.a.mark(F),y=a.a.mark(N),C=a.a.mark(U),S=a.a.mark(L),w=a.a.mark(D),E=a.a.mark(M),k=a.a.mark(P);function T(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(c.b)(s.cb,e,"default");case 3:return t=n.sent,n.next=6,Object(c.f)(u.e.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(i.a)(n.t0);case 12:return n.next=14,Object(c.f)(u.e.failure(n.t0));case 14:case"end":return n.stop()}}),h,null,[[0,8]])}function R(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(c.b)(s.tb,e,"default");case 3:return t=n.sent,n.next=6,Object(c.f)(u.g.success(t));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(i.a)(n.t0);case 12:return n.next=14,Object(c.f)(u.g.failure(n.t0));case 14:case"end":return n.stop()}}),O,null,[[0,8]])}function A(e,t){var n,r,o,l,d,b,f;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryUrl,o=n.targetBranch,l=n.protectedBranch,d=n.username,b=n.password,a.prev=1,a.next=4,Object(c.b)(s.i,e,"default",r,o,l,d,b);case 4:return f=a.sent,a.next=7,Object(c.f)(u.c.success(f));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(i.a)(a.t0);case 13:return a.next=15,Object(c.f)(u.c.failure(a.t0));case 15:case"end":return a.stop()}}),x,null,[[1,9]])}function _(e,t){var n,r,o,l,d,b,f;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,o=n.targetBranch,l=n.protectedBranch,d=n.username,b=n.password,a.prev=1,a.next=4,Object(c.b)(s.lc,e,"default",r,o,l,d,b);case 4:return f=a.sent,a.next=7,Object(c.f)(u.j.success(f));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(i.a)(a.t0);case 13:return a.next=15,Object(c.f)(u.j.failure(a.t0));case 15:case"end":return a.stop()}}),m,null,[[1,9]])}function I(e,t){var n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.repositoryId,a.prev=1,a.next=4,Object(c.b)(s.q,e,"default",n);case 4:return r=a.sent,a.next=7,Object(c.f)(u.d.success(r));case 7:a.next=15;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(i.a)(a.t0);case 13:return a.next=15,Object(c.f)(u.d.failure(a.t0));case 15:case"end":return a.stop()}}),g,null,[[1,9]])}function F(e,t){var n,r,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(c.h)((function(e){return e.gitRepositories.activeGitRepository}));case 2:return n=a.sent,r=t.payload.repositoryId,a.prev=4,a.next=7,Object(c.b)(s.db,e,"default",r||n.id);case 7:return o=a.sent,a.next=10,Object(c.f)(u.f.success(o));case 10:if(!o.is_remote_ahead){a.next=13;break}return a.next=13,P();case 13:a.next=21;break;case 15:return a.prev=15,a.t0=a.catch(4),a.next=19,Object(i.a)(a.t0);case 19:return a.next=21,Object(c.f)(u.f.failure(a.t0));case 21:case"end":return a.stop()}}),v,null,[[4,15]])}function N(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e.payload.repositoryId;case 1:return r.next=4,Object(c.f)(u.f.request({repositoryId:t}));case 4:return r.next=6,Object(c.h)((function(e){return e.gitRepositories.error.fetchGitRepositoryStatus}));case 6:return n=r.sent,r.next=9,Object(c.d)(n?1e4:6e4);case 9:r.next=1;break;case 11:case"end":return r.stop()}}),y)}function U(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.g)({poll:Object(c.b)(N,e),stop:Object(c.i)(Object(o.getType)(u.i))});case 2:case"end":return t.stop()}}),C)}function L(e,t){var n,r,o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,o=n.branchName,a.prev=1,a.next=4,Object(c.b)(s.g,e,"default",r,o);case 4:return a.next=6,Object(c.f)(u.b.success());case 6:return a.next=8,Object(c.f)(u.f.request({repositoryId:r}));case 8:a.next=16;break;case 10:return a.prev=10,a.t0=a.catch(1),a.next=14,Object(i.a)(a.t0);case 14:return a.next=16,Object(c.f)(u.b.failure(a.t0));case 16:case"end":return a.stop()}}),S,null,[[1,10]])}function D(e,t){var n,r,o,l,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload,r=n.repositoryId,o=n.branchName,l=n.force,d=void 0!==l&&l,a.prev=1,a.next=4,Object(c.b)(s.e,e,"default",r,o,d);case 4:return a.next=6,Object(c.f)(u.a.success());case 6:return a.next=8,Object(c.f)(u.f.request({repositoryId:r}));case 8:return a.next=10,P();case 10:a.next=18;break;case 12:return a.prev=12,a.t0=a.catch(1),a.next=16,Object(i.a)(a.t0);case 16:return a.next=18,Object(c.f)(u.a.failure(a.t0));case 18:case"end":return a.stop()}}),w,null,[[1,12]])}function M(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.f)(u.f.request({}));case 2:case"end":return e.stop()}}),E)}function P(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)([Object(c.f)(d.h.request({offset:0,limit:20})),Object(c.f)(d.f.request()),Object(c.f)(b.h.request({search:"",offset:0,limit:20})),Object(c.f)(b.i.request()),Object(c.f)(b.f.request()),Object(c.f)(j.d.request({search:"",offset:0,limit:20})),Object(c.f)(f.b.request({search:"",offset:0,limit:20})),Object(c.f)(p.b.request()),Object(c.f)(p.a.request())]);case 2:case"end":return e.stop()}}),k)}var B=[Object(l.a)(Object(o.getType)(u.f.request),F,!0,!0),Object(l.a)(Object(o.getType)(u.g.request),R,!0,!0),Object(l.a)(Object(o.getType)(u.c.request),A,!0,!0),Object(l.a)(Object(o.getType)(u.j.request),_,!0,!0),Object(l.a)(Object(o.getType)(u.d.request),I,!0,!0),Object(l.a)(Object(o.getType)(u.e.request),T,!0,!0),Object(l.a)(Object(o.getType)(u.b.request),L,!0,!0),Object(l.a)(Object(o.getType)(u.a.request),D,!0,!0),Object(l.a)(Object(o.getType)(u.h),U,!1,!0)];t.a=B},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var r,a=n(15),c=n(2),o=n(5),s=n(34),i=n(13),l=n(36);!function(e){e.Loading="loading",e.ClassifyingIntent="classifyingIntent",e.ConfirmingAction="confirmingAction",e.Ready="ready"}(r||(r={}));var u={conversationId:null,strictMode:!1,environment:"production",parsedMessage:null,parsedMessageConversationId:null,predictedAction:null,predictedActions:[],storyName:"New Story",savedStoryId:null,loading:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(o.getType)(s.d):return Object(c.a)(Object(c.a)({},e),{},{strictMode:t.payload});case Object(o.getType)(s.j.request):return Object(c.a)(Object(c.a)({},e),{},{loading:Object(c.a)(Object(c.a)({},e.loading),{},{parseMessage:!0})});case Object(o.getType)(s.j.success):case Object(o.getType)(s.b):return Object(c.a)(Object(c.a)({},e),{},{parsedMessage:t.payload,parsedMessageConversationId:e.conversationId,loading:Object(c.a)(Object(c.a)({},e.loading),{},{parseMessage:!1})});case Object(o.getType)(s.a):return Object(c.a)(Object(c.a)({},e),{},{parsedMessage:null,loading:Object(c.a)(Object(c.a)({},e.loading),{},{parseMessage:!0})});case Object(o.getType)(i.h.success):var n=t.payload.conversation,r=e.parsedMessageConversationId===n.sender_id;return Object(c.a)(Object(c.a)({},e),{},{parsedMessage:r?e.parsedMessage:null});case Object(o.getType)(s.k.request):return Object(c.a)(Object(c.a)({},e),{},{loading:Object(c.a)(Object(c.a)({},e.loading),{},{saveEvent:!0})});case Object(o.getType)(i.y.success):case Object(o.getType)(s.k.success):return Object(c.a)(Object(c.a)({},e),{},{parsedMessage:null,loading:Object(c.a)(Object(c.a)({},e.loading),{},{saveEvent:!1})});case Object(o.getType)(s.i.success):var d=t.payload,b=d.prediction,f=d.actions,j=Object(a.a)(b.scores).sort((function(e,t){return t.score-e.score})),p=[].concat(Object(a.a)(j),Object(a.a)(f.filter((function(e){return!j.find((function(t){return t.action!==e}))})).map((function(e){return{action:e,score:0}}))));return Object(c.a)(Object(c.a)({},e),{},{predictedActions:p,predictedAction:p[0]});case Object(o.getType)(s.c):var h=t.payload;return Object(c.a)(Object(c.a)({},e),{},{predictedAction:h});case Object(o.getType)(s.g.request):case Object(o.getType)(s.f.request):return Object(c.a)(Object(c.a)({},e),{},{loading:Object(c.a)(Object(c.a)({},e.loading),{},{confirmPrediction:!0})});case Object(o.getType)(s.g.success):case Object(o.getType)(s.f.success):return Object(c.a)(Object(c.a)({},e),{},{predictedActions:[],predictedAction:null,loading:Object(c.a)(Object(c.a)({},e.loading),{},{confirmPrediction:!1})});case Object(o.getType)(l.i.request):return Object(c.a)(Object(c.a)({},e),{},{loading:Object(c.a)(Object(c.a)({},e.loading),{},{saveStory:!0}),savedStoryId:null});case Object(o.getType)(l.i.success):return Object(c.a)(Object(c.a)({},u),{},{loading:Object(c.a)(Object(c.a)({},e.loading),{},{saveStory:!1}),savedStoryId:t.payload[0].id});case Object(o.getType)(s.e):return Object(c.a)(Object(c.a)({},u),t.payload);case Object(o.getType)(s.h.success):return Object(c.a)(Object(c.a)({},e),{},{conversationId:t.payload.sender_id});default:return e}}},12:function(e,t,n){"use strict";n.d(t,"Kb",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"Ab",(function(){return h})),n.d(t,"Ib",(function(){return O})),n.d(t,"Vb",(function(){return x})),n.d(t,"Jb",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"ub",(function(){return v})),n.d(t,"V",(function(){return y})),n.d(t,"Bb",(function(){return C})),n.d(t,"Cb",(function(){return S})),n.d(t,"vc",(function(){return w})),n.d(t,"fc",(function(){return E})),n.d(t,"Db",(function(){return k})),n.d(t,"B",(function(){return T})),n.d(t,"f",(function(){return R})),n.d(t,"pb",(function(){return A})),n.d(t,"nb",(function(){return _})),n.d(t,"ob",(function(){return I})),n.d(t,"Xb",(function(){return F})),n.d(t,"qc",(function(){return N})),n.d(t,"w",(function(){return U})),n.d(t,"Yb",(function(){return L})),n.d(t,"fb",(function(){return D})),n.d(t,"Eb",(function(){return M})),n.d(t,"bb",(function(){return P})),n.d(t,"Tb",(function(){return B})),n.d(t,"X",(function(){return H})),n.d(t,"kb",(function(){return q})),n.d(t,"gc",(function(){return G})),n.d(t,"t",(function(){return V})),n.d(t,"ic",(function(){return z})),n.d(t,"s",(function(){return W})),n.d(t,"ab",(function(){return Y})),n.d(t,"Z",(function(){return K})),n.d(t,"gb",(function(){return Q})),n.d(t,"F",(function(){return X})),n.d(t,"Nb",(function(){return Z})),n.d(t,"Sb",(function(){return J})),n.d(t,"kc",(function(){return $})),n.d(t,"p",(function(){return ee})),n.d(t,"C",(function(){return te})),n.d(t,"wc",(function(){return ne})),n.d(t,"Gb",(function(){return re})),n.d(t,"W",(function(){return ae})),n.d(t,"sb",(function(){return ce})),n.d(t,"ac",(function(){return oe})),n.d(t,"cc",(function(){return se})),n.d(t,"T",(function(){return ie})),n.d(t,"Pb",(function(){return le})),n.d(t,"U",(function(){return ue})),n.d(t,"hc",(function(){return de})),n.d(t,"Y",(function(){return be})),n.d(t,"yb",(function(){return fe})),n.d(t,"xb",(function(){return je})),n.d(t,"z",(function(){return pe})),n.d(t,"zb",(function(){return he})),n.d(t,"dc",(function(){return Oe})),n.d(t,"ec",(function(){return xe})),n.d(t,"uc",(function(){return me})),n.d(t,"A",(function(){return ge})),n.d(t,"tc",(function(){return ve})),n.d(t,"eb",(function(){return ye})),n.d(t,"Wb",(function(){return Ce})),n.d(t,"nc",(function(){return Se})),n.d(t,"oc",(function(){return we})),n.d(t,"v",(function(){return Ee})),n.d(t,"cb",(function(){return ke})),n.d(t,"tb",(function(){return Te})),n.d(t,"i",(function(){return Re})),n.d(t,"lc",(function(){return Ae})),n.d(t,"q",(function(){return _e})),n.d(t,"g",(function(){return Ie})),n.d(t,"e",(function(){return Fe})),n.d(t,"db",(function(){return Ne})),n.d(t,"wb",(function(){return Ue})),n.d(t,"Fb",(function(){return Le})),n.d(t,"bc",(function(){return De})),n.d(t,"sc",(function(){return Me})),n.d(t,"y",(function(){return Pe})),n.d(t,"b",(function(){return Be})),n.d(t,"Mb",(function(){return He})),n.d(t,"E",(function(){return qe})),n.d(t,"qb",(function(){return Ge})),n.d(t,"rb",(function(){return Ve})),n.d(t,"Zb",(function(){return ze})),n.d(t,"rc",(function(){return We})),n.d(t,"x",(function(){return Ye})),n.d(t,"a",(function(){return Ke})),n.d(t,"Lb",(function(){return Qe})),n.d(t,"D",(function(){return Xe})),n.d(t,"xc",(function(){return Ze})),n.d(t,"M",(function(){return Je})),n.d(t,"L",(function(){return $e})),n.d(t,"J",(function(){return et})),n.d(t,"N",(function(){return tt})),n.d(t,"O",(function(){return nt})),n.d(t,"P",(function(){return rt})),n.d(t,"K",(function(){return at})),n.d(t,"I",(function(){return ct})),n.d(t,"H",(function(){return ot})),n.d(t,"S",(function(){return st})),n.d(t,"R",(function(){return it})),n.d(t,"j",(function(){return lt})),n.d(t,"n",(function(){return ut})),n.d(t,"Hb",(function(){return dt})),n.d(t,"jc",(function(){return bt})),n.d(t,"pc",(function(){return ft})),n.d(t,"Ob",(function(){return jt})),n.d(t,"o",(function(){return pt})),n.d(t,"Q",(function(){return ht})),n.d(t,"vb",(function(){return Ot})),n.d(t,"lb",(function(){return xt})),n.d(t,"jb",(function(){return mt})),n.d(t,"ib",(function(){return gt})),n.d(t,"l",(function(){return vt})),n.d(t,"r",(function(){return yt})),n.d(t,"mb",(function(){return Ct})),n.d(t,"m",(function(){return St})),n.d(t,"mc",(function(){return wt})),n.d(t,"u",(function(){return Et})),n.d(t,"Qb",(function(){return kt})),n.d(t,"Ub",(function(){return Tt})),n.d(t,"Rb",(function(){return Rt})),n.d(t,"hb",(function(){return At})),n.d(t,"h",(function(){return _t})),n.d(t,"G",(function(){return It}));var r=n(2),a=n(6),c=n.n(a),o=n(17),s=n(736),i=n.n(s),l=n(276),u=n.n(l),d=window.SERVER_DATA,b=(null===d||void 0===d?void 0:d.api_url)||"/",f=u()(b,"/api"),j=i.a.create({baseURL:f}),p=function(e){return{Authorization:"Bearer ".concat(e)}};var h=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/telemetry?include_user_groups=true",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a,o){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/telemetry",Object(r.a)(Object(r.a)({event_name:n},a?{properties:a}:{}),o?{context:o}:{}),{headers:p(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("https://rasa.com/.netlify/functions/rasa-x-submit-feedback",{records:[{fields:{telemetry_id:t,name:n,email:r,checkboxChecked:a}}]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/auth",{username:t,password:n});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.patch("/user",{username:n},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/auth/saml");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/auth/enterpriseTokenLogin",{single_use_token:n},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/auth/jwt",{chat_token:t});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/user",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/users/".concat(n.username),n,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/users/".concat(n.username,"/roles"),r.map((function(e){return e.role})),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/users",{params:{username:n,role:r,limit:a,offset:o},headers:p(t)});case 2:return s=e.sent,e.abrupt("return",{users:s.data,total:Number(s.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/users/".concat(n.username),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/user/password",{username:n,old_password:r,new_password:a,new_password_confirm:o},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/roles",{params:{q:n,limit:r,offset:a},headers:p(t)});case 2:return o=e.sent,e.abrupt("return",{roles:o.data,total:Number(o.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/roles/".concat(n),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/roles/".concat(n,"/users"),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/roles",n,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/roles/".concat(r||n.role),n,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/roles/".concat(n.role),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/roles/".concat(n.role,"/users"),r.map((function(e){return e.username})),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/health",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/version",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/features",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/features",n,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/environments",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/models"),{params:{limit:r,offset:a,tag:o},headers:p(t)});case 2:return s=e.sent,e.abrupt("return",{models:s.data,total:Number(s.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),G=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/projects/".concat(n,"/models/").concat(r,"/tags/").concat(a),{},{headers:p(t)});case 2:return e.abrupt("return",{model:r});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/projects/".concat(n,"/models/").concat(r,"/tags/").concat(a),{headers:p(t)});case 2:return e.abrupt("return",{model:r});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/models/jobs"),{},{headers:p(t)});case 2:return r=e.sent,e.abrupt("return",{data:r.data,status:r.status});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/projects/".concat(n,"/models/").concat(r),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Y=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o,s){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/training_examples"),{params:{q:r,intent:a,limit:o,offset:s},headers:p(t)});case 2:return i=e.sent,e.abrupt("return",{examples:i.data,total:Number(i.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}(),K=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/training_examples/").concat(r),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Q=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/intents"),{headers:p(t),params:{"fields[example_hashes]":!1,"fields[suggestions]":!1}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/actions"),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/actions"),r,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),J=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/training_examples"),r,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),$=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/projects/".concat(n,"/training_examples/").concat(r.id),r,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ee=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/projects/".concat(n,"/training_examples/").concat(r.id),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),te=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/training_data"),{headers:Object(r.a)(Object(r.a)({},p(t)),{},{Accept:"text/markdown"}),transformResponse:[function(e){return e}]});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a,o){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/projects/".concat(n,"/training_examples"),a,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":o})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/training_data_warnings"),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/entities"),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/settings"),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/projects/".concat(n,"/settings"),a,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":"application/x-yaml"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),se=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/logs"),{},{params:{q:r},headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ie=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/domain",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/domain",n,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":"application/x-yaml"}),params:{store_responses:a}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ue=function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/domainWarnings",{headers:p(t)});case 2:return n=e.sent,e.abrupt("return",Object(r.a)(Object(r.a)({},n.data),{},{total:Number(n.headers["x-total-count"])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/projects/".concat(n,"/evaluations/").concat(r),{},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),be=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/evaluations/").concat(r),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),fe=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o,s,i,l){var u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/logs"),{params:{q:r,intent:a,limit:o,offset:s,sort_by:i||void 0,sort_order:l||void 0},headers:p(t)});case 2:return u=e.sent,e.abrupt("return",{suggestions:u.data,total:Number(u.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,s,i){return e.apply(this,arguments)}}(),je=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/logs/").concat(r),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),pe=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/projects/".concat(n,"/logs/").concat(r.id),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),he=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/synonyms"),{params:{q:r,reference:a,mapped_value:o},headers:p(t)});case 2:return s=e.sent,e.abrupt("return",{synonyms:s.data,total:Number(s.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/synonyms"),r,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/synonyms/").concat(r),a,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/projects/".concat(n,"/synonyms/").concat(r,"/").concat(a),{value:o},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),ge=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/projects/".concat(n,"/synonyms/").concat(r,"/").concat(a),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/projects/".concat(n,"/synonyms/").concat(r),{synonym_reference:a},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ye=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o,s,i){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/responseGroups",{params:{q:n,response_name:r,intersect_filters:a,precise_response_name_search:o,limit:s,offset:i},headers:p(t)});case 2:return l=e.sent,e.abrupt("return",{responses:l.data,total:Number(l.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,s){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/responses",n,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/responses/".concat(n.id),n,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),we=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/responseGroups/".concat(n),{name:r},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/responses/".concat(n.id),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/git_repositories"),{headers:p(t)});case 2:return r=e.sent,e.abrupt("return",{gitRepositories:r.data,total:Number(r.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Te=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/git_repositories/public_ssh_key"),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Re=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o,s,i){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/git_repositories/"),{repository_url:r,target_branch:a,is_target_branch_protected:o,use_generated_ssh_keys:!0,username:s||void 0,password:i||void 0},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,s){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o,s,i){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/projects/".concat(n,"/git_repositories/").concat(r),{target_branch:a,is_target_branch_protected:o,username:s||void 0,password:i||void 0},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,s){return e.apply(this,arguments)}}(),_e=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/projects/".concat(n,"/git_repositories/").concat(r),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/git_repositories/").concat(r,"/branches/").concat(encodeURIComponent(a),"/commits"),{},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/projects/".concat(n,"/git_repositories/").concat(r,"/branches/").concat(encodeURIComponent(a)),{},{params:{force:o},headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/git_repositories/").concat(r,"/status"),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/stories",{params:{q:n,limit:r,offset:a},headers:p(t)});case 2:return o=e.sent,e.abrupt("return",{stories:o.data,total:Number(o.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Le=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/stories",{params:{id:n.join(",")},headers:Object(r.a)(Object(r.a)({},p(t)),{},{Accept:"text/vnd.graphviz"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/stories",n.story,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":a?"text/markdown":"text/yaml"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Me=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/stories/".concat(n.id),n.story,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":a?"text/markdown":"text/yaml"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/stories/".concat(n.id),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/stories",n,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":a})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),He=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/stories",n,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":a})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),qe=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/stories",{headers:Object(r.a)(Object(r.a)({},p(t)),{},{Accept:"text/yaml"}),responseType:"text",transformResponse:[function(e){return e}]});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/rules",{params:{q:n,limit:r,offset:a},headers:p(t)});case 2:return o=e.sent,e.abrupt("return",{rules:o.data,total:Number(o.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/rules",{params:{id:n.join(",")},headers:Object(r.a)(Object(r.a)({},p(t)),{},{Accept:"text/vnd.graphviz"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/rules",n.story,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":"text/yaml"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),We=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/rules/".concat(n.id),n.story,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":"text/yaml"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/rules/".concat(n.id),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/rules",n,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":a})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/rules",n,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":a})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/rules",{headers:Object(r.a)(Object(r.a)({},p(t)),{},{Accept:"text/yaml"}),responseType:"text",transformResponse:[function(e){return e}]});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/models"),a,{headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":"multipart/form-data","Content-Encoding":"gzip"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Je=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/conversationIntents",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/conversationEntities",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/conversationActions",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/conversationPolicies",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/conversations/slotNames",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/conversations/slotValues",{params:{slot:n,q:r},headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),at=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/conversations/inputChannels",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/chatToken",{bot_name:n,description:r},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ot=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/chatToken",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a,o,s,i,l,u,d,b,f,h,O,x,m,g,v){var y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/conversations",{params:{limit:n,offset:r,start:a||void 0,until:o||void 0,maximumConfidence:"max"===(null===s||void 0===s?void 0:s.operator)?s.value:void 0,minimumConfidence:"min"===(null===s||void 0===s?void 0:s.operator)?s.value:void 0,maximumNluConfidence:"max"===(null===i||void 0===i?void 0:i.operator)?i.value:void 0,minimumNluConfidence:"min"===(null===i||void 0===i?void 0:i.operator)?i.value:void 0,minimumUserMessages:l&&l>0?l:1,is_flagged:g||void 0,in_training_data:!v&&void 0,intent:u?u.join(","):void 0,entity:d?d.join(","):void 0,action:b?b.join(","):void 0,policies:x?x.join(","):void 0,slots:h?h.join(","):void 0,input_channels:m?m.join(","):void 0,review_status:f||void 0,tags_any:O?O.map((function(e){return e.id})).join(","):void 0,interactive:!0,exclude_self:!1},headers:p(t)});case 2:return y=e.sent,e.abrupt("return",{conversations:y.data,total:Number(y.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,s,i,l,u,d,b,f,j,p,h,O,x){return e.apply(this,arguments)}}(),it=function(){var e=Object(o.a)(c.a.mark((function e(t,n,a,o,s,i,l,u){var d,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=s?{until:s,history:!1}:{},b=Object(r.a)(Object(r.a)({format:a,test_story:u},d),{},{since:i,environment:o}),e.next=4,j.get("/conversations/".concat(n),{params:b,headers:Object(r.a)(Object(r.a)({},p(t)),{},{Accept:l||"application/json"})});case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,s,i){return e.apply(this,arguments)}}(),lt=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/conversations",n,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ut=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/conversations/".concat(n),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/conversations/".concat(n,"/messages/").concat(r,"/flag"),{},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),bt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/conversations/".concat(n,"/messages/").concat(r,"/flag"),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ft=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/conversations/".concat(n,"/reviewStatus"),{review_status:r},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),jt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/conversations/".concat(n,"/tags"),r,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),pt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/conversations/".concat(n,"/tags/").concat(r.id),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ht=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/conversations/tags",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/statistics",{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/regexes/").concat(r),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),mt=function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/lookupTables"),{headers:p(t)});case 2:return r=e.sent,e.abrupt("return",{lookupTables:r.data,total:Number(r.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),gt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/lookupTables/").concat(r),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),vt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/lookupTables"),r,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),yt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/projects/".concat(n,"/lookupTables/").concat(r.id),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/projects/".concat(n,"/regexes"),{params:{limit:r,offset:a},headers:p(t)});case 2:return o=e.sent,e.abrupt("return",{regexes:o.data,total:Number(o.headers["x-total-count"])});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),St=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/projects/".concat(n,"/regexes"),r,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),wt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("/projects/".concat(n,"/regexes/").concat(r.id),r,{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Et=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.delete("/projects/".concat(n,"/regexes/").concat(r.id),{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),kt=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/stories",n,{params:{test_stories:!0},headers:Object(r.a)(Object(r.a)({},p(t)),{},{"Content-Type":"application/x-yaml"})});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/conversations/".concat(n,"/messages"),{message:r},{params:{environment:a},headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/conversations/".concat(n,"/events"),r,{params:{environment:a},headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),At=function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/conversations/".concat(n,"/predict"),{},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_t=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post("/conversations/".concat(n,"/execute"),{name:r},{headers:p(t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),It=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,a){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={start:r,end:a,window:n},e.next=3,j.get("/analytics",{params:o,headers:p(t)});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},13:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"s",(function(){return c})),n.d(t,"y",(function(){return o})),n.d(t,"x",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"A",(function(){return l})),n.d(t,"B",(function(){return u})),n.d(t,"r",(function(){return d})),n.d(t,"t",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return j})),n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return O})),n.d(t,"m",(function(){return x})),n.d(t,"j",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"u",(function(){return C})),n.d(t,"C",(function(){return S})),n.d(t,"q",(function(){return w})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return k})),n.d(t,"p",(function(){return T})),n.d(t,"z",(function(){return R})),n.d(t,"D",(function(){return A})),n.d(t,"v",(function(){return _})),n.d(t,"d",(function(){return I})),n.d(t,"w",(function(){return F}));var r=n(5),a=Object(r.createAsyncAction)("FETCH CONVERSATION","FETCH CONVERSATION SUCCESS","FETCH CONVERSATION FAILURE")(),c=Object(r.createStandardAction)("FETCH CONVERSATION (GUEST)")(),o=Object(r.createAsyncAction)("SAVE MESSAGE","SAVE MESSAGE SUCCESS","SAVE MESSAGE FAILURE")(),s=Object(r.createStandardAction)("SAVE MESSAGE (GUEST)")(),i=Object(r.createStandardAction)("CHANGE CONVERSATION ENVIRONMENT")(),l=Object(r.createStandardAction)("START POLLING MESSAGES")(),u=Object(r.createStandardAction)("STOP POLLING MESSAGES")(),d=Object(r.createAsyncAction)("FETCH CONVERSATIONS","FETCH CONVERSATIONS SUCCESS","FETCH CONVERSATIONS FAILURE")(),b=Object(r.createAsyncAction)("FETCH STATISTICS","FETCH STATISTICS SUCCESS","FETCH STATISTICS FAILURE")(),f=Object(r.createStandardAction)("DOWNLOAD CONVERSATION")(),j=Object(r.createAsyncAction)("DELETE CONVERSATION","DELETE CONVERSATION SUCCESS","DELETE CONVERSATION FAILURE")(),p=Object(r.createAsyncAction)("FETCH CONVERSATION INTENTS","FETCH CONVERSATION INTENTS SUCCESS","FETCH CONVERSATION INTENTS FAILURE")(),h=Object(r.createAsyncAction)("FETCH CONVERSATION ENTITIES","FETCH CONVERSATION ENTITIES SUCCESS","FETCH CONVERSATION ENTITIES FAILURE")(),O=Object(r.createAsyncAction)("FETCH CONVERSATION ACTIONS","FETCH CONVERSATION ACTIONS SUCCESS","FETCH CONVERSATION ACTIONS FAILURE")(),x=Object(r.createAsyncAction)("FETCH CONVERSATION POLICIES","FETCH CONVERSATION POLICIES SUCCESS","FETCH CONVERSATION POLICIES FAILURE")(),m=Object(r.createAsyncAction)("FETCH CONVERSATION CHANNELS","FETCH CONVERSATION CHANNELS SUCCESS","FETCH CONVERSATION CHANNELS FAILURE")(),g=Object(r.createAsyncAction)("FETCH CHAT TOKEN","FETCH CHAT TOKEN SUCCESS","FETCH CHAT TOKEN FAILURE")(),v=Object(r.createAsyncAction)("FETCH BOT DETAILS","FETCH BOT DETAILS SUCCESS","FETCH BOT DETAILS FAILURE")(),y=Object(r.createStandardAction)("CHANGE FILTER")(),C=Object(r.createAsyncAction)("FLAG MESSAGE","FLAG MESSAGE SUCCESS","FLAG MESSAGE FAILURE")(),S=Object(r.createAsyncAction)("UNFLAG MESSAGE","UNFLAG MESSAGE SUCCESS","UNFLAG MESSAGE FAILURE")(),w=Object(r.createAsyncAction)("FETCH CONVERSATION TAGS","FETCH CONVERSATION TAGS SUCCESS","FETCH CONVERSATION TAGS FAILURE")(),E=Object(r.createAsyncAction)("FETCH CONVERSATION SLOT NAMES","FETCH CONVERSATION SLOT NAMES SUCCESS","FETCH CONVERSATION SLOT NAMES FAILURE")(),k=Object(r.createAsyncAction)("FETCH CONVERSATION SLOT VALUES","FETCH CONVERSATION SLOT VALUES SUCCESS","FETCH CONVERSATION SLOT VALUES FAILURE")(),T=Object(r.createAsyncAction)("FETCH CONVERSATION STORY","FETCH CONVERSATION STORY SUCCESS","FETCH CONVERSATION STORY FAILURE")(),R=Object(r.createStandardAction)("SELECT INTENT")(),A=Object(r.createAsyncAction)("UPDATE REVIEW STATUS","UPDATE REVIEW STATUS SUCCESS","UPDATE REVIEW STATUS FAILURE")(),_=Object(r.createAsyncAction)("SAVE CONVERSATION TAGS","SAVE CONVERSATION TAGS SUCCESS","SAVE CONVERSATION TAGS FAILURE")(),I=Object(r.createAsyncAction)("DELETE CONVERSATION TAG","DELETE CONVERSATION TAG SUCCESS","DELETE CONVERSATION TAG FAILURE")(),F=Object(r.createAsyncAction)("SAVE E2E TEST","SAVE E2E TEST SUCCESS","SAVE E2E TEST FAILURE")()},130:function(e,t,n){"use strict";function r(e){window.open(e,"_blank","noopener,noreferrer")}function a(e){var t=/\.[0-9a-z]+$/i.exec(e);if(t)return t[0]}function c(e){var t="application/json";switch(a(e)){case".md":t="text/markdown";break;case".yml":case".yaml":t="text/yaml";break;case".json":t="application/json"}return t}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}))},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(15);function c(e,t,n,c,o){var s=t.reduce((function(e,t,r){var o=e.added,s=e.updated,i=e.items,l=i.length>n+r+o&&c(i[n+r+o],t);return{added:o+(l?0:1),updated:s+(l?1:0),items:[].concat(Object(a.a)(i.slice(0,n+r+o)),[t],Object(a.a)(i.slice(n+r+o+(l?1:0))))}}),{added:0,updated:0,items:Object.entries(e).map((function(e){var t=Object(r.a)(e,2);t[0];return t[1]}))}),i=s.items,l=s.added,u=s.updated;return 0===l&&0===u?e:i.reduce((function(e,t,n){return e[n]=o?o(t):t,e}),{})}},1422:function(e,t,n){"use strict";n.r(t);n(763);var r=n(1),a=n.n(r),c=n(94),o=n.n(c),s=n(2),i=n(0),l=n(14),u=n(18),d=n(72),b=n(724),f=n(150),j=n(235),p=n.n(j),h=n(418),O=n.n(h),x=n(3),m=n(52),g=n(111),v=n(23),y=n(132),C=n(15),S=n(8),w=n(4),E=n(272),k=n.n(E),T=n(1433),R=n(24),A=n(20),_=Object(l.default)(w.Flex).attrs((function(e){switch(e.variant){case"primary":return Object(s.a)({bg:"primary_2",color:"neutral_0"},e);case"error":return Object(s.a)({bg:"secondary_2",color:"neutral_0"},e)}})).withConfig({displayName:"Toast__Container",componentId:"q5tpyn-0"})([""," "," "," "," box-shadow:-3px 5px 20px 0 rgba(43,58,172,0.22);width:400px;text-align:left;transition:all ease 0.5s;"],A.maxWidth,A.letterSpacing,A.lineHeight,A.borderRadius);function I(e){var t=e.actions,n=e.head,a=e.children,c=(e.ref,e.onUnmount),o=e.icon,l=e.timeout,u=void 0===l?5e3:l,d=Object(v.a)(e,["actions","head","children","ref","onUnmount","icon","timeout"]);r.useEffect((function(){if(-1!==u){var e=setTimeout((function(){null===c||void 0===c||c()}),u);return function(){clearInterval(e)}}}),[c,u]);var b=Object(i.jsx)(i.Fragment,{children:n&&(o?Object(i.jsxs)(w.Flex,{flexDirection:"row",alignItems:"center",children:[o,Object(i.jsx)(x.i,{variant:"h2",inheritColor:!0,children:n})]}):Object(i.jsx)(x.i,{variant:"h2",inheritColor:!0,children:n}))}),f=a&&Object(i.jsx)(x.y,{inheritColor:!0,variant:"bodySecondary",children:a});return Object(i.jsxs)(_,Object(s.a)(Object(s.a)({},d),{},{children:[Object(i.jsxs)(w.Flex,{justifyContent:"space-between",mb:a?"12px":0,children:[n?b:f,c&&Object(i.jsx)(x.d,{onClick:c,variant:"plainIconDark",p:0,pt:"2px",alignSelf:"flex-start",color:"inherit",children:Object(i.jsx)(x.j,{icon:"times",fontSize:"16px"})})]}),n&&f,t&&Object(i.jsx)(w.Flex,{flexDirection:"row-reverse",mt:4,children:t})]}))}_.defaultProps={variant:"primary",m:4,mt:-2,px:5,py:4,fontSize:2,letterSpacing:0,lineHeight:"normal",borderRadius:"16px",flexDirection:"column"};var F=n(35),N=n(1432);function U(){var e=Object(F.a)(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(-100%, 0, 0);\n  }\n"]);return U=function(){return e},e}function L(){var e=Object(F.a)(["\n  from {\n    transform: translate3d(-100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return L=function(){return e},e}function D(){var e=Object(F.a)(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(100%, 0, 0);\n  }\n"]);return D=function(){return e},e}function M(){var e=Object(F.a)(["\n  from {\n    transform: translate3d(100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]);return M=function(){return e},e}var P=Object(l.keyframes)(M()),B=Object(l.keyframes)(D()),H=(Object(l.keyframes)(L()),Object(l.keyframes)(U()),Object(l.default)(N.a).attrs({classNames:"slide-right"}).withConfig({displayName:"Transition__SlideRight",componentId:"sc-1f1b9kx-0"})(["&.slide-right-enter{animation:"," ","ms linear both;}&.slide-right-exit{animation:"," ","ms linear both;}"],P,(function(e){return e.duration}),B,(function(e){return e.duration}))),q=n(16),G=n(98);function V(e){var t=e.link;return Object(i.jsx)(x.y,{variant:"bodySecondary",fontWeight:400,as:"a",target:"_blank",href:t.href,color:"neutral_0",onClick:function(){var e;null===(e=t.action)||void 0===e||e.call(t)},children:t.title})}var z=Object(l.default)(j.BaseModalBackground).attrs((function(){return{"data-e2e":"ModalBackground"}})).withConfig({displayName:"OnboardingStep__StyledDimmable",componentId:"mj904u-0"})(["z-index:110;opacity:1;transition:all cubic-bezier(0.46,0.1,0.52,0.98) 250ms;"]);function W(e){var t=e.setActiveStepInstance,n=Object(v.a)(e,["setActiveStepInstance"]),r=Z(),a=r.currentDetachedStep,c=r.currentOnboardingHint,o=r.nextSteps,l=r.onboardingShown,u=r.setCurrentDetachedStep,d=r.setOnboardingShown,b=a||o[0];return Object(i.jsxs)(q.d,{flexDirection:"column-reverse",as:"div",p:0,mr:32,mb:92,sx:{position:"fixed",right:0,bottom:0,zIndex:99991},children:[l&&b.showDarkBackground&&!c&&Object(i.jsx)(z,{}),Object(i.jsx)(G.a,Object(s.a)({borderRadius:"large",animation:"shift-away",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",arrow:!1,p:4,offset:[-40,-20],mx:0,onCreate:function(e){return t(e)},textAlign:"left",heading:Object(i.jsx)(x.i,{flex:1,variant:"h2",inheritColor:!0,mb:"12px",children:b.title}),visible:!c&&l&&(null!=a||o.length>0),sticky:!0,disabled:!1,interactive:!0,placement:"bottom-end",onCloseClick:function(){var e;d(!1),u(null),null===(e=b.onClose)||void 0===e||e.call(b)},content:Object(i.jsxs)(q.a,{sx:{width:"352px"},children:[Object(i.jsxs)(q.a,{sx:{width:"320px"},children:[Object(i.jsx)(x.y,{color:"neutral_0",as:"div",variant:"bodySecondary",children:b.content}),b.links&&Object(i.jsx)(q.d,{flexDirection:"column",mt:2,children:b.links.map((function(e,t){return Object(i.jsx)(V,{link:e},b.name+"_"+t)}))})]}),(b.action||b.customActions)&&Object(i.jsx)(q.d,{mt:4,children:Object(i.jsxs)(q.d,{sx:{marginLeft:"auto"},children:[b.action&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{ml:3,variant:"plain",onClick:function(){var e;d(!1),u(null),null===(e=b.onClose)||void 0===e||e.call(b)},children:"Not right now"}),Object(i.jsx)(x.d,{ml:3,variant:"inverse",onClick:function(){var e;null===(e=b.action)||void 0===e||e.call(b)},children:"Let's do it"})]}),b.customActions&&b.customActions.map((function(e){var t=e.variant,n=e.content,r=e.action;return Object(i.jsx)(x.d,{ml:3,variant:t||"inverse",onClick:r,children:n})}))]})})]})},n))]})}function Y(e){var t=e.currentUser,n=Z(),r=n.onboardingShown,a=n.currentDetachedStep,c=n.setOnboardingShown,o=n.nextSteps;if(t&&(null!=a||o.length>0)){var s=a||o[0];return Object(i.jsxs)(w.Flex,{as:"div",p:0,m:0,sx:{position:"fixed",right:5,bottom:5,zIndex:130},children:[Object(i.jsx)(x.d,{variant:"onboardingIcon",onClick:function(){c((function(e){return!e}))},children:s.icon||"?"}),Object(i.jsx)(x.c,{sx:{position:"absolute",right:"-4px",top:"2px",width:"16px",height:"16px",border:"2px solid",borderColor:"neutral_0",transition:"transform 0.2s cubic-bezier(0.51, 0.92, 0.24, 1.15)",transform:"scale(".concat(s.showBadge&&!r?1:0,")")}})]})}return null}var K=function(e,t,n,r,a){return[{name:"ivc_connected",title:"Welcome to Rasa X!",showBadge:!0,icon:"\ud83d\udc4b",content:"Rasa X will help you develop and improve your assistant. To help get you started we can show you the most important parts.",showDarkBackground:!0,onClose:function(){a("Prompt Clicked",{prompt:"Onboarding Welcome",action:"Dismiss"})},action:function(){a("Prompt Clicked",{prompt:"Onboarding Welcome",action:"Start"}),e("connect_repo")}},{name:"models_model_added",title:"You have a repo connected",content:"Now it\u2019s time to add a model.",showBadge:!0,action:function(){e("upload_model")}},{name:"models_model_promoted",title:"You have a model! Time to activate it",content:"Make the model available by activating it from the \u201cmodels\u201d screen.",showBadge:!0,action:function(){r("/models"),e("activate_model")}},{name:"messages_message_sent",title:"Your assistant is up and running",content:"Now you can get your assistant talking to test users.",showBadge:!0,action:function(){r("/conversations"),e("share_bot")}},{name:"nlu_message_annotated",title:"Your assistant is talking to users",content:"Now let\u2019s use those conversations to improve your assistant\u2019s NLU classification.",showBadge:!0,action:function(){r("/nlu-inbox"),t({name:"annotate_data",title:"Improve your assistant with data from real conversations",content:"The NLU Inbox collects messages your assistant has received that are not in your training data. Ensure that the intent and any entities are correctly labelled and then add them to your training data.",showDarkBackground:!1,showBadge:!0,links:[{title:"Learn more about annotating NLU examples",href:"//rasa.com/docs/rasa-x/user-guide/annotate-nlu-examples/"}]})}},{name:"ivc_changes_pushed",title:"You\u2019ve added improvements to your training data",content:"Now it\u2019s time to push your updates to Git",showBadge:!0,action:function(){e("push_changes")}},{name:"onboarding_end",icon:"\ud83c\udf89",title:"Nice work! Now you can continue building and improving your assistant.",content:"You\u2019ll see the most benefit when you repeat these steps: a continuous loop of improvement, based on conversation with real users. Next you may want to learn more about:",onClose:function(){a("Prompt Clicked",{prompt:"Onboarding Complete",action:"Dismiss"})},customActions:[{content:"Okay",action:function(){n(!1),a("Prompt Clicked",{prompt:"Onboarding Complete",action:"Dismiss"})}}],links:[{title:"CI/CD for your assistant",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#set-up-initial-ci-cd",action:function(){a("Prompt Clicked",{prompt:"Onboarding Complete",action:"CI/CD Link",link:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#set-up-initial-ci-cd"})}},{title:"Adding a custom action server",href:"//rasa.com/docs/rasa/user-guide/how-to-deploy/#using-your-custom-action-server-image",action:function(){a("Prompt Clicked",{prompt:"Onboarding Complete",action:"Action Server Link",link:"//rasa.com/docs/rasa/user-guide/how-to-deploy/#using-your-custom-action-server-image"})}},{title:"Connecting to a messaging channel",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-external-channels",action:function(){a("Prompt Clicked",{prompt:"Onboarding Complete",action:"Message Channel Link",link:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-external-channels"})}}],showBadge:!1}]},Q=a.a.createContext({});function X(e){var t=Object(u.d)((function(e){return e.users.currentUser})),n=a.a.useMemo((function(){var e;return null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.viewed_hints}),[t]),r=a.a.useState(null),c=Object(S.a)(r,2),o=c[0],s=c[1],l=a.a.useState(!1),b=Object(S.a)(l,2),f=b[0],j=b[1],p=a.a.useState(null),h=Object(S.a)(p,2),O=h[0],x=h[1],g=a.a.useState(null),v=Object(S.a)(g,2),y=v[0],C=v[1],w=a.a.useState(null),E=Object(S.a)(w,2),k=E[0],T=E[1],A=Object(d.g)().push,_=Object(R.l)(),I=a.a.useMemo((function(){return K(x,C,j,A,_)}),[x,C,A,_]),F=a.a.useMemo((function(){return I.filter((function(e){return!n||-1===n.indexOf(e.name)}))}),[I,n]);return a.a.useEffect((function(){T(F[0].name),C(null),j(!0)}),[F]),Object(i.jsxs)(Q.Provider,{value:{activeStepInstance:o,currentDetachedStep:y,currentOnboardingHint:O,currentOnboardingStep:k,nextSteps:F,onboardingShown:f,onboardingSteps:I,setCurrentDetachedStep:C,setCurrentOnboardingHint:x,setCurrentOnboardingStep:T,setOnboardingShown:j},children:[e.children,!!t&&!m.a&&m.b&&Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(W,{setActiveStepInstance:s,children:Object(i.jsx)(Y,{currentUser:t})})})]})}var Z=function(){return a.a.useContext(Q)},J=a.a.createContext({});function $(e){var t=a.a.useState({right:0,bottom:0}),n=Object(S.a)(t,2),r=n[0],c=n[1],o=Z().activeStepInstance,l=a.a.useState([]),u=Object(S.a)(l,2),d=u[0],b=u[1],f=a.a.useCallback((function(e){b((function(t){return[].concat(Object(C.a)(t),[Object(s.a)(Object(s.a)({},e),{},{key:e.key||k()()})])}))}),[]),j=a.a.useCallback((function(e){b((function(t){return t.filter((function(t){return t.key!==e}))}))}),[]);return Object(R.f)((function(e){var t,n=Object(y.a)(e);try{var r=function(){var e=t.value;c((function(){return e.target.getBoundingClientRect().height>0?{right:"48px",bottom:"".concat(window.innerHeight-e.target.getBoundingClientRect().top,"px"),marginBottom:"-8px"}:{right:0,bottom:0}}))};for(n.s();!(t=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}}),null===o||void 0===o?void 0:o.popper),Object(i.jsxs)(J.Provider,{value:{toasts:d,addToast:f,removeToast:j},children:[e.children,Object(i.jsx)(w.Flex,{flexDirection:"column-reverse",as:"ul",p:0,sx:Object(s.a)({position:"fixed",zIndex:99992},r),children:Object(i.jsx)(T.a,{component:null,children:d.map((function(e){var t=e.content,n=e.key,r=e.onUnmount,a=Object(v.a)(e,["content","key","onUnmount"]);return Object(i.jsx)(H,{timeout:500,duration:200,children:Object(i.jsx)(I,Object(s.a)(Object(s.a)({as:"li",onUnmount:function(){n&&j(n),r&&r()}},a),{},{children:t}),n)},n)}))})})]})}var ee=function(){return a.a.useContext(J)},te=a.a.createContext({});function ne(e){var t=a.a.useState(!1),n=Object(S.a)(t,2),r=n[0],c=n[1],o=a.a.useState(null),l=Object(S.a)(o,2),u=l[0],d=l[1],b=a.a.useState(null),f=Object(S.a)(b,2),j=f[0],p=f[1],h=a.a.useState({}),O=Object(S.a)(h,2),x=O[0],m=O[1],g=a.a.useCallback((function(e){m((function(t){return Object(s.a)(Object(s.a)({},t),{},{[e.source]:e})}))}),[]),v=a.a.useCallback((function(e){return function e(t,n){if(!t)return n;var r=x[t];return r?e(r.nextSource,r.canBeShown?[].concat(Object(C.a)(n),[t]):n):n}(e,[])}),[x]),y=a.a.useCallback((function(e){var t=v(j);!e&&t.length>0?p(t[0]):t.length>=2?p(t[1]):p(null)}),[j,p,v]),w=Object(R.l)();a.a.useEffect((function(){r&&w("conversation:hints:enable")}),[w,r]);var E=a.a.useMemo((function(){return v(u)}),[u,v]),k=a.a.useMemo((function(){return v(j)}),[j,v]);return Object(i.jsx)(te.Provider,{value:{hintsEnabled:r,initialHint:u,currentHint:j,allHints:E,nextHints:k,getNextHints:v,setHintsEnabled:c,setInitialHint:d,setCurrentHint:p,addHint:g,updateCurrentHint:y},children:e.children})}var re=function(){return a.a.useContext(te)},ae=n(170);function ce(){var e=Object(F.a)(["\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: Lato, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu,\n      Cantarell, 'Helvetica Neue', sans-serif;\n      letter-spacing: 0.6px;\n    }\n    \n    *, *:hover, *:focus {\n      outline: none;\n    }\n    \n    *::-moz-focus-inner {\n      border: none;\n    }\n    \n    html, body, #root {\n      height: 100%;\n      margin: 0;\n      padding: 0;\n  }\n\n  body {\n    background-color: #fff !important;\n  }\n\n  .defaultEditorStyles {\n    color: #252D40;\n    font-size: 13px;\n  }\n\n  .DraftEditor-root {\n    width: 100%;\n  }\n\n  ","\n"]);return ce=function(){return e},e}function oe(){var e=Object(F.a)(["\n  ","\n"]);return oe=function(){return e},e}function se(){var e=Object(F.a)(["\n  ","\n\n  ","\n\n  ","\n"]);return se=function(){return e},e}var ie=Object(l.css)(se(),Object(ae.a)({fontFamily:"Lato",fontFilePath:"".concat("","/fonts/lato-v14-latin/lato-v14-latin-regular"),fontStyle:"normal",fontWeight:"400",fileFormats:["woff2","woff","ttf","svg"]}),Object(ae.a)({fontFamily:"Lato",fontFilePath:"".concat("","/fonts/lato-v14-latin/lato-v14-latin-700"),fontStyle:"normal",fontWeight:"700",fileFormats:["woff2","woff","ttf","svg"]}),Object(ae.a)({fontFamily:"IBM Plex Mono",fontFilePath:"".concat("","/fonts/ibm-plex-mono-v4-latin/ibm-plex-mono-v4-latin-regular"),fontStyle:"normal",fontWeight:"400",fileFormats:["woff2","woff","ttf","svg"]})),le=(Object(l.createGlobalStyle)(oe(),ie),Object(l.createGlobalStyle)(ce(),ie)),ue=n(134),de=n(12);function be(e){var t=e.children,n=Object(u.c)(),a=r.useMemo((function(){return"/"===de.Kb?new URL("/",window.location.href).origin:de.Kb}),[]),c=r.useMemo((function(){return a.replace(/http(s)?:\/\/(.*)/,"ws$1://$2/api/ws")}),[a]);return r.useEffect((function(){return n(Object(ue.connect)(c)),function(){n(Object(ue.disconnect)())}}),[n,c]),Object(i.jsx)(i.Fragment,{children:t})}var fe=n(28),je=n(27),pe=n(33),he=n(67),Oe=n.n(he),xe=n(31),me=n(9),ge=n(48);function ve(e){return Object(i.jsx)(G.a,Object(s.a)({boxShadow:"-3px 5px 13px 0 rgba(0, 0, 0, 0.18)",bg:"dark_1",arrow:!1,placement:"right-end",offset:[0,4],appendTo:"parent",borderRadius:"normal",interactive:!0,animation:"shift-away",sticky:!0,inertia:!0,interactiveBorder:4,delay:[100,100]},e))}var ye=n(148),Ce=n(95);function Se(e){var t=e.value;return Object(i.jsx)(x.y,{as:"div",color:"neutral_0",backgroundColor:"primary_2",py:1,px:2,sx:{fontWeight:"bold",fontSize:"12px",borderRadius:"14px"},children:t})}var we=r.memo(Se);function Ee(){var e=Object(F.a)(["\n            transform: scaleY(0);\n            opacity: 0;\n          "]);return Ee=function(){return e},e}function ke(){var e=Object(F.a)(["\n            transform: scaleY(1);\n            opacity: 1;\n          "]);return ke=function(){return e},e}function Te(){var e=Object(F.a)(["\n      "," ","\n    "]);return Te=function(){return e},e}var Re=Object(A.variant)({key:"menuItem"}),Ae=Object(l.default)(w.Box).withConfig({displayName:"MenuItem__Container",componentId:"sc-1k0m975-0"})([""," "," "," "," position:relative;flex-shrink:0;transition:background-color 0.2s ease,color 0.2s ease;cursor:",";"," &:before{content:'';width:4px;height:100%;"," position:absolute;left:0;"," border-radius:2px;transition:transform cubic-bezier(0.51,0.92,0.24,1.15) 0.2s;","}"],Re,A.height,A.alignItems,A.display,(function(e){return e.onClick?"pointer":"default"}),(function(e){return e.active&&Object(l.css)(Te(),Ce.c,Ce.b)}),Object(A.system)({lineBeforeColor:{property:"backgroundColor",scale:"colors"}}),(function(e){return e.active?Object(l.css)(ke()):Object(l.css)(Ee())}),(function(e){return!e.lineBefore&&"display: none;"}));function _e(e){var t=e.rightIcon,n=e.children,r=e.icon,a=e.p,c=e.badge,o=Object(v.a)(e,["rightIcon","children","icon","p","badge"]);return Object(i.jsx)(Ae,Object(s.a)(Object(s.a)({width:"100%",p:a},o),{},{"data-e2e":"component:menu-item",children:Object(i.jsxs)(w.Flex,{width:"100%",flexDirection:"row",alignItems:"center",children:[r&&Object(i.jsx)(w.Box,{flex:"0 0 40px",style:{textAlign:"center",lineHeight:1},pr:3,children:r}),Object(i.jsx)(x.y,{style:{whiteSpace:"nowrap",flexGrow:1},inheritColor:!0,variant:"bodySecondary",as:"div",children:n}),c&&Object(i.jsx)(we,{value:c}),t&&Object(i.jsx)(w.Box,{pr:3,children:t})]})}))}function Ie(e){var t=e.children,n=e.name,r=e.title,a=e.content,c=e.links,o=e.actions,l=Object(v.a)(e,["children","name","title","content","links","actions"]),u=Z(),d=u.onboardingShown,b=u.currentOnboardingHint,f=u.setOnboardingShown,j=u.setCurrentOnboardingHint;return b?Object(i.jsx)(G.a,Object(s.a)(Object(s.a)({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",p:4,heading:r&&Object(i.jsx)(x.i,{flex:1,variant:"h2",inheritColor:!0,mb:"12px",children:r}),textAlign:"left",visible:b===n,disabled:!d,interactive:!0,placement:"bottom-end",onHide:function(){b===n&&(j(null),f(!1))},onCloseClick:function(){j(null),f(!1)},content:Object(i.jsxs)(q.a,{sx:{width:"352px",boxSizing:"content-box"},children:[Object(i.jsxs)(q.a,{pr:5,children:[Object(i.jsx)(x.y,{color:"neutral_0",as:"div",variant:"bodySecondary",children:a}),c&&Object(i.jsx)(q.d,{flexDirection:"column",mt:3,children:c.map((function(e,t){return Object(i.jsx)(V,{link:e},n+"_"+t)}))})]}),o&&Object(i.jsx)(q.d,{flexDirection:"row-reverse",children:o})]}),appendTo:document.body,offset:[0,8]},l),{},{children:t})):Object(i.jsx)(i.Fragment,{children:t})}Ae.defaultProps={lineBeforeColor:"primary_2",colorActive:"neutral_0",bgActive:"dark_2"},_e.defaultProps={as:"li",icon:null,textAlign:"left",height:48,alignItems:"center",p:3,display:"flex",variant:"default",lineBefore:!0};var Fe=n(741),Ne=n.n(Fe),Ue=n(25);function Le(){var e=Object(F.a)(["\n      top: ",";\n      left: ",";\n      transform: translate(",", ",");\n      border-","-","-radius: ",";\n      border-",": 0 none;\n      border-",": 0 none;\n    "]);return Le=function(){return e},e}var De=Object(l.default)(w.Card).withConfig({displayName:"Clipboard__StyledClipboard",componentId:"sc-1607kll-0"})(["position:absolute;overflow:hidden;"," & .ClipboardButton{border:0;padding:0;cursor:pointer;width:24px;height:24px;"," ","}"],(function(e){var t=e.theme,n=e.top,r=e.left;return Object(l.css)(Le(),n?0:"100%",r?0:"100%",r?0:"-100%",n?0:"-100%",n?"bottom":"top",r?"right":"left",t.radii.normal,n?"top":"bottom",r?"left":"right")}),A.color,Ce.d);function Me(e){var t=e.text,n=(e.ref,e.onCopy),a=Object(v.a)(e,["text","ref","onCopy"]),c=r.useState(!1),o=Object(S.a)(c,2),l=o[0],u=o[1];return r.useEffect((function(){if(l){n&&n();var e=setTimeout((function(){return u(!1)}),5e3);return function(){return clearTimeout(e)}}}),[l,n]),Object(i.jsx)(De,Object(s.a)(Object(s.a)({color:"neutral_6",bg:"neutral_2",colorHover:"neutral_7",sx:{border:"1px solid",borderColor:"neutral_5"}},a),{},{children:Object(i.jsx)(Ue.a,{content:l?"Successfully copied":"Copy to clipboard",children:Object(i.jsx)(Ne.a,{as:"button","button-className":"ClipboardButton","data-clipboard-text":t,onSuccess:function(){return u(!0)},children:Object(i.jsx)(x.j,{icon:["far","clone"],fontSize:"12px"})})})}))}function Pe(e){var t=e.preformatted,n=e.children,a=e.onCopy,c=e.disabled,o=e.fullSize,l=e.clipboardText,u=Object(v.a)(e,["preformatted","children","onCopy","disabled","fullSize","clipboardText"]),d=r.useMemo((function(){return l||(Array.isArray(n)?n.join(t?"\n":""):n)}),[n,l,t]);return Object(i.jsxs)(w.Card,Object(s.a)(Object(s.a)({bg:"neutral_1"},u),{},{sx:Object(s.a)({position:"relative",maxHeight:"280px",overflow:"hidden",borderColor:"neutral_5",borderRadius:"normal",borderWidth:"1px",borderStyle:"solid"},o?{height:"100%",overflow:"auto"}:{}),children:[Object(i.jsx)(Me,{text:d,onCopy:a&&a}),Object(i.jsx)(x.y,{variant:"code",color:c?"neutral_6":"neutral_8",style:{overflow:"auto",textOverflow:"initial",wordBreak:"break-all",display:"block"},children:t&&Array.isArray(n)?n.map((function(e,t){return Object(i.jsx)("pre",{style:{margin:0},children:e},t)})):n})]}))}function Be(e){var t=e.onUploadModel,n=e.onClose,a=e.allowFileUpload,c=void 0===a||a,o=Object(u.d)((function(e){return e.auth.apiToken})),s=r.useMemo((function(){return new URL(de.c,window.location.href).href}),[]),l=r.useMemo((function(){return'curl -k -F "model=@my_model.tar.gz" "'.concat(s,"/projects/default/models?api_token=").concat(o,'"')}),[o,s]),d=r.useCallback((function(e){var r=e.target.files[0];if(r){var a=new FormData;a.append("model",r),t(a),n()}}),[t,n]);return Object(i.jsxs)(w.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,style:{textAlign:"left"},children:[Object(i.jsx)(x.i,{variant:"h3",mb:2,children:"Upload a model"}),Object(i.jsx)(x.y,{variant:"bodySecondary",mb:3,children:"To upload a model via the API, use this command:"}),Object(i.jsx)(w.Box,{width:1,children:Object(i.jsx)(Pe,{children:l})}),c?Object(i.jsx)(x.B,{accept:"application/gzip, .gz",onUpload:d,fullWidth:!0,mt:3,width:1,large:!0,children:"Upload a model from files instead"}):Object(i.jsxs)(w.Flex,{alignSelf:"flex-end",flexDirection:"row-reverse",mt:3,children:[Object(i.jsx)(x.d,{large:!0,ml:2,onClick:function(){return n()},children:"Done"}),Object(i.jsx)(x.d,{large:!0,onClick:function(){return n()},variant:"secondary",children:"Cancel"})]})]})}function He(e){var t=e.style,n=e.ml,r=void 0===n?2:n,a=e.color,c=void 0===a?"neutral_6":a,o=Object(v.a)(e,["style","ml","color"]);return Object(i.jsx)(w.Box,{ml:r,style:t,children:Object(i.jsx)(Ue.a,Object(s.a)(Object(s.a)({},o),{},{children:Object(i.jsx)(x.j,{color:c,icon:"info-circle"})}))})}Me.defaultProps={top:!0,left:!1},Pe.defaultProps={p:20},He.defaultProps={interactive:!0,px:4,py:3};var qe=Object(l.default)(G.a).withConfig({displayName:"Popup__Tooltip",componentId:"sc-1jg9gyz-0"})([""," "," max-width:max-content !important;box-shadow:0 2px 8px 0 rgba(116,118,123,0.31) !important;"],A.border,A.color);function Ge(e){e.actions;var t=e.title,n=e.children,r=e.content,a=e.onClickOutside,c=e.popupWidth,o=Object(v.a)(e,["actions","title","children","content","onClickOutside","popupWidth"]);return Object(i.jsx)(qe,Object(s.a)(Object(s.a)({content:Object(i.jsxs)(w.Box,{width:c,children:[t&&Object(i.jsx)(w.Card,{p:4,sx:{borderBottom:"1px solid",borderColor:"neutral_2"},children:Object(i.jsxs)(w.Flex,{justifyContent:"space-between",alignItems:"center",children:[t,o.onClose&&Object(i.jsx)(w.Box,{onClick:function(){return o.onClose()},style:{cursor:"pointer"},children:Object(i.jsx)(x.j,{icon:["fal","times"],color:"neutral_6",fontSize:"24px"})})]})}),Object(i.jsx)(w.Box,{children:r})]}),onClickOutside:a||o.onClose},o),{},{children:n}))}function Ve(e){var t=e.onTrainModel,n=e.modelIsTraining,r=e.onUploadModel,c=e.asideExpanded,o=e.setAsideForceExpanded,s=Object(u.d)((function(e){return e.models.total})),l=a.a.useState(!1),d=Object(S.a)(l,2),b=d[0],f=d[1],j=a.a.useState(!1),p=Object(S.a)(j,2),h=p[0],O=p[1],m=a.a.useState(!1),g=Object(S.a)(m,2),v=g[0],y=g[1],C=Z(),w=C.setOnboardingShown,E=C.currentOnboardingHint,k=a.a.useCallback((function(){"upload_model"===E&&w(!1)}),[E,w]),T=a.a.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FormData;n.append("model",t),r(n)}O(!1),k()}),[r,k]);return a.a.useEffect((function(){c&&!v&&O(!1)}),[c,v]),Object(i.jsx)(Ie,{title:"Upload or train your first model",content:"In order for your assistant to respond to messages it receives, you will need upload or train a model.",links:[{title:"Learn more about models",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#train-upload-a-model"}],sticky:!0,name:"upload_model",placement:"right-start",offset:[0,v||h?287:43],moveTransition:"transform 0.2s cubic-bezier(0, 0.92, 0.24, 1.15)",children:Object(i.jsx)(Ge,{onClose:function(){return f(!1)},content:Object(i.jsx)(Be,{onClose:function(){f(!1)},onUploadModel:r,allowFileUpload:!1}),onShow:function(){return o(!0)},onHide:function(){return o(!1)},offset:[0,31],sticky:!0,appendTo:"parent",visible:b,placement:"right-start",containerStyle:{flex:1},children:Object(i.jsx)(ve,{placement:"right-start",offset:[0,28],disabled:b,hideOnClick:!1,onHide:function(){if(y(!1),h)return!1},onShow:function(){y(!0)},onTrigger:function(){h&&O(!1)},containerStyle:{flex:1},content:Object(i.jsxs)(ye.a,{flexDirection:"column",width:248,py:2,children:[Object(i.jsx)(x.A,{accept:"application/gzip, .gz",onUpload:T,children:Object(i.jsx)(_e,{as:"span",p:2,onClick:function(){O(!0)},pl:5,children:"Upload from files"})}),Object(i.jsx)(_e,{p:2,onClick:function(){f(!0),o(!0),k()},pl:5,children:Object(i.jsxs)(q.d,{alignItems:"center",justifyContent:"space-between",pr:"12px",children:[Object(i.jsx)(q.d,{children:"Upload via API"}),Object(i.jsx)(q.a,{fontSize:3,children:Object(i.jsx)(He,{appendTo:document.body,color:"inherit",interactive:!0,placement:"right",offset:[0,27],content:Object(i.jsxs)(q.a,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"},children:[Object(i.jsx)(q.a,{as:"a",color:"neutral_0",target:"_blank",href:"https://rasa.com/docs/",children:"Learn more"})," ","about training a model in a CI/CD pipeline"]})})})]})}),Object(i.jsx)(_e,{p:2,onClick:function(){k(),t()},pl:5,children:"Train model"})]}),children:Object(i.jsxs)(x.m,{width:1,large:!0,onClick:function(){},variant:"primaryDark",loading:n,children:[0===s?"Add":"Update"," model"]})})})})}function ze(e){var t=e.onNavigate;return Object(i.jsxs)(ye.a,{flexDirection:"column",width:248,py:2,children:[Object(i.jsx)(xe.a,{resource:me.d.Users,action:me.a.Read,yes:Object(i.jsx)(_e,{p:2,onClick:function(){return t("/users")},height:48,pl:5,children:"Manage users"})}),Object(i.jsx)(xe.a,{resource:me.d.Roles,action:me.a.Read,yes:Object(i.jsx)(_e,{p:2,onClick:function(){return t("/roles")},height:48,pl:5,children:"Manage roles"})})]})}Ge.defaultProps={animation:"shift-away",appendTo:document.body,arrow:!1,bg:"neutral_0",borderRadius:"large",offset:[0,16],interactive:!0,placement:"bottom-end",role:"popup"};var We=Object(A.system)({widthHover:{property:"width",scale:"space"}}),Ye=Object(l.default)(w.Flex).withConfig({displayName:"Aside",componentId:"p8q4xd-0"})(["height:100%;position:absolute;transition:width 0.2s cubic-bezier(0.51,0.92,0.24,1.15);&:hover,&.force-focus{"," box-shadow:0 0 4px 0 rgba(24,30,46,0.55);}"],We);Ye.defaultProps={as:"aside",bg:"dark_1",width:"56px",widthHover:"248px",flexDirection:"column",alignItems:"flex-start"};var Ke=r.memo(Ye),Qe=Object(l.default)(w.Box).withConfig({displayName:"IconBadge__Box",componentId:"sc-1k437im-0"})([""]),Xe=Qe;function Ze(e){var t=e.top,n=e.right,r=void 0===n?"default":n,a=e.left,c=void 0===a?"default":a,o=e.show,s=e.color,l=void 0===s?"primary_1":s,u=e.borderColor,d=void 0===u?"neutral_0":u,b=e.size,f=void 0===b?"9px":b;return o?Object(i.jsx)(Qe,{bg:l,sx:{top:t,right:r,left:c,position:"absolute",width:f,height:f,borderRadius:"50%",borderWidth:"2px",borderStyle:"solid",borderColor:d}}):null}function Je(e){var t=e.children,n=e.content,r=e.title,a=Object(v.a)(e,["children","content","title"]);return Object(i.jsx)(G.a,Object(s.a)(Object(s.a)({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"rgba(44, 57, 81, 0.96)",placement:"right-start",animation:"shift-away",content:Object(i.jsx)(w.Box,{sx:{width:"320px"},children:n}),delay:[500,0],arrow:!0,offset:[0,16],px:4,pt:3,pb:4,textAlign:"left",heading:Object(i.jsx)(x.i,{flex:1,variant:"h4",inheritColor:!0,mb:2,children:r}),inlinePositioning:!0},a),{},{children:Object(i.jsx)(w.Box,{width:1,children:t})}))}var $e={primary:{},secondary:{height:48,pl:5,lineBefore:!1}};function et(e){var t=e.permission,n=void 0===t?[]:t,a=e.title,c=e.description,o=e.path,l=e.match,u=e.icon,b=e.badge,f=e.variant,j=void 0===f?"primary":f,p=Object(d.g)(),h=p.push,O=p.location,m=r.useCallback((function(){return h(o)}),[h,o]),g=r.useMemo((function(){return!!Object(d.f)(O.pathname,{path:l||o})}),[O.pathname,l,o]),v=Object(S.a)(n,2),y=v[0],C=v[1];if(!Object(R.g)(y,C))return null;var w=$e[j];return c?Object(i.jsx)(Je,{title:a,content:c,children:Object(i.jsx)(_e,Object(s.a)(Object(s.a)({onClick:m,active:g,"aria-label":a,icon:u&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ze,{show:!!b,top:"10px",left:"28px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),Object(i.jsx)(x.j,{icon:u})]}),badge:b},w),{},{children:a}))}):Object(i.jsx)(_e,Object(s.a)(Object(s.a)({onClick:m,active:g,icon:u&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ze,{show:!!b,top:"10px",left:"28px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),Object(i.jsx)(x.j,{icon:u})]}),badge:b},w),{},{children:a}))}function tt(e){var t=e.activeGitRepository,n=e.activeRepositoryStatus,r=e.gitStatus,a=e.gitStatusColor,c=e.gitStatusCopy,o=e.isCommittingToNewBranch,s=e.setCommittingToNewBranch;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(w.Flex,{sx:{borderBottom:"solid 1px #f2f4fa"},px:4,py:4,children:[Object(i.jsx)(w.Box,{size:20,bg:a(r),sx:{borderRadius:"4px"},mr:"12px"}),Object(i.jsxs)(x.y,{as:"div",variant:"bodySecondary",children:[Object(i.jsx)(w.Box,{as:"strong",children:"Status:"})," ",c(r)]})]}),Object(i.jsxs)(w.Box,{px:6,py:4,color:"conflicts"===r?"neutral_6":"neutral_8",children:[Object(i.jsx)(x.i,{variant:"h5",mb:2,children:"Commit these changes to:"}),Object(i.jsx)(w.Box,{as:"label",mb:2,sx:{display:"block"},children:Object(i.jsxs)(w.Flex,{alignItems:"center",color:"conflicts"===r||(null===t||void 0===t?void 0:t.is_target_branch_protected)?"neutral_6":"inherit",children:[Object(i.jsx)(w.Box,{mr:2,children:Object(i.jsx)(x.f,{variant:"radio",checked:!o,onChange:function(){return s(!1)},disabled:"conflicts"===r||!!(null===t||void 0===t?void 0:t.is_target_branch_protected)})}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(x.y,{as:"div",variant:"bodySecondary",inheritColor:!0,children:null===n||void 0===n?void 0:n.current_branch})})]})}),Object(i.jsx)(w.Box,{as:"label",children:Object(i.jsxs)(w.Flex,{alignItems:"center",children:[Object(i.jsx)(w.Box,{mr:2,children:Object(i.jsx)(x.f,{variant:"radio",checked:o,onChange:function(){return s(!0)}})}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(x.y,{as:"div",variant:"bodySecondary",inheritColor:!0,children:"New branch"})})]})}),o&&Object(i.jsx)(x.a,{variant:"success",m:0,py:"14px",mt:4,mb:2,children:Object(i.jsxs)(x.y,{as:"i",variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,children:[Object(i.jsx)(w.Box,{as:"strong",children:"Note:"})," When you add your changes, you will return to match the latest Git server changes. You must merge your new branch into"," ",null===n||void 0===n?void 0:n.current_branch," on the Git server to see those changes reflected here."]})})]})]})}var nt=n(76),rt=/^(http(|s):\/\/)([^\s]+(:\d+)?)(\/)([^\s]+?)(\.git)?$/,at=/^(ssh:\/\/)?([^\s]+@)([^\s]+(:\d+)?)(?::)([^\s]+?)(\.git)$/;function ct(e){var t=e.activeGitRepository,n=e.errorConnectGitRepository,a=e.generatedSshKey,c=e.gitStatus,o=e.httpsUsername,s=e.httpsPassword,l=e.onFetchSshKey,u=e.protectedBranch,d=e.repositoryUrl,b=e.setHttpsUsername,f=e.setHttpsPassword,j=e.setProtectedBranch,p=e.setRepositoryUrl,h=e.setTargetBranch,O=e.targetBranch,g=e.toggleSSH,v=e.usingSSH,y=r.useState(null),C=Object(S.a)(y,2),E=C[0],k=C[1],T=r.useState(!1),R=Object(S.a)(T,2),A=R[0],_=R[1],I=r.useState(null),F=Object(S.a)(I,2),N=F[0],U=F[1];r.useEffect((function(){a||"notConnected"!==c||l()}),[c,a,l]),r.useEffect((function(){t&&(h(t.target_branch),j(t.is_target_branch_protected))}),[t,h,j]);var L=r.useMemo((function(){return n||null!==E&&!E}),[n,E]),D=r.useCallback((function(){_(!1),k(!1),v&&at.test(d)?k(!0):rt.test(d)&&(_(!0),v?U(d.replace(rt,"git@$3:$6$7")):k(!0))}),[d,v]);return r.useEffect((function(){d.length>0&&D()}),[D,d.length,v]),Object(i.jsxs)(w.Box,{sx:{height:"483px",overflow:"auto",position:"relative"},children:[L&&Object(i.jsx)(w.Box,{width:1,sx:{position:"fixed",zIndex:1},children:Object(i.jsx)(x.a,{variant:"error",p:0,m:0,block:!0,py:"14px",children:Object(i.jsx)(x.y,{variant:"bodySecondary",inheritColor:!0,textAlign:"center",width:1,children:!E&&A&&N&&v?Object(i.jsxs)(i.Fragment,{children:["Did you mean to enter the SSH url: ",Object(i.jsx)("strong",{children:N}),"?"]}):E?"Something went wrong. Please try again.":"Please provide valid values for the highlighted fields."})})}),Object(i.jsxs)(w.Box,{mt:L?7:0,children:[t&&Object(i.jsxs)(x.y,{variant:"bodySecondary",px:6,py:4,backgroundColor:"neutral_1",children:["You are connected to the repository:"," ",Object(i.jsx)(w.Box,{as:"strong",children:t.repository_url})]}),Object(i.jsxs)(w.Box,{px:6,py:4,children:[!t&&Object(i.jsx)(nt.a,{onClick:function(e){return e.preventDefault()},text:Object(i.jsxs)(w.Flex,{flexDirection:"row",justifyContent:"space-between",children:[Object(i.jsxs)(w.Flex,{children:["".concat(v?"SSH":"HTTPS"," URL for repository"),Object(i.jsx)(He,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"Rasa X will clone the repository using the given ".concat(v?"SSH":"HTTPS","  URL.")})]}),m.a&&Object(i.jsx)("div",{children:Object(i.jsx)(x.d,{color:"primary_1",fontWeight:0,style:{textDecoration:"underline"},variant:"plain",onClick:g,children:v?"Use HTTPS":"Use SSH"})})]}),mb:4,children:Object(i.jsx)(x.l,{invalid:null!==E&&!E,fullWidth:!0,placeholder:"".concat(v?"user@domain:organization/repo.git":"https://domain/organization/repo.git"),value:d,onChangeValue:p,onBlur:D,suffix:E?Object(i.jsx)(w.Flex,{alignItems:"center",justifyContent:"center",backgroundColor:"primary_2",sx:{width:"16px",height:"16px",borderRadius:"50%"},children:Object(i.jsx)(x.j,{icon:"check",color:"neutral_0",fontSize:"8px"})}):null})}),Object(i.jsx)(nt.a,{text:Object(i.jsxs)(w.Flex,{flexDirection:"row",children:[Object(i.jsx)(w.Flex,{children:"Target branch "}),Object(i.jsx)(He,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"This is the branch Rasa X will use to show the initial data, branch off from when you make new changes, and return to after you discard or push changes."})]}),mb:4,children:Object(i.jsx)(x.l,{fullWidth:!0,placeholder:"Enter branch name...",value:O,onChangeValue:h})}),Object(i.jsx)(w.Box,{as:"label",mb:6,children:Object(i.jsxs)(w.Flex,{alignItems:"center",children:[Object(i.jsx)(w.Box,{mr:2,children:Object(i.jsx)(x.f,{checked:u,onChange:function(){return j(!u)}})}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(x.y,{as:"div",variant:"bodySecondary",inheritColor:!0,children:"Require users to add changes to a new branch."})})]})})]}),!t&&Object(i.jsxs)(w.Box,{px:6,py:4,sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:[v&&a&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(nt.a,{text:Object(i.jsxs)(w.Flex,{flexDirection:"row",children:[Object(i.jsx)(w.Flex,{children:"Copy and add this SSH deploy key to your remote Git repository "}),Object(i.jsx)(He,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"You need to add this generated public SSH key as a Deploy key to your repository on GitHub, GitLab, BitBucket, etc."})]}),children:Object(i.jsx)(Pe,{fullSize:!0,children:a})}),Object(i.jsx)(x.a,{variant:"success",m:0,py:"14px",px:"20px",mt:3,mb:2,children:Object(i.jsxs)(x.y,{as:"i",variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,children:[Object(i.jsx)(w.Box,{as:"strong",children:"Note:"})," Once you have added the SSH key above as a deploy key on your remote Git repository, confirm that you have successfully connected by clicking \u201cVerify Connection\u201d below."]})})]}),!v&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(nt.a,{text:Object(i.jsxs)(w.Flex,{flexDirection:"row",children:["Username",Object(i.jsx)(He,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"The username for the account you want to use to access your repository on. GitHub, GitLab, BitBucket, etc."})]}),mb:4,children:Object(i.jsx)(x.l,{fullWidth:!0,placeholder:"Enter username...",value:o,onChangeValue:b})}),Object(i.jsx)(nt.a,{text:Object(i.jsxs)(w.Flex,{flexDirection:"row",children:["Password",Object(i.jsx)(He,{appendTo:document.body,style:{alignSelf:"center"},ml:1,content:"The password for the account you want to use to access your repository on GitHub, GitLab, BitBucket, etc. If you have Two-Factor Authentication (2FA) enabled, you will need to use a personal access token in place of your password."})]}),children:Object(i.jsx)(x.l,{fullWidth:!0,placeholder:"Enter password...",value:s,type:"password",onChangeValue:f})})]})]})]})]})}function ot(){var e=Object(F.a)(["\n  width: 100%;\n  max-width: 864px;\n  border: 0;\n  box-shadow: 0 4px 14px 0 rgba(103, 106, 111, 0.32);\n  display: flex;\n  flex-direction: column;\n\n  transition: all cubic-bezier(.46,.1,.52,.98) 250ms;\n  transform: translateY(-10px);\n  transform-origin: 0 -50%;\n  opacity: 0;\n  "," "," ","\n"]);return ot=function(){return e},e}var st=p.a.styled(ot(),A.space,A.borderRadius,A.color);function it(e){var t=e.open,n=e.onClose,a=e.noSeparator,c=e.onBackgroundClick,o=e.onEscapeKeydown,l=e.children,u=e.title,d=e.footer,b=e.style,f=e.p,j=e.px,p=e.py,h=r.useState({}),O=Object(S.a)(h,2),m=O[0],g=O[1];return Object(i.jsxs)(st,{isOpen:t,onBackgroundClick:c||n,onEscapeKeydown:o||n,borderRadius:"large",bg:"neutral_0",p:0,style:Object(s.a)(Object(s.a)({},b),m),backgroundProps:{style:m},afterOpen:function(){g({opacity:1,transform:"translateY(0)"})},beforeClose:function(){return new Promise((function(e){g({}),setTimeout(e,250)}))},children:[u&&Object(i.jsx)(w.Card,{p:4,sx:{borderBottom:a?"0px none":"1px solid",borderColor:"neutral_2"},children:Object(i.jsxs)(w.Flex,{justifyContent:"space-between",children:[Object(i.jsx)(x.i,{variant:"h2",children:u}),n&&Object(i.jsx)(w.Box,{onClick:function(){return n()},children:Object(i.jsx)(x.d,{onClick:n,variant:"plainIcon",p:0,children:Object(i.jsx)(x.j,{icon:"times",fontSize:"24px"})})})]})}),Object(i.jsx)(w.Flex,{flexDirection:"column",sx:{flexGrow:1,overflow:"auto"},p:f,px:j,py:p,children:l}),d&&Object(i.jsx)(w.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(i.jsx)(w.Flex,{px:4,py:3,flexDirection:"row-reverse",children:d})})]})}function lt(e){var t=e.open,n=e.loadingUpdateGitRepository,a=e.onClose,c=e.onCredentialsSubmitCallback,o=e.username,s=r.useState(""),l=Object(S.a)(s,2),u=l[0],d=l[1];return Object(i.jsx)(it,{title:"Enter the password to your Git repository",px:0,py:0,onBackgroundClick:a,open:t,style:{width:"600px"},onClose:a,footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.m,{onClick:function(){return c(u)},large:!0,disabled:""===u,ml:2,loading:n,children:"Connect"}),Object(i.jsx)(x.d,{variant:"secondary",onClick:a,large:!0,ml:2,children:"Cancel"})]}),children:Object(i.jsxs)(w.Box,{px:6,py:4,children:[Object(i.jsx)(nt.a,{text:Object(i.jsxs)(w.Flex,{flexDirection:"row",children:["Username",Object(i.jsx)(He,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"The username you used to initially set up Integrated Version Control. You can edit it in the IVC settings."})]}),mb:4,children:Object(i.jsx)(x.l,{fullWidth:!0,disabled:!0,placeholder:"Enter your username...",value:o})}),Object(i.jsx)(nt.a,{text:Object(i.jsxs)(w.Flex,{flexDirection:"row",children:["Password",Object(i.jsx)(He,{appendTo:document.body,style:{alignSelf:"center"},ml:1,color:"neutral_5",content:"The password for the account referenced above. If you have Two-Factor Authentication (2FA) enabled, you will need to use a personal access token in place of your password."})]}),mb:4,children:Object(i.jsx)(x.l,{fullWidth:!0,placeholder:"Enter your password...",value:u,type:"password",onChangeValue:d})})]})})}it.defaultProps={px:6,py:4};var ut=n(45);function dt(e){switch(e){case"noChanges":return"#84a861";case"changes":return"#f7c86e";case"conflicts":case"notAuthenticated":return"#cd6c6a";default:return"neutral_6"}}function bt(e){switch(e){case"noChanges":return"You are up to date with the Git server.";case"changes":return"You have changes the Git server does not include.";case"conflicts":return"You have changes the Git server does not include. You also do not have the latest changes from the Git server.";case"notAuthenticated":return"You need to enter your password";default:return"Integrated Version Control has not been set up."}}function ft(e){var t=e.actions,n=e.activeGitRepository,a=e.activeRepositoryStatus,c=e.onUpdateGitRepository,o=e.commitModalOpen,l=e.connectModalOpen,d=e.credentialsModalOpen,b=e.disconnectModalOpen,f=e.content,j=e.discardModalOpen,p=e.gitStatus,h=e.onChangeGitBranch,O=e.onCommitGitChanges,g=e.onFetchSshKey,y=e.setCommitModalOpen,E=e.setConnectModalOpen,T=e.setCredentialsModalOpen,A=e.setDisconnectModalOpen,_=e.setDiscardModalOpen,I=e.generatedSshKey,F=e.onConnectGitRepository,N=e.title,U=e.username,L=e.loadingConnectGitRepository,D=e.loadingUpdateGitRepository,M=e.errorConnectGitRepository,P=e.onDeleteGitRepository,B=Object(v.a)(e,["actions","activeGitRepository","activeRepositoryStatus","onUpdateGitRepository","commitModalOpen","connectModalOpen","credentialsModalOpen","disconnectModalOpen","content","discardModalOpen","gitStatus","onChangeGitBranch","onCommitGitChanges","onFetchSshKey","setCommitModalOpen","setConnectModalOpen","setCredentialsModalOpen","setDisconnectModalOpen","setDiscardModalOpen","generatedSshKey","onConnectGitRepository","title","username","loadingConnectGitRepository","loadingUpdateGitRepository","errorConnectGitRepository","onDeleteGitRepository"]),H=Object(u.c)(),q=r.useState(""),G=Object(S.a)(q,2),V=G[0],z=G[1],W=r.useState(""),Y=Object(S.a)(W,2),K=Y[0],Q=Y[1],X=r.useState(""),Z=Object(S.a)(X,2),J=Z[0],$=Z[1],ee=r.useState(""),te=Object(S.a)(ee,2),ne=te[0],re=te[1],ae=r.useState(!1),ce=Object(S.a)(ae,2),oe=ce[0],se=ce[1],ie=r.useState(!1),le=Object(S.a)(ie,2),ue=le[0],de=le[1],be=Object(R.p)(!0),fe=Object(S.a)(be,2),je=fe[0],pe=fe[1],he=Object(u.d)((function(e){return e.users.currentUser}));r.useEffect((function(){n&&(Q(n.target_branch),se(n.is_target_branch_protected))}),[n,E]),r.useEffect((function(){("conflicts"===p||n&&n.is_target_branch_protected)&&de(!0)}),[p,de,n]);var xe=r.useCallback((function(){if(n){var e=ue?"Rasa-x-".concat(Oe()().format("MMM-Do-YY--h-mm-ss-a"),"-").concat(m.a?U:k()()):n.target_branch;O({repositoryId:n.id,branchName:e})}}),[ue,O,n,U]),me=r.useCallback((function(){y(!1)}),[y]),ge=r.useCallback((function(){E(!1)}),[E]),ve=r.useCallback((function(){if(he){var e,t=(null===(e=he.data)||void 0===e?void 0:e.viewed_hints)?he.data.viewed_hints:[];he.data={viewed_hints:[].concat(Object(C.a)(t),["gitCredentials"])},H(ut.h.request(he))}T(!1)}),[he,H,T]),ye=r.useCallback((function(e){n&&c({repositoryId:n.id,targetBranch:K,protectedBranch:oe,username:n.username,password:e})}),[n,c,oe,K]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(w.Box,Object(s.a)(Object(s.a)({p:3,pr:4,pb:4,bg:"dark_1",sx:{borderLeft:"8px solid",borderColor:dt(p),borderRadius:"8px"}},B),{},{children:[N&&Object(i.jsx)(x.i,{variant:"h4",color:"neutral_0",children:N}),f&&Object(i.jsx)(x.y,{as:"div",variant:"captionSecondary",color:"neutral_6",mt:2,lineHeight:"normal",children:f}),t&&Object(i.jsx)(w.Box,{mt:3,children:t})]})),Object(i.jsx)(it,{title:"Commit changes to git",px:0,py:0,open:o,style:{width:"600px"},onClose:me,footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{onClick:function(){xe(),y(!1)},large:!0,ml:2,children:"Add changes"}),Object(i.jsx)(x.d,{variant:"secondary",onClick:me,large:!0,ml:2,children:"Cancel"})]}),children:Object(i.jsx)(tt,{activeGitRepository:n,gitStatusColor:dt,gitStatusCopy:bt,gitStatus:p,isCommittingToNewBranch:ue,setCommittingToNewBranch:de,activeRepositoryStatus:a})}),Object(i.jsxs)(it,{open:j,style:{width:"512px"},onClose:function(){return _(!1)},px:5,py:5,children:[Object(i.jsx)(x.i,{variant:"h2",mb:3,children:"Discard changes"}),Object(i.jsxs)(x.y,{variant:"bodySecondary",children:["Are you sure you want to discard changes?",Object(i.jsx)("br",{}),Object(i.jsx)(w.Box,{as:"strong",mt:2,sx:{display:"inline-block"},children:"Warning:"})," ","Once you confirm, you will lose all changes that have not been added to the Git server. This action cannot be undone."]}),Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",mt:6,children:[Object(i.jsx)(x.d,{onClick:function(){n&&a&&h({repositoryId:n.id,branchName:a.current_branch,force:!0}),_(!1)},large:!0,ml:2,children:"Yes, discard"}),Object(i.jsx)(x.d,{variant:"secondary",onClick:function(){return _(!1)},large:!0,ml:2,children:"Cancel"})]})]}),n&&a&&n.username&&Object(i.jsx)(lt,{open:d&&!a.authenticated,loadingUpdateGitRepository:D,onClose:ve,onCredentialsSubmitCallback:ye,username:n.username}),Object(i.jsx)(it,{title:Object(i.jsxs)(w.Flex,{alignItems:"center",sx:{cursor:"default"},children:["Connect to a remote Git repository"," ",Object(i.jsx)(He,{content:Object(i.jsxs)(w.Box,{children:[Object(i.jsx)(w.Box,{as:"a",color:"neutral_0",target:"_blank",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#connect-a-git-repository",children:"Learn more in our docs"})," ","about connecting to a remote Git repository"]})})]}),px:0,py:0,onBackgroundClick:function(){return n?ge:null},open:l,style:{width:"600px"},onClose:ge,footer:n?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{large:!0,ml:2,onClick:function(){K===n.target_branch&&oe===n.is_target_branch_protected||c({repositoryId:n.id,targetBranch:K,protectedBranch:oe}),E(!1)},children:"Done"}),Object(i.jsx)(x.d,{variant:"secondary",onClick:function(){E(!1),A(!0)},large:!0,ml:2,children:"Disconnect"})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.m,{onClick:function(){F({repositoryUrl:V,targetBranch:K,protectedBranch:oe,username:J.length>0?J:void 0,password:ne.length>0?ne:void 0})},large:!0,disabled:""===K||""===V,ml:2,loading:L,children:"Verify connection"}),Object(i.jsx)(x.d,{variant:"secondary",onClick:ge,large:!0,ml:2,children:"Cancel"})]}),children:Object(i.jsx)(ct,{activeGitRepository:n,errorConnectGitRepository:M,httpsUsername:J,httpsPassword:ne,repositoryUrl:V,setRepositoryUrl:z,targetBranch:K,setHttpsPassword:re,setHttpsUsername:$,setTargetBranch:Q,protectedBranch:oe,setProtectedBranch:se,generatedSshKey:I,onFetchSshKey:g,gitStatus:p,usingSSH:je,toggleSSH:pe})}),Object(i.jsx)(it,{title:"Disconnect from remote Git repository",px:0,py:0,open:b,style:{width:"600px"},onClose:function(){return A(!1)},footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{large:!0,ml:2,onClick:function(){n&&P({repositoryId:n.id}),A(!1)},children:"Yes, disconnect"}),Object(i.jsx)(x.d,{variant:"secondary",onClick:function(){A(!1),E(!0)},large:!0,ml:2,children:"No, nevermind"})]}),children:Object(i.jsxs)(x.y,{as:"div",variant:"bodySecondary",px:6,py:4,sx:{height:"439px",overflow:"auto"},children:["Are you sure you want to disconnect from the repository"," ",Object(i.jsx)(w.Box,{as:"strong",children:n&&n.repository_url}),"?"]})})]})}var jt=Object(l.default)(w.Box).withConfig({displayName:"Error",componentId:"gbq76s-0"})([""," font-weight:bold;"],A.textAlign);jt.defaultProps={color:"secondary_1"},jt.displayName="Error";var pt=r.memo(jt);function ht(e){var t=e.onChangePassword,n=e.onCancel,a=r.useState(""),c=Object(S.a)(a,2),o=c[0],s=c[1],l=r.useState(""),u=Object(S.a)(l,2),d=u[0],b=u[1],f=r.useState(""),j=Object(S.a)(f,2),p=j[0],h=j[1],O=null;return o!==d?O="passwords do not match!":o.length<8&&(O="your password must be at least 8 characters long"),Object(i.jsxs)(w.Box,{children:[Object(i.jsx)(x.l,{placeholder:"Old Password",type:"password",fullWidth:!0,onChangeValue:function(e){return h(e)},value:p,mb:2,autoFocus:!0}),Object(i.jsx)(x.l,{placeholder:"New Password",type:"password",fullWidth:!0,onChangeValue:function(e){return s(e)},value:o,mb:2}),Object(i.jsx)(x.l,{placeholder:"Confirm New Password",type:"password",fullWidth:!0,onChangeValue:function(e){return b(e)},value:d,mb:2}),d.length>0&&O&&Object(i.jsx)(pt,{children:O}),Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",mr:-1,children:[Object(i.jsx)(x.d,{mx:1,variant:"primary",onClick:function(){t({oldPassword:p,newPassword:o,newPasswordConfirm:d})},disabled:!!O,children:"Change Password"}),Object(i.jsx)(x.d,{mx:1,variant:"secondary",onClick:n,children:"Close"})]})]})}function Ot(e){var t=e.features,n=e.onChangeFeature;return Object(i.jsxs)(w.Box,{children:[Object(i.jsx)(x.y,{variant:"bodySecondary",children:"Toggle which experimental features you would like to try. Enabling/Disabling a feature will affect all users of this instance."}),Object(i.jsx)(w.Box,{as:"ul",p:0,m:0,mb:2,style:{listStyle:"none"},children:t.map((function(e){var t=e.name,r=e.enabled;return Object(i.jsx)(w.Box,{as:"li",children:Object(i.jsx)(w.Box,{as:"label",pr:3,pt:3,style:{display:"inline-block"},children:Object(i.jsxs)(w.Flex,{flex:"1 1",children:[Object(i.jsx)(w.Box,{children:Object(i.jsx)(x.f,{checked:r,onChange:function(){return n({name:t,enabled:!r})}})}),Object(i.jsx)(x.y,{variant:"bodySecondary",px:2,lineHeight:"initial",children:t})]})})},t)}))})]})}function xt(e){var t=e.currentVersion,n=e.latestVersion,r=e.changelog;return Object(i.jsxs)(w.Box,{px:4,pt:3,pb:2,children:[Object(i.jsxs)(x.i,{variant:"h5",inheritColor:!0,mb:1,children:["Update to Rasa X ",n]}),Object(i.jsxs)(x.y,{color:"neutral_6",mb:3,sx:{fontSize:1},children:["You are running Rasa X ",t,". Upgrade to the latest available version."]}),Object(i.jsx)(x.d,{large:!0,width:1,mb:2,variant:"primaryDark",as:"a",target:"_blank",href:"https://rasa.com/docs/rasa-x/changelog/updating/",onClick:function(){},children:"Learn how to update"}),Object(i.jsx)(x.d,{large:!0,width:1,variant:"dark",as:"a",target:"_blank",href:r,onClick:function(){},children:"See what's new"})]})}function mt(e){var t=e.username,n=e.features,r=e.passwordModalOpen,a=e.featuresModalOpen,c=e.onChangePasswordModal,o=e.onChangeFeaturesModal,l=e.onChangePassword,u=e.onChangeFeature,d=e.onLogout,b=e.onSupport,f=e.onSendFeedback,j=e.onPowerUserIconClick,p=Object(R.q)(),h=p.currentVersion,O=p.latestVersion,m=p.changelog,g=p.updateAvailable;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(ye.a,{flexDirection:"column",width:280,py:2,children:[g&&O&&h&&m&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(xt,{currentVersion:h,latestVersion:O,changelog:m}),Object(i.jsx)(x.v,{opacity:.1,my:2})]}),Object(i.jsx)(_e,{p:2,height:48,pl:4,mt:3,onClick:f,rightIcon:j&&Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(x.d,{variant:"plainIcon",fontSize:"14px",backgroundColor:"primary_3",style:{borderRadius:"50%",zIndex:999},onClick:function(e){e.stopPropagation(),j()},children:Object(i.jsx)(x.j,{color:"white",icon:["far","star"]})})}),children:"Send Feedback"}),Object(i.jsx)(_e,{p:2,onClick:b,height:48,pl:4,children:"Support"}),n.length>0&&Object(i.jsx)(xe.a,{resource:me.d.Features,action:me.a.Update,yes:Object(i.jsx)(_e,{p:2,onClick:function(){return o(!0)},height:48,pl:4,children:"Experimental"})}),Object(i.jsx)(xe.a,{resource:me.d.User,action:me.a.Update,attributes:["password"],yes:Object(i.jsx)(_e,{p:2,onClick:function(){return c(!0)},height:48,pl:4,children:"Change Password"})}),Object(i.jsx)(_e,{"aria-label":"navbar-user-logout",p:2,onClick:d,height:48,pl:4,children:"Logout"})]}),Object(i.jsx)(it,{title:"Change Password",open:r,onClose:function(){return c(!1)},children:Object(i.jsx)(ht,{onCancel:function(){return c(!1)},onChangePassword:function(e){l(Object(s.a)({username:t},e)),c(!1)}})}),Object(i.jsx)(it,{title:"Toggle Features",open:a,onClose:function(){return o(!1)},style:{maxWidth:"630px"},footer:Object(i.jsx)(x.d,{onClick:function(){return o(!1)},large:!0,ml:2,children:"Ok"}),children:Object(i.jsx)(Ot,{onChangeFeature:u,features:n})})]})}var gt=Object(l.default)(ye.a).withConfig({displayName:"NavBar__SubMenu",componentId:"yup4zg-0"})(["opacity:0;transition:opacity ease 0.2s;"]),vt=Object(l.default)(x.v).withConfig({displayName:"NavBar__StyledSep",componentId:"yup4zg-1"})([""]),yt=Object(l.default)(Ke).withConfig({displayName:"NavBar__AnimatedAside",componentId:"yup4zg-2"})(["&:hover,&.force-focus{.top-level-menu ","{display:none;}","{opacity:1;}","{opacity:0.23;}}"],Xe,gt,vt);function Ct(e){var t=e.features,n=e.modelIsTraining,a=e.onChangeFeature,c=e.onChangePassword,o=e.onSupport,l=e.onUpdateGitRepository,d=e.onSendFeedback,b=e.onLogout,f=e.onNavigate,j=e.onTrainModel,p=e.generatedSshKey,h=e.username,O=e.onFetchGitRepositories,g=e.onFetchSshKey,v=e.activeRepositoryStatus,y=e.activeGitRepository,C=e.onStartPollingStatus,E=e.onStopPollingStatus,k=e.loadingFetchStatus,T=e.loadingCommitGitChanges,A=e.onCommitGitChanges,_=e.onConnectGitRepository,I=e.onChangeGitBranch,F=e.loadingConnectGitRepository,N=e.loadingUpdateGitRepository,U=e.errorConnectGitRepository,L=e.onDeleteGitRepository,D=e.onPowerUserIconClick,M=e.onUploadModel,P=Object(u.c)(),B=r.useRef(null),H=r.useState(!1),q=Object(S.a)(H,2),G=q[0],V=q[1],z=r.useState(!1),W=Object(S.a)(z,2),Y=W[0],K=W[1],Q=r.useState(!1),X=Object(S.a)(Q,2),J=X[0],$=X[1],ee=r.useState(!1),te=Object(S.a)(ee,2),ne=te[0],re=te[1],ae=r.useState(!1),ce=Object(S.a)(ae,2),oe=ce[0],se=ce[1],ie=r.useState(!1),le=Object(S.a)(ie,2),ue=le[0],de=le[1],be=r.useState(!1),fe=Object(S.a)(be,2),je=fe[0],pe=fe[1],he=r.useState(!1),Ce=Object(S.a)(he,2),Se=Ce[0],we=Ce[1],Ee=r.useState(!1),ke=Object(S.a)(Ee,2),Te=ke[0],Re=ke[1],Ae=r.useState(!1),Fe=Object(S.a)(Ae,2),Ne=Fe[0],Ue=Fe[1],Le=Z(),De=Le.onboardingShown,Me=Le.setOnboardingShown,Pe=Le.currentOnboardingHint,Be=Object(u.d)((function(e){return e.users.currentUser}));r.useEffect((function(){m.b&&O()}),[O]),r.useEffect((function(){"upload_model"===Pe&&re(!1)}),[Pe]),r.useEffect((function(){Ue(!(!De||"upload_model"!==Pe))}),[De,Pe,Ue]),Object(R.a)(B,(function(){De&&"upload_model"===Pe&&(Ue(!1),Me(!1))})),r.useEffect((function(){return y?(m.b&&C({repositoryId:y.id}),function(){return m.b&&E()}):function(){}}),[y,C,E]),r.useEffect((function(){var e,t;if(!v||v.authenticated||(null===Be||void 0===Be||null===(e=Be.data)||void 0===e||null===(t=e.viewed_hints)||void 0===t?void 0:t.includes("gitCredentials"))){if(v&&v.authenticated&&Be){var n,r=(null===(n=Be.data)||void 0===n?void 0:n.viewed_hints)?Be.data.viewed_hints:[];Be.data={viewed_hints:r.filter((function(e){return"gitCredentials"!==e}))},P(ut.h.request(Be))}}else se(!0)}),[v,y,Be,P,se]);var He=r.useMemo((function(){return function(e,t){return e?t&&!t.authenticated?"notAuthenticated":t&&t.are_there_local_changes?t.is_committing_to_target_branch_allowed?"changes":"conflicts":"noChanges":"notConnected"}(y,v)}),[y,v]),qe=Object(R.q)().updateAvailable,Ge=r.useMemo((function(){return T||k}),[k,T]);r.useEffect((function(){P(ge.d.request({search:"",offset:0,limit:1,sortBy:"time",sortOrder:"desc"}))}),[P]);var We=Object(u.d)((function(e){var t=e.suggestions.total;return t>1e3?"1000+":t?t.toString():void 0})),Ye=r.useMemo((function(){return{offset:[0,Se?312:10],moveTransition:"transform 0.2s cubic-bezier(0, 0.92, 0.24, 1.15)"}}),[Se]);return r.useEffect((function(){Re(Ne)}),[Ne]),Object(i.jsx)(w.Box,{sx:{position:"relative",zIndex:110,height:"100%",width:"56px"},children:Object(i.jsx)(yt,{ref:B,onMouseEnter:function(){return Re(!0)},onMouseLeave:function(){return Re(!1)},className:Ne?"force-focus":"",children:Object(i.jsxs)(ye.a,{sx:{overflow:"hidden",height:"100%"},width:1,flexDirection:"column",children:[Object(i.jsxs)(w.Box,{flex:"1",pt:5,sx:{overflowX:"hidden"},className:"top-level-menu",children:[m.a&&Object(i.jsx)(et,{title:"Analytics",description:"See how users engage with your assistant.",path:"/analytics",icon:"chart-line",permission:[me.d.Analytics,me.a.Read]}),Object(i.jsx)(et,{title:"Talk to your bot",description:"Try out your assistant. Switch on interactive learning mode to correct any mistakes it makes!",path:"/interactive",icon:"comment",permission:[me.d.Messages,me.a.Create]}),Object(i.jsx)(et,{title:"Conversations",description:"Scan conversations real users have had with your assistant. Correct mistakes your model has made and help it improve.",path:"/conversations",icon:"comments",permission:[me.d.Metadata,me.a.Read]}),Object(i.jsx)(et,{title:"NLU Inbox",description:"View NLU predictions. Correct any mistakes and create training data.",path:"/nlu-inbox",icon:"inbox",badge:We,permission:[[me.d.Examples,me.d.Logs],me.a.Read]}),Object(i.jsx)(et,{title:"Models",description:m.a?"View your models and deploy them to different environments.":"View your models. To update your assistant, mark a new model as active.",path:"/models",icon:"tachometer-alt",permission:[me.d.Models,me.a.Read]}),Object(i.jsx)(et,{title:"Training",path:"/data/training-data",match:"/(data|responses|rules|stories|config|domain)",icon:"file-check",permission:[[me.d.Examples,me.d.Logs],me.a.Read]}),Object(i.jsx)(xe.a,{resource:[me.d.Examples,me.d.Logs],action:me.a.Read,yes:Object(i.jsx)(gt,{pt:1,flexDirection:"column",children:Object(i.jsxs)(w.Card,{ml:5,sx:{borderLeft:"2px solid",borderColor:"rgba(216,216,216,0.08)"},children:[Object(i.jsx)(et,{title:"NLU data",description:"View and edit your NLU examples, synonyms, regexes, and lookup tables.",path:"/data/training-data",variant:"secondary",permission:[me.d.Responses,me.a.Read]}),Object(i.jsx)(et,{title:"Responses",description:"View and edit the responses your assistant will use to send messages.",path:"/responses",variant:"secondary",permission:[me.d.Responses,me.a.Read]}),Object(i.jsx)(et,{title:"Stories",description:"View, edit and compare your stories.",path:"/stories",variant:"secondary"}),Object(i.jsx)(et,{title:"Rules",description:"View, edit and compare your rules.",path:"/rules",variant:"secondary"}),Object(i.jsx)(xe.a,{resource:me.d.Models,action:me.a.Read,attributes:["settings"],yes:Object(i.jsx)(et,{title:"Configuration",description:"Edit your model configuration",path:"/config",variant:"secondary"})}),Object(i.jsx)(et,{title:"Domain",description:"Edit your domain file.",path:"/domain",variant:"secondary",permission:[me.d.Domain,me.a.Read]}),Object(i.jsxs)(w.Box,{pl:5,pr:4,pb:2,children:[Object(i.jsx)(vt,{mt:2,mb:4,opacity:.1}),m.b?Object(i.jsx)(Ve,{onUploadModel:M,onTrainModel:j,modelIsTraining:n,asideExpanded:Te,setAsideForceExpanded:Ue}):Object(i.jsx)(x.m,{width:1,large:!0,variant:"primaryDark",onClick:j,loading:n,children:"Train"})]})]})})})]}),m.b?Object(i.jsx)(xe.a,{resource:me.d.RepositoryStatus,action:me.a.Read,yes:Object(i.jsx)(Ie,Object(s.a)(Object(s.a)({title:"Connect Rasa X to Git",content:"Connecting to a Git repository will import your initial assistant to Rasa X. It also makes it easier to version your data and use CI/CD to test your assistant.",links:[{title:"Learn more about connecting Rasa X to git",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#integrated-version-control"}],sticky:!0,name:"connect_repo",placement:"right-end",containerStyle:{width:"100%"}},Ye),{},{children:Object(i.jsx)(Ie,Object(s.a)(Object(s.a)({title:"Push your improvements to git",content:"You now have improvements to your training data. Push those changes those changes to Git so you can use them to train a new model.",sticky:!0,name:"push_changes",placement:"right-end",containerStyle:{width:"100%"}},Ye),{},{children:Object(i.jsx)(ve,{onShow:function(){we(!0)},onHide:function(){we(!1)},containerStyle:{width:"100%"},disabled:J||je||ne||oe,content:Object(i.jsx)(ft,{title:"notConnected"===He?"Not connected to a Git repository":Object(i.jsxs)(w.Flex,{justifyContent:"space-between",children:[Object(i.jsxs)(w.Box,{children:["notAuthenticated"===He?"Not logged in to your repository":y&&y.target_branch," "]}),Object(i.jsx)(w.Box,{mr:-2,color:"neutral_6",sx:{cursor:"pointer",transition:"all ease .2s","&:hover":{color:"neutral_0"}},children:Object(i.jsx)(x.j,{icon:"cog",fontSize:"16px",onClick:function(){return re(!0)}})})]}),width:296,onConnectGitRepository:_,onUpdateGitRepository:l,generatedSshKey:p,onChangeGitBranch:I,commitModalOpen:J,connectModalOpen:ne,credentialsModalOpen:oe,disconnectModalOpen:ue,activeRepositoryStatus:v,setCommitModalOpen:$,setConnectModalOpen:re,setCredentialsModalOpen:se,setDisconnectModalOpen:de,gitStatus:He,onDeleteGitRepository:L,errorConnectGitRepository:U,onFetchSshKey:g,discardModalOpen:je,setDiscardModalOpen:pe,onCommitGitChanges:A,activeGitRepository:y,username:h,loadingConnectGitRepository:F,loadingUpdateGitRepository:N,content:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(w.Box,{color:"neutral_0",as:"strong",children:["Status"," ",v&&(v.first_annotator_id||v.first_annotated_at)&&"changed",v&&v.first_annotator_id&&" by ".concat(v.first_annotator_id),v&&v.first_annotated_at&&" at ".concat(Oe.a.unix(v.first_annotated_at).format("hh:mm A on Do MMM YYYY")),":"]})," ",bt(He),"notAuthenticated"===He&&Object(i.jsx)(x.d,{width:1,mt:3,large:!0,onClick:function(){return se(!0)},variant:"primaryDark",children:"Enter password"})]}),actions:"changes"===He||"conflicts"===He?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(xe.a,{resource:me.d.Commit,action:me.a.Create,yes:Object(i.jsx)(x.d,{width:1,mb:2,large:!0,onClick:function(){$(!0),"push_changes"===Pe&&Me(!1)},variant:"primaryDark",children:"Add changes to Git server"})}),Object(i.jsx)(x.d,{width:1,large:!0,variant:"dark",onClick:function(){return pe(!0)},children:"Discard changes"})]}):"notConnected"===He?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{width:1,large:!0,mb:2,onClick:function(){re(!0),"connect_repo"===Pe&&Me(!1)},variant:"primaryDark",children:"Connect to a repository"}),Object(i.jsx)(x.d,{as:"a",target:"_blank",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#integrated-version-control",width:1,variant:"dark",large:!0,onClick:function(){},children:"Learn more in the docs"})]}):null}),children:Object(i.jsx)(_e,{icon:Object(i.jsx)(x.j,{icon:Ge?"sync":"code-merge",spin:Ge}),height:48,lineBefore:!1,sx:{"&":{backgroundColor:"neutral_8",paddingLeft:"10px"},borderLeft:"6px solid",borderColor:dt(He)},rightIcon:Object(i.jsx)(x.j,{icon:"angle-right"}),children:Object(i.jsx)(x.i,{variant:"h4",inheritColor:!0,children:"notConnected"===He?"Not connected":y&&y.target_branch})})})}))})),no:Object(i.jsx)(w.Box,{px:3,children:Object(i.jsx)(vt,{sx:{opacity:0,transition:"opacity ease 0.2s"},barColor:"neutral_6"})})}):Object(i.jsx)(w.Box,{px:3,children:Object(i.jsx)(vt,{sx:{opacity:0,transition:"opacity ease 0.2s"},barColor:"neutral_6"})}),m.a&&Object(i.jsx)(xe.a,{resource:[me.d.Users,me.d.Roles],action:me.a.Read,yes:Object(i.jsx)(ve,{content:Object(i.jsx)(ze,{onNavigate:f}),children:Object(i.jsx)(_e,{icon:Object(i.jsx)(x.j,{icon:"user"}),rightIcon:Object(i.jsx)(x.j,{icon:"angle-right"}),children:"Admin"})})}),Object(i.jsx)(ve,{content:Object(i.jsx)(mt,{username:h,features:t,passwordModalOpen:G,featuresModalOpen:Y,onChangePassword:c,onChangeFeature:a,onLogout:b,onSendFeedback:d,onPowerUserIconClick:D,onSupport:o,onChangePasswordModal:function(e){return V(e)},onChangeFeaturesModal:function(e){return K(e)}}),children:Object(i.jsx)(_e,{"data-qa":"navbar-user-badge_li",icon:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ze,{show:!!qe,top:"7px",left:"33px",color:"primary_3",borderColor:"neutral_7",size:"12px"}),Object(i.jsx)(x.b,{variant:"small",username:h,m:"-2px"})]}),rightIcon:Object(i.jsx)(x.j,{icon:"angle-right"}),children:h})})]})})})}var St=n(130),wt={onLogout:fe.h,onChangePassword:fe.a.request,onChangeFeature:fe.i.request,onFetchFeatures:fe.d.request,onTrainModel:je.k.request,onFetchGitRepositories:pe.e.request,onFetchSshKey:pe.g.request,onConnectGitRepository:pe.c.request,onDeleteGitRepository:pe.d.request,onCommitGitChanges:pe.b.request,onUpdateGitRepository:pe.j.request,onChangeGitBranch:pe.a.request,onStartPollingStatus:pe.h,onStopPollingStatus:pe.i,onUploadModel:je.l.request},Et=function(){return Object(St.c)("https://rasahq.typeform.com/to/NSJvZM")};var kt=Object(u.b)((function(e){return{username:e.auth.username,role:e.auth.role,features:e.auth.features,modelIsTraining:e.models.modelIsTraining,activeRepositoryStatus:e.gitRepositories.activeRepositoryStatus,activeGitRepository:e.gitRepositories.activeGitRepository,generatedSshKey:e.gitRepositories.generatedSshKey,loadingFetchStatus:!!e.gitRepositories.loading.fetchGitRepositoryStatus,loadingCommitGitChanges:!!e.gitRepositories.loading.commitGitChanges,loadingConnectGitRepository:!!e.gitRepositories.loading.connectGitRepository,loadingUpdateGitRepository:!!e.gitRepositories.loading.updateGitRepository,errorConnectGitRepository:e.gitRepositories.error.connectGitRepository}}),wt)((function(e){var t=e.username,n=e.onLogout,r=e.onPowerUserIconClick,a=Object(v.a)(e,["username","onLogout","onPowerUserIconClick"]),c=Object(R.q)().currentVersion,o=Object(d.g)().push;return null===t?null:Object(i.jsx)(Ct,Object(s.a)({onLogout:function(){return n(null)},onSupport:function(){var e=new URLSearchParams({body:"**Version: Rasa ".concat(m.a?"Enterprise":"X"," ").concat(c,"**\n\n"),category:"rasa-x"}),t="https://forum.rasa.com/new-topic?".concat(e.toString());window.location.href=t},onSendFeedback:Et,onPowerUserIconClick:r,onNavigate:o,username:t},a))}));function Tt(e){var t=e.latestModelIsNew,n=e.modelIsTraining,a=e.trainingFailed,c=e.uploadingModel,o=e.cleanUploadState,s=e.cleanTrainState,l=e.conversationDeletionFailed,u=e.children,d=e.onNavigate,b=e.modelUploadError,f=e.modelExists,j=ee(),p=j.addToast,h=j.removeToast;return r.useEffect((function(){o||(c||b||p({head:"Model uploaded",timeout:-1,content:"Your model was successfully uploaded. Don\u2019t forget to make it active if you want to use it!",key:"modelUploadStatus"}),c&&p({head:"Uploading model",timeout:-1,key:"modelUploadStatus",icon:Object(i.jsx)(x.j,{icon:["fas","spinner"],spin:!0,mr:2})}),c||!b||f||p({head:"Upload failed",timeout:-1,content:"Something went wrong. Please try again.",variant:"error",key:"modelUploadStatus"}),!c&&b&&f&&p({head:"Model already exists",timeout:-1,content:"A model with that name already exists.",variant:"error",key:"modelUploadStatus"}))}),[p,o,c,b,f]),r.useEffect((function(){s||(t&&!n&&p({head:"Training is done",timeout:-1,actions:Object(i.jsx)(x.d,{variant:"inverse",large:!0,width:1,onClick:function(){d("/models"),h("modelTrainingStatus")},children:"See new model"}),key:"modelTrainingStatus",icon:Object(i.jsx)(x.j,{icon:["far","check-circle"],mr:2})}),t||n||p({head:"Nothing has changed",content:"It seems no changes were made to your model, so we skipped training a new one!",timeout:-1,key:"modelTrainingStatus",actions:Object(i.jsx)(x.d,{variant:"inverse",large:!0,onClick:function(){d("/models"),h("modelTrainingStatus")},children:"See latest model"})}),n&&p({head:"Training started",timeout:-1,key:"modelTrainingStatus",icon:Object(i.jsx)(x.j,{icon:["fas","spinner"],spin:!0,mr:2})}),a&&p({head:"Training failed",timeout:-1,content:"Your model training has failed.",variant:"error",key:"modelTrainingStatus"}))}),[p,t,n,a,s,d,h]),r.useEffect((function(){l&&p({head:"Failed to delete conversation",timeout:-1,content:"Something went wrong. Please try again later.",variant:"error",key:"conversationDeletionFailed"})}),[p,l]),Object(i.jsx)(i.Fragment,{children:u})}var Rt=n(101);function At(e){var t=e.open,n=e.userId,a=e.onClose,c=e.onDataSubmit,o=Object(u.c)(),s=r.useState(""),l=Object(S.a)(s,2),d=l[0],b=l[1],f=r.useState(""),j=Object(S.a)(f,2),p=j[0],h=j[1],O=r.useState(!0),m=Object(S.a)(O,2),g=m[0],v=m[1];return Object(i.jsxs)(it,{title:"Got some feedback?",onBackgroundClick:function(){},open:t,style:{width:"584px"},onClose:a,footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{large:!0,ml:2,disabled:0===d.length||0===p.length,onClick:function(){o(Rt.b.request({userId:n,name:d,email:p,checkboxChecked:g})),c(),a()},children:"Submit"}),Object(i.jsx)(x.d,{variant:"secondary",onClick:a,large:!0,ml:2,children:"Nevermind"})]}),children:[Object(i.jsx)(x.a,{variant:"alertThatUsesColoursThatArentInTheStyleguide",m:0,py:"12px",mb:4,children:Object(i.jsx)(x.y,{as:"i",variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0,children:"Congrats! You have earned some free Rasa swag and the chance to let us know how we can make Rasa X work better for you. Let us know your name and email below, so we can contact you."})}),Object(i.jsxs)(w.Flex,{flexDirection:"column",mb:5,children:[Object(i.jsx)(nt.a,{text:"Name",children:Object(i.jsx)(x.l,{value:d,onChangeValue:function(e){return b(e)},placeholder:"Enter your name",fullWidth:!0})}),Object(i.jsx)(nt.a,{text:"Email",mt:4,children:Object(i.jsx)(x.l,{value:p,onChangeValue:function(e){return h(e)},placeholder:"Enter your email",fullWidth:!0})}),Object(i.jsxs)(w.Flex,{as:"label",mt:3,alignItems:"flex-start",children:[Object(i.jsx)(x.f,{onChange:function(){return v(!g)},checked:g,mr:3,mt:"2px"}),Object(i.jsx)(x.y,{variant:"bodySecondary",children:"I'm okay with Rasa storing my name, email, and user id to allow me to participate in feedback and user research to improve Rasa X."})]})]})]})}var _t={onStartPollingHealth:je.j,onFetchFeatures:fe.d.request};var It=Object(u.b)((function(e){return{accessToken:e.auth.accessToken,role:e.auth.role,modelIsTraining:e.models.modelIsTraining,latestModelIsNew:e.models.latestModelIsNew,uploadingModel:e.models.loading.uploadModel,trainingFailed:e.models.trainingFailed,cleanTrainState:e.models.cleanState.training,cleanUploadState:e.models.cleanState.uploading,conversationDeletionFailed:e.messages.conversationDeletionFailed,modelUploadError:e.models.error.uploadModel,modelExists:e.models.modelExists}}),_t)((function(e){var t=e.authRequired,n=e.accessToken,a=e.role,c=e.onFetchFeatures,o=(e.onStartPollingHealth,e.latestModelIsNew),l=e.uploadingModel,b=e.modelIsTraining,f=e.trainingFailed,j=e.cleanTrainState,p=e.cleanUploadState,h=e.conversationDeletionFailed,O=e.modelUploadError,m=e.modelExists,g=e.component,y=Object(v.a)(e,["authRequired","accessToken","role","onFetchFeatures","onStartPollingHealth","latestModelIsNew","uploadingModel","modelIsTraining","trainingFailed","cleanTrainState","cleanUploadState","conversationDeletionFailed","modelUploadError","modelExists","component"]),E=Object(u.c)(),k=r.useState(!1),T=Object(S.a)(k,2),A=T[0],_=T[1],I=Object(R.m)(),F=I.userGroups,N=I.userId,U=ee(),L=U.addToast,D=U.removeToast,M=Object(u.d)((function(e){return e.users.currentUser}));r.useEffect((function(){c()}),[c]),r.useEffect((function(){E(ut.b.request())}),[E]);var P=r.useCallback((function(e){var t;if(M&&0!==e.length){var n=(null===(t=M.data)||void 0===t?void 0:t.viewed_hints)?M.data.viewed_hints:[];M.data={viewed_hints:[].concat(Object(C.a)(n),[e])},E(ut.h.request(M))}}),[M,E]),B=r.useCallback((function(){P("powerUser")}),[P]),H=r.useCallback((function(){_(!1)}),[_]),q=r.useCallback((function(){return _(!0)}),[]),G=r.useMemo((function(){return t&&(!n||a&&"none"===a[0])}),[n,t,a]),V=r.useMemo((function(){return null===F||void 0===F?void 0:F.includes("power_user")}),[F]);return r.useEffect((function(){var e,t;!G&&N&&V&&!(null===M||void 0===M||null===(e=M.data)||void 0===e||null===(t=e.viewed_hints)||void 0===t?void 0:t.includes("powerUser"))&&L({head:"Congratulations! You have earned free Rasa swag",content:"You have been using Rasa X a lot lately. We want to celebrate this by sending you a t-shirt on us and offer you the opportunity to help shape our roadmap. Let us know how to get a hold of you, and we will send you an email with more details.",variant:"primary",timeout:-1,key:"powerUserToast",onUnmount:function(){B()},actions:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{variant:"inverse",large:!0,ml:4,onClick:function(){D("powerUserToast"),_(!0),B()},children:"Sure, thanks!"}),Object(i.jsx)(x.d,{variant:"plain",large:!0,onClick:function(){D("powerUserToast"),B()},children:"I'll pass"})]})})}),[M,B,V,F,N,L,G,D]),G?Object(i.jsx)(d.b,{to:{pathname:"/login"}}):Object(i.jsx)(d.c,Object(s.a)(Object(s.a)({},y),{},{render:function(e){var t,n,r=e.history,a=Object(v.a)(e,["history"]);return Object(i.jsx)(Tt,{trainingFailed:f,latestModelIsNew:o,modelIsTraining:b,uploadingModel:l,cleanUploadState:p,cleanTrainState:j,conversationDeletionFailed:h,modelUploadError:!!O,modelExists:m,onNavigate:r.push,children:Object(i.jsxs)(w.Flex,{sx:{height:"100%"},children:[Object(i.jsxs)(w.Box,{flex:"0 0 auto",children:[Object(i.jsx)(kt,{onPowerUserIconClick:V&&M&&!(null===(t=M.data)||void 0===t||null===(n=t.viewed_hints)||void 0===n?void 0:n.includes("powerUserSubmitted"))?q:void 0}),N&&Object(i.jsx)(At,{open:A,userId:N,onClose:H,onDataSubmit:function(){return P("powerUserSubmitted")}})]}),Object(i.jsx)(g,Object(s.a)({history:r},a))]})})}}))})),Ft=n(13),Nt=n(149),Ut=n(41),Lt=n(87),Dt=Object(Nt.a)((function(e){return e.filter}),(function(e){return Object(Ut.isEqual)(e,Lt.c.filter)})),Mt={filterBarIsEmpty:Object(Nt.a)((function(e){return e.filter}),(function(e){return Object(Ut.isEqual)(Object(s.a)(Object(s.a)({},e),{},{date:Lt.c.filter.date}),Lt.c.filter)})),filterIsEmpty:Dt},Pt=n(34),Bt=n(21),Ht=n(36);function qt(e){var t=e.currentUser,n=e.updateUser,a=e.children,c=e.content,o=e.docs,l=e.nextStep,u=e.step,d=e.title,b=e.canBeShown,f=Object(v.a)(e,["currentUser","updateUser","children","content","docs","nextStep","step","title","canBeShown"]),j=re(),p=j.hintsEnabled,h=j.currentHint,O=j.allHints,m=j.nextHints,g=j.setHintsEnabled,y=j.addHint,S=j.updateCurrentHint;r.useEffect((function(){if(t){var e=t.data&&t.data.viewed_hints&&t.data.viewed_hints.includes(u);y({source:u,nextSource:l,canBeShown:b&&!e})}}),[t,y,u,l,b]);var w=function(e){if(t){var r=t.data&&t.data.viewed_hints?t.data.viewed_hints:[];t.data={viewed_hints:[].concat(Object(C.a)(r),[e])},n(t)}},E=r.useMemo((function(){return O.map((function(e,t){return Object(i.jsx)(q.d,{mr:"5px",sx:{backgroundColor:"#fff",borderRadius:"2px",display:"inline-block",height:"4px",marginTop:"auto",opacity:e===h?1:.4,transition:"all ease .2s",width:e===h?"10px":"4px"},as:"li"},t)}))}),[h,O]);return h?Object(i.jsx)(G.a,Object(s.a)(Object(s.a)({borderRadius:"large",boxShadow:"8px 9px 21px 0 rgba(0, 0, 0, 0.25)",bg:"primary_2",p:4,pt:3,textAlign:"left",heading:d,visible:h===u,disabled:!p,interactive:!0,placement:"bottom-end",onHide:function(){h===u&&g(!1)},content:Object(i.jsxs)(q.a,{sx:{width:"352px"},children:[Object(i.jsxs)(x.y,{color:"neutral_0",as:"div",variant:"bodySecondary",children:[c,o&&Object(i.jsxs)(i.Fragment,{children:[" ",Object(i.jsx)(x.y,{fontWeight:600,as:"a",target:"_blank",href:o,color:"neutral_0",sx:{textDecoration:"none",display:"initial"},children:"Learn more here"}),"."]})]}),Object(i.jsxs)(q.d,{mt:4,children:[Object(i.jsx)(q.d,{flexDirection:"row",as:"ul",m:0,p:0,sx:{listStyle:"none"},children:E}),Object(i.jsx)(q.d,{sx:{marginLeft:"auto"},children:m.length>1?Object(i.jsxs)(x.d,{variant:"plain",onClick:function(){w(u),S(!0)},children:["Next ",Object(i.jsx)(x.j,{icon:"long-arrow-right"})]}):Object(i.jsx)(x.d,{variant:"inverse",onClick:function(){w(u),S(!0)},children:"Done"})})]})]})},f),{},{children:a})):Object(i.jsx)(i.Fragment,{children:a})}qt.defaultProps={appendTo:document.body,offset:[0,8]};var Gt={updateUser:ut.h.request};var Vt=Object(u.b)((function(e){return{currentUser:e.users.currentUser}}),Gt)((function(e){return Object(i.jsx)(qt,Object(s.a)({},e))})),zt=n(61),Wt=Object(l.default)(w.Box).withConfig({displayName:"Ellipsis",componentId:"xogpw5-0"})([""," text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"],A.maxWidth);Wt.defaultProps={as:"div"};var Yt=r.memo(Wt);function Kt(e){var t=e.color,n=Object(v.a)(e,["color"]);return Object(i.jsx)(w.Box,Object(s.a)(Object(s.a)({width:"12px",height:"12px",sx:{borderRadius:"12px",border:"2px solid white"}},n),{},{bg:t,children:"\xa0"}))}var Qt=r.memo((function(e){var t=e.active,n=e.client,r=e.timestamp,a=e.channel,c=e.onSelect,o=e.flagged,l=(e.ref,e.tags),u=Object(v.a)(e,["active","client","timestamp","channel","onSelect","flagged","ref","tags"]),d=Object(R.l)();return Object(i.jsxs)(w.Flex,Object(s.a)(Object(s.a)({sx:{overflow:"hidden",cursor:"pointer",height:"72px",transition:"background-color ease 0.2s","&:hover":{bg:"neutral_1"}},px:4,py:3,onClick:function(){d("entity:conversation:selected"),c(n)},bg:t?"neutral_1":"neutral_0",alignItems:"center"},u),{},{children:[Object(i.jsx)(w.Box,{mr:3,children:Object(i.jsx)(x.b,{variant:"large",bg:"neutral_3",children:Object(i.jsx)(x.j,{icon:["fas","user"]})})}),Object(i.jsxs)(Yt,{children:[Object(i.jsx)(x.i,{variant:"h5",color:"neutral_8",children:"number"===typeof r?Oe.a.unix(r).format("h:mm a, D MMM YYYY"):"No timestamp"}),a&&Object(i.jsx)(x.y,{variant:"captionPrimary",lineHeight:"normal",children:a})]}),Object(i.jsx)(w.Box,{flex:"1"}),l.length>0&&Object(i.jsx)(w.Flex,{flexDirection:"row-reverse",children:l.map((function(e){return Object(i.jsx)(Kt,{color:"#".concat(e.color),title:e.value,mr:"-4px"},e.id)}))}),o&&Object(i.jsx)(w.Flex,{flex:"0 1 24px",fontSize:"8px",color:"secondary_2",alignItems:"center",justifyContent:"center",children:Object(i.jsx)(x.j,{icon:["fas","flag-alt"]})})]}))}));function Xt(e){e.ref;var t=Object(v.a)(e,["ref"]);return Object(i.jsxs)(w.Flex,Object(s.a)(Object(s.a)({px:4,py:3,alignItems:"center",sx:{overflow:"hidden",cursor:"pointer",height:"72px",transition:"background-color ease 0.2s","&:hover":{bg:"neutral_1"}}},t),{},{children:[Object(i.jsx)(w.Box,{mr:3,children:Object(i.jsx)(x.b,{variant:"large",bg:"neutral_3",children:Object(i.jsx)(x.j,{icon:["fas","user"]})})}),Object(i.jsxs)(Yt,{children:[Object(i.jsx)(x.i,{variant:"h5",color:"neutral_3",loading:!0,children:"\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588"}),Object(i.jsx)(x.y,{color:"neutral_3",variant:"captionPrimary",lineHeight:"normal",loading:!0,children:"\u2588\u2588\u2588\u2588\u2588"})]})]}))}function Zt(e){var t=e.pastDelay,n=e.children,r=Object(v.a)(e,["pastDelay","children"]);return!1===t?null:Object(i.jsxs)(w.Flex,Object(s.a)(Object(s.a)({justifyContent:"center",alignItems:"center",flexDirection:"column",color:"neutral_6",style:{textAlign:"center",height:"100%",width:"100%"}},r),{},{children:[Object(i.jsx)(x.j,{icon:"circle-notch",spin:!0,mb:2,fontSize:5}),Object(i.jsx)(x.y,{variant:"bodySecondary",inheritColor:!0,children:n})]}))}var Jt=r.memo((function(e){var t=e.conversations,n=e.conversationId,a=e.loading,c=e.onSelectConversation,o=e.onLoadMoreRows,s=e.filter,l=e.total,d=Object(u.c)(),b=Object(u.d)((function(e){return e.messages.tags}));r.useEffect((function(){d(Ft.q.request())}),[d]);var f=r.useCallback((function(e){var t=e.startIndex,n=e.stopIndex;return o?o({filter:s,offset:t,limit:n-t+1}):new Promise((function(e){return e()}))}),[s,o]),j=r.useCallback((function(e){var r=e.key,a=e.index,o=e.style,s=t[a];if(!s)return Object(i.jsx)(Xt,{style:o},r);var l=s.tags.map((function(e){return b.find((function(t){return t.id===e}))})).filter((function(e){return void 0!==e}));return Object(i.jsx)(Qt,{style:o,active:n===s.sender_id,client:s.sender_id,timestamp:s.latest_event_time,channel:s.latest_input_channel,onSelect:c,flagged:s.has_flagged_messages,tags:l,"data-qa":"conversation-list-item_div"},r)}),[t,n,c,b]);return Object(i.jsxs)(i.Fragment,{children:[a&&Object(Ut.isEmpty)(t)&&Object(i.jsx)(Zt,{mt:20,children:"Loading conversations"}),Object(i.jsx)(zt.a,{children:function(e){return Object(i.jsx)(zt.e,{isRowLoaded:function(e){var n=e.index;return void 0!==t[n]},loadMoreRows:f,rowCount:l,children:function(t){var n=t.onRowsRendered,r=t.registerChild;return Object(i.jsx)(zt.f,{ref:r,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:20,rowCount:l,rowHeight:72,rowRenderer:j})}})}})]})})),$t=function(e){return Number(e)<.01?"< 0.01":Number(e).toPrecision(2)},en=function(e){return e.confidence&&Object(i.jsxs)(x.y,{sx:{whiteSpace:"nowrap"},mx:1,display:"inline-block",variant:"bodySecondary",color:"neutral_6",children:["(",e.confidence,")"]})},tn=r.memo((function(e){var t=e.intent,n=e.intents,a=e.onChange,c=e.predictedIntent,o=e.rankedIntents,l=void 0===o?[]:o,u=e.variant,d=Object(v.a)(e,["intent","intents","onChange","predictedIntent","rankedIntents","variant"]),b=r.useState(!1),f=Object(S.a)(b,2),j=f[0],p=f[1],h=r.useMemo((function(){if(!l||0===l.length)return n.map((function(e){return{value:e,label:e,data:{name:e}}}));var e=n.map((function(e){return{name:e}})),t=l.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{confidence:e.confidence||0})})).sort((function(e,t){return Number(t.confidence)-Number(e.confidence)})).map((function(e){return Object(s.a)(Object(s.a)({},e),{},{confidence:Number(e.confidence)})}));return Object(Ut.uniqBy)(t.concat(e),"name").map((function(e){return{value:e.name,label:e.name,confidence:e.confidence?$t(e.confidence):void 0,data:e}})).filter((function(e){return null!==e.value}))}),[l,n]),O=r.useMemo((function(){return null===t?null:h.find((function(e){return e.value===t}))||{value:t,label:t,data:{name:t}}}),[t,h]),m=r.useCallback((function(e){return e&&a(e.data||{name:e.value})}),[a]),g=r.useState(O),y=Object(S.a)(g,2),C=y[0],E=y[1],k=Object(R.h)(j);r.useEffect((function(){j&&!k&&E(O)}),[j,O,k]);var T=r.useState(""),A=Object(S.a)(T,2),_=A[0],I=A[1];Object(R.b)((function(){""!==_&&m({value:_})}),200,[m,_]);var F=Object(R.g)(me.d.Domain,me.a.Update);return j?Object(i.jsx)(x.l,{block:d.block,px:2,autoFocus:!0,onChangeValue:I,value:_,fullWidth:d.fullWidth,variant:u,suffix:Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(x.d,{fontSize:"12px",onClick:function(){I(""),m(C),p(!1)},ml:3,variant:"inverse"===u?"plain":"plainDropdown",children:Object(i.jsx)(x.j,{icon:"times"})})})}):Object(i.jsx)(x.u,Object(s.a)({renderItem:function(e,t){return function(e,t,n){return e.confidence?Object(i.jsxs)(w.Flex,{children:[Object(i.jsx)(x.y,{display:"inline-block",title:t,variant:"bodySecondary",children:t}),en(e),e.value===n&&Object(i.jsx)(x.y,{ml:1,display:"inline-block",marginLeft:"auto",variant:"bodySecondary",color:"neutral_6",children:"predicted intent"})]}):t}(e,t,c||null)},onChange:m,onCreate:F?function(e){I(e),p(!0)}:void 0,createNewText:"Create new intent",items:h,value:O&&O.value.length?O:null,variant:u},d))})),nn=Object(A.variant)({prop:"actionVariant",key:"actions"}),rn=Object(l.default)(x.y).withConfig({displayName:"Action__ActionBubble",componentId:"zqrxuc-0"})(["",""],nn),an=l.default.span.withConfig({displayName:"Action__ConfidenceContainer",componentId:"zqrxuc-1"})(["font-weight:normal;"]);function cn(e){var t=e.children,n=e.variant,r=e.confidence,a=(e.ref,Object(v.a)(e,["children","variant","confidence","ref"]));return Object(i.jsx)(Yt,{children:Object(i.jsxs)(rn,Object(s.a)(Object(s.a)({actionVariant:n,variant:"captionSecondary"},a),{},{children:[t,r&&Object(i.jsx)(an,{children:$t(r)})]}))})}function on(e){var t=e.onClick;return Object(i.jsx)(x.d,{variant:"smallLink",onClick:t,children:"Correct action"})}cn.defaultProps={fontSize:0,letterSpacing:0,color:"neutral_6"};var sn=Object(l.default)(w.Box).withConfig({displayName:"HoverBox",componentId:"sc-4bv4l0-0"})(["display:",";"],(function(e){return e.show?"block":"none"})),ln=r.memo(sn),un=Object(l.default)(w.Box).withConfig({displayName:"BlurBox",componentId:"sc-1i60aa4-0"})(["display:block ",";"],(function(e){return!e.active&&"!important"}));un.defaultProps={active:!0};var dn=r.memo(un),bn=Object(l.default)(w.Flex).withConfig({displayName:"HoverFlex",componentId:"j3zq1z-0"})(["&:hover{","{display:block;}","{display:none;}}"],sn,un),fn=r.memo(bn),jn=Object(l.default)(w.Box).attrs((function(e){return Object(s.a)({bg:e.highlighted?"neutral_2":"transparent",borderColor:e.highlighted?"primary_2":"transparent",pt:1===e.index?4:2},e)})).withConfig({displayName:"EventContainer",componentId:"sc-8hb55e-0"})([""," "," "," border-style:solid;border-bottom-width:0;border-right-width:2px;border-left-width:0;border-top-width:0;"],A.borderRight,A.borderColor,A.space);jn.defaultProps={px:[0,3,4],py:[0,1,2]};var pn=jn;function hn(e){for(var t=e.data,n=e.style,r=e.event,a=e.highlighted,c=e.forwardedRef,o=t.onMessageClick,s=t.onUndoMessage,l=r.timestamp,u=("confidence"in r?r.confidence:null),d=t.events.filter((function(e){return e.timestamp<r.timestamp}));d.length>0&&"user"!==d[0].event&&"bot"!==d[0].event;)d=d.slice(1);return Object(i.jsx)(pn,{style:n,highlighted:a,onClick:function(){return o(r)},ref:c,"data-e2e":"EventContainer-".concat(r.event,"-").concat(r.timestamp),"data-qa":"conversation-message-action_div",children:Object(i.jsxs)(fn,{flexDirection:"row",alignItems:"end",children:[Object(i.jsx)(Ue.a,{content:"Action and Confidence",children:Object(i.jsx)(cn,{ml:7,confidence:u,children:Object(Lt.f)(r)})}),s&&d.length>0&&Object(i.jsx)(ln,{show:!1,alignSelf:"center",px:2,children:Object(i.jsx)(w.Flex,{children:Object(i.jsx)(on,{onClick:function(){return s(l)}})})})]})})}var On=n(85),xn=n.n(On),mn=n(57);function gn(e){var t=e.reverseAlign,n=e.variant,r=e.style,a=e.customContent;return Object(i.jsxs)(x.n,{reverseAlign:t,variant:n,style:r,children:[Object(i.jsx)(mn.a,{py:3,px:"20px",sx:{fontSize:1},bottom:!0,children:Object(i.jsx)("strong",{children:"Custom output payload:"})}),Object(i.jsx)(x.y,{pt:2,pb:3,px:"20px",sx:{whiteSpace:"pre",textOverflow:"initial",overflowX:"scroll",fontSize:0},variant:"code",children:xn.a.dump(a)})]})}var vn=n(746),yn=n.n(vn),Cn=n(747),Sn=n.n(Cn);function wn(e){var t=e.children;return Object(i.jsx)("span",{children:t})}function En(e){var t=e.children,n=e.href;return Object(i.jsx)("a",{href:n,onClick:function(e){return e.stopPropagation()},rel:"noopener noreferrer",target:"_blank",style:{overflowWrap:"break-word"},children:t})}function kn(e){var t=e.text;return e.markdown?Object(i.jsx)(yn.a,{source:t,skipHtml:!1,allowedTypes:["text","root","break","paragraph","emphasis","strong","link","list","listItem","image"],renderers:{paragraph:wn,link:En},plugins:[Sn.a]}):Object(i.jsx)(wn,{children:t})}function Tn(e){var t=e.confidence,n=(e.confidenceFilter,e.children),a=e.data,c=e.flagged,o=e.formatted,l=e.highlighted,u=e.last,d=e.onFlagMessage,b=e.onUndoMessage,f=e.onMessageButtonClick,j=e.optimistic,p=e.text,h=e.timestamp,O=e.user,m=e.userAvatar,g=e.interactive,v=e.selected,y=r.useCallback((function(){}),[]),C=!!O||!!j,S=r.useMemo((function(){return O?m?Object(i.jsx)(x.b,{variant:"medium",children:m}):g?Object(i.jsx)(x.b,{variant:"medium",username:O}):Object(i.jsx)(x.b,{variant:"medium",bg:"neutral_3",children:Object(i.jsx)(x.j,{fontSize:14,icon:["fas","user"]})}):Object(i.jsx)(x.b,{variant:"medium",children:Object(i.jsx)(x.j,{icon:["fas","robot"]})})}),[O,m,g]),w=r.useMemo((function(){return c?"flagged":l&&!C?"neutral":C?"primary":"secondary"}),[c,l,C]),E=!!d;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(fn,{flexDirection:O?"row-reverse":"row",alignItems:"end",children:[Object(i.jsx)(q.d,{sx:{flexShrink:0},children:S}),Object(i.jsx)(q.d,{justifyContent:O?"flex-end":"flex-start",mx:2,width:["calc(100% - 100px)","auto","auto"],children:Object(i.jsx)(Ue.a,{disabled:!h,content:h&&Oe.a.unix(h).format("h:mm a, D MMM YYYY"),placement:O?"right":"left",py:"10px",offset:[0,8],children:Object(i.jsxs)(q.d,{flexDirection:"column",style:{maxWidth:"320px"},children:[a&&a.image&&Object(i.jsx)(x.k,{onLoad:y,src:a.image,width:1,sx:{borderRadius:"16px 16px 0 0"}}),!p&&!a&&!n&&Object(i.jsx)(x.n,{reverseAlign:C,variant:w,children:Object(i.jsx)(x.y,{sx:{color:"neutral_6",fontStyle:"italic"},children:"There is no response text here"})}),(p||n)&&Object(i.jsxs)(x.n,{"data-qa":"conversation-message-bubbles_div",style:a&&a.image?{borderRadius:"0 0 16px 16px"}:{},reverseAlign:C,variant:w,children:[p&&Object(i.jsx)(kn,{text:p,markdown:!O}),n]}),a&&a.custom&&Object(i.jsx)(gn,{reverseAlign:C,variant:"custom",style:p?{marginTop:"8px"}:{},customContent:a.custom}),a&&a.attachment&&!a.custom&&!a.image&&Object(i.jsx)(x.n,{reverseAlign:C,variant:w,style:p?{marginTop:"8px",width:"auto"}:{width:"auto"},children:Object(i.jsxs)(x.y,{sx:{color:"neutral_6",fontSize:"14px",fontStyle:"italic"},children:[Object(i.jsx)(x.j,{icon:["fal","paperclip"],color:"neutral_6",fontSize:"12px",mr:1}),a.attachment]})}),Object(i.jsx)(x.o,{buttons:a&&a.buttons,onClick:u?f:null})]})})}),O&&E&&Object(i.jsx)(ln,{alignSelf:"center",show:v,children:Object(i.jsx)(Ue.a,{content:v?"Annotating message: You are viewing details about this message on the right.":"Incorrect intent? Annotate this message",children:Object(i.jsx)(x.d,Object(s.a)(Object(s.a)({variant:"plainIcon",onClick:function(e){}},v&&{color:"neutral_7"}),{},{children:Object(i.jsx)(x.j,{icon:"highlighter",fontSize:3})}))})}),d&&h&&Object(i.jsx)(ln,{show:c,alignSelf:"center",children:Object(i.jsx)(Ue.a,{content:"Something went wrong? Flag this message to find it easily later",children:Object(i.jsx)(x.d,Object(s.a)(Object(s.a)({variant:"plainIcon",onClick:function(e){e.stopPropagation(),d(h,!c)}},c&&{color:"secondary_2"}),{},{children:Object(i.jsx)(x.j,{icon:["fas","flag-alt"]})}))})})]}),Object(i.jsx)(xe.a,{resource:me.d.Stories,action:me.a.Read,yes:O&&o?Object(i.jsxs)(fn,{flexDirection:"row-reverse",mt:2,mr:7,children:[Object(i.jsx)(q.a,{children:Object(i.jsx)(Ue.a,{content:"Intent and Confidence",placement:"bottom",children:Object(i.jsx)(cn,{confidence:t,children:o})})}),b&&h&&Object(i.jsx)(ln,{show:!1,alignSelf:"center",px:2,children:Object(i.jsx)(q.d,{children:Object(i.jsx)(on,{onClick:function(){return b(h)}})})})]}):null})]})}function Rn(e){var t,n,a=e.data,c=e.style,o=e.event,s=e.highlighted,l=e.last,u=e.forwardedRef,d=e.selected,b=a.filter,f=a.onMessageClick,j=a.onUndoMessage,p=a.onFlagMessage,h=a.onMessageButtonClick,O=a.username,x=a.userAvatar,m=a.interactive,g=o.timestamp,v=r.useCallback((function(e){"Enter"===e.key&&f(o)}),[o,f]),y=b&&b.nluConfidence||void 0,C=(null===(t=o.metadata)||void 0===t||null===(n=t.rasa_x_id)||void 0===n?void 0:n.toString())||"";return Object(i.jsx)(pn,{style:c,highlighted:s,role:"button",onClick:function(){return f(o)},onKeyPress:v,tabIndex:0,"data-e2e":"EventContainer-".concat(o.event,"-").concat(o.timestamp),ref:u,id:C,children:Object(i.jsx)(Tn,{data:"bot"===o.event&&o.data||null,formatted:Object(Lt.f)(o),highlighted:s,last:l,onUndoMessage:j,onFlagMessage:p,onMessageButtonClick:h,optimistic:"user"===o.event&&!!o.isOptimistic,flagged:o.is_flagged,text:o.text,timestamp:g,user:"user"===o.event?O:null,userAvatar:x,confidence:"user"===o.event?o.parse_data.intent.confidence:null,confidenceFilter:y,interactive:m,selected:d})})}function An(e){var t=e.forwardedRef,n=e.style;return Object(i.jsx)(x.v,{py:6,px:4,ref:t,style:n,children:Object(i.jsx)(x.y,{as:"span",variant:"metadata",color:"neutral_6",children:"Restart"})})}function _n(e){var t=e.forwardedRef,n=e.event.timestamp,r=e.style;return Object(i.jsx)(x.v,{py:6,px:4,ref:t,style:r,children:Object(i.jsxs)(x.y,{as:"span",variant:"metadata",color:"neutral_6",children:["Conversation session started on ",Oe.a.unix(n).format("D MMM YYYY")]})})}function In(){var e=Object(F.a)(["\n  animation: "," 1s ease-in-out infinite;\n  animation-direction: alternate;\n"]);return In=function(){return e},e}function Fn(){var e=Object(F.a)(["\n  from { opacity: 1; }\n  to { opacity: 0; }\n"]);return Fn=function(){return e},e}Tn.defaultProps={data:null,text:null,children:null,highlighted:!1,selected:!1,user:!1,optimistic:!1,onMessageButtonClick:null,last:!1};var Nn=Object(l.keyframes)(Fn()),Un=Object(l.default)(x.j)(In(),Nn),Ln=r.memo((function(e){var t=e.forwardedRef,n=e.style;return Object(i.jsx)(pn,{style:n,ref:t,"data-e2e":"EventContainer-Typing",children:Object(i.jsx)(Tn,{children:Object(i.jsx)(Un,{icon:"ellipsis-h",size:"2x"})})})}));function Dn(e){var t=e.data,n=e.index,r=e.style,a=e.forwardedRef,c=t.events,o=t.selectedTimestamp,l=n>=Object(Ut.findLastIndex)(c,(function(e){return"bot"===e.event})),u=c[n],d={data:t,index:n,style:r,highlighted:u.timestamp<=o&&(u.nextBreakEvent||1/0)>o,last:l,forwardedRef:a,selected:u.timestamp===o};return"restart"===u.event?Object(i.jsx)(An,Object(s.a)(Object(s.a)({},d),{},{event:u})):"session_started"===u.event?Object(i.jsx)(_n,Object(s.a)(Object(s.a)({},d),{},{event:u})):"typing"===u.event?Object(i.jsx)(Ln,Object(s.a)(Object(s.a)({},d),{},{event:u})):"user"!==u.event&&"bot"!==u.event||!u.text&&("bot"!==u.event||!u.data.custom)?Object(i.jsx)(hn,Object(s.a)(Object(s.a)({},d),{},{event:u})):Object(i.jsx)(Rn,Object(s.a)(Object(s.a)({},d),{},{event:u}))}var Mn=r.forwardRef((function(e,t){return Object(i.jsx)(Dn,Object(s.a)({forwardedRef:t},e))}));function Pn(e){var t=r.useState(null),n=Object(S.a)(t,2),a=n[0],c=n[1],o=r.useState(!0),u=Object(S.a)(o,2),d=u[0],b=u[1],f=r.useContext(l.ThemeContext);r.useEffect((function(){var e=window.location.hash;""!==e&&setTimeout((function(){var t=e.replace("#",""),n=document.getElementById(t);n&&n.scrollIntoView()}),0)}),[]);var j=r.useMemo((function(){return e.awaitingResponse?[].concat(Object(C.a)(e.events),[{event:"typing",timestamp:-1}]):e.events}),[e.awaitingResponse,e.events]);r.useEffect((function(){null!==a&&d&&j.length>0&&(a.scrollTop=a.scrollHeight-a.clientHeight)}),[j,a,d]);var p=r.useCallback((function(){if(null!==a){var e=a.scrollTop===a.scrollHeight-a.clientHeight;b(e)}}),[b,a]);return Object(i.jsx)(q.d,{flexDirection:"column",justifyContent:"flex-start",ref:c,height:"100%",overflow:"auto",onScroll:p,sx:{["@media (max-device-width: ".concat(f.breakpoints[1],")")]:{'[data-e2e^="EventContainer-"]:first-of-type':{marginTop:"auto"},'[data-e2e^="EventContainer-"]:last-of-type':{marginBottom:"12px"}}},children:j.map((function(t,n){return Object(i.jsx)(Mn,{data:Object(s.a)(Object(s.a)({},e),{},{events:j}),index:n,style:{}},n)}))})}var Bn=r.memo((function(e){var t=e.autoFocus,n=void 0===t||t,a=e.onSendMessage,c=e.onFocus,o=r.useState(""),s=Object(S.a)(o,2),u=s[0],d=s[1],b=Object(R.c)(u),f=b.setTextarea,j=b.textarea,p=b.rows,h=r.useContext(l.ThemeContext),O=Object(R.e)("(max-device-width: ".concat(h.breakpoints[1],")")),m=r.useCallback((function(){u&&(d(""),a(u))}),[u,a]),g=r.useCallback((function(){d(""),a("/restart")}),[a]);return Object(i.jsxs)(w.Flex,{sx:{height:"72px"},onClick:function(){var e;return O&&(null===(e=j.current)||void 0===e?void 0:e.focus())},alignItems:"center",pl:[0,3,4],pr:[0,2,0],children:[Object(i.jsx)(w.Box,{flex:"1 0 auto",width:"0",children:Object(i.jsx)(x.l,{autoFocus:n,"data-qa":"chat-input_textarea",fontSize:3,fullWidth:!0,noBorder:!0,onChangeValue:d,onFocus:c,onReturn:m,placeholder:"Start typing a message...",textarea:!0,rows:p,value:u,ref:f})}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(Ue.a,{content:"Restart",disabled:O,children:Object(i.jsx)(x.d,{variant:"headerIcon",p:[0,"12px","28px"],onClick:g,children:Object(i.jsx)(x.j,{icon:"sync"})})})}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(Ue.a,{content:"Send",disabled:O,children:Object(i.jsx)(x.d,{variant:"headerIcon",p:[0,"12px","28px"],disabled:""===u,showWhenDisabled:!0,onClick:m,children:Object(i.jsx)(x.j,{icon:"paper-plane"})})})})]})})),Hn=r.memo((function(e){var t=e.awaitingResponse,n=e.username,a=e.conversation,c=e.filter,o=e.onMessageClick,s=e.onFlagMessage,u=e.onSendMessage,d=e.onUndoMessage,b=e.timestamp,f=e.userAvatar,j=e.placeholder,p=e.noInteract,h=e.onChatFocus,O=r.useContext(l.ThemeContext),x=Object(R.e)("(max-device-width: ".concat(O.breakpoints[1],")")),m=r.useMemo((function(){return!a||0===a.length||3===a.length&&a.map((function(e){return e.event})).join(",")===["action","session_started","action"].join(",")}),[a]);return Object(i.jsxs)(w.Flex,{flexDirection:"column",sx:{height:"100%",overflow:"auto"},children:[Object(i.jsx)(w.Box,{flex:"1 1 80%",sx:{overflow:"auto"},children:Object(i.jsx)(w.Flex,{flexDirection:"column",sx:{height:"100%"},children:Object(i.jsx)(w.Box,{flex:"1 1 auto",style:{overflow:"auto"},"data-e2e":"Conversation__Container",children:m?j:Object(i.jsx)(Pn,{awaitingResponse:t,username:n,events:a,filter:c,onFlagMessage:s,onMessageButtonClick:u||null,onMessageClick:o||function(){},onUndoMessage:d,selectedTimestamp:b||0,userAvatar:f,interactive:!!u||!p})})})}),u&&!p&&Object(i.jsx)(w.Card,{flex:"0 1",width:1,sx:{backgroundColor:"neutral_0",borderTop:"1px solid",borderColor:"neutral_4",["@media (max-device-width: ".concat(O.breakpoints[1],")")]:{position:"fixed",bottom:0}},children:Object(i.jsx)(Bn,{autoFocus:!x,onFocus:h,onSendMessage:u})})]})}));function qn(e){var t=e.color,n=e.bg,r=e.borderColor;return"string"===typeof t&&(n=Object(ae.d)(.75,t),t=Object(ae.c)(.25,t),r=Object(ae.b)(n)>.9?t:n),Object(i.jsx)(x.r,Object(s.a)(Object(s.a)({},e),{},{bg:n,px:3,py:"6px",color:t,width:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:r,borderRadius:"normal"}))}function Gn(e){var t=e.tag,n=e.checked,r=e.onChange;return Object(i.jsxs)(fn,{p:3,alignItems:"center",sx:{"&:hover":{bg:"neutral_1"}},onClick:function(){return r(!n)},children:[Object(i.jsx)(w.Box,{mr:2,sx:{visibility:n?"visible":"hidden"},children:Object(i.jsx)(x.j,{color:"primary_2",icon:["fal","check"]})}),Object(i.jsx)(Kt,{color:"#".concat(t.color),mr:2}),Object(i.jsx)(x.y,{color:"neutral_8",children:t.value}),Object(i.jsx)(w.Box,{flex:1}),Object(i.jsx)(ln,{children:n&&Object(i.jsx)(x.j,{color:"neutral_5",icon:["fal","times"]})})]})}var Vn=["50c4ab","bae25b","a7d0ff","fbb6ff","ffd036","f9946a","98fdff","ad96f0","5c8eff","ff5a5a","546c82","c3c3c3"];function zn(e){var t=e.conversation,n=t.sender_id,a=Object(u.c)(),c=Object(u.d)((function(e){return e.messages.tags})),o=r.useState(""),s=Object(S.a)(o,2),l=s[0],d=s[1],b=r.useState(!1),f=Object(S.a)(b,2),j=f[0],p=f[1],h=r.useState(""),O=Object(S.a)(h,2),m=O[0],g=O[1],v=r.useMemo((function(){var e=t.tags[t.tags.length-1],n=c.find((function(t){return t.id===e}));if(!n)return Vn[0];var r=Vn.indexOf(n.color);return Vn[(r+1)%Vn.length]}),[t.tags,c]),y=r.useCallback((function(){a(Ft.v.request({conversationId:n,tags:[{value:l,color:v}]})),p(!1)}),[n,l,a,v]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(w.Flex,{flexDirection:"column",pb:2,children:[Object(i.jsxs)(w.Box,{px:20,py:2,children:[Object(i.jsx)(x.y,{my:2,variant:"bodySecondary",sx:{fontWeight:"bold"},children:"Manage tags"}),Object(i.jsx)(x.l,{active:!0,fullWidth:!0,my:2,onChangeValue:g,placeholder:"Search tags...",value:m,variant:"search"})]}),Object(i.jsx)(x.v,{}),c.length>0&&Object(i.jsx)(w.Box,{sx:{maxHeight:240,overflow:"auto"},children:c.map((function(e){return""!==m&&e.value.toLowerCase().indexOf(m.toLowerCase())<0?null:Object(i.jsx)(w.Box,{children:Object(i.jsx)(Gn,{checked:t.tags.includes(e.id),tag:e,onChange:function(t){return function(e,t){a(t?Ft.v.request({conversationId:n,tags:[e]}):Ft.d.request({conversationId:n,tag:e}))}(e,t)}})},e.id)}))}),Object(i.jsx)(x.v,{}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(x.q,{px:20,py:3,onClick:function(){d(m),p(!0)},variant:"primary",children:"Create new tag"})}),Object(i.jsx)(x.v,{}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(x.q,{px:20,py:3,onClick:function(){return Object(St.c)("https://rasa.com/docs/rasa-x/user-guide/track-progress/#tagging-conversations-via-the-api")},variant:"primary",children:"Use the API to create tags"})})]}),Object(i.jsxs)(it,{title:"Create tag",open:j,onClose:function(){return p(!1)},style:{width:"412px"},noSeparator:!0,children:[Object(i.jsx)(nt.a,{text:"Tag name",children:Object(i.jsx)(x.l,{placeholder:"Create new tag...",fullWidth:!0,value:l,onChangeValue:d,autoFocus:!0})}),Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",mr:-1,mt:4,children:[Object(i.jsx)(x.d,{mx:1,variant:"primary",onClick:y,children:"Create and add"}),Object(i.jsx)(x.d,{mx:1,variant:"secondary",onClick:function(){return p(!1)},children:"Cancel"})]})]})]})}function Wn(e){var t=e.conversation,n=Object(u.c)(),a=Object(u.d)((function(e){return e.messages.tags})),c=r.useState(!1),o=Object(S.a)(c,2),s=o[0],l=o[1];return r.useEffect((function(){n(Ft.q.request())}),[n]),Object(i.jsxs)(w.Flex,{width:"100%",flexWrap:"wrap",justifyContent:"center",flexDirection:"column",children:[Object(i.jsxs)(w.Flex,{mb:"12px",width:"100%",justifyContent:"space-between",alignItems:"center",children:[Object(i.jsx)(x.i,{variant:"h4",color:"neutral_6",children:"TAGS"}),Object(i.jsx)(Ge,{visible:s,popupWidth:"320px",content:Object(i.jsx)(zn,{conversation:t}),borderRadius:"normal",onClose:function(){return l(!1)},children:Object(i.jsx)(x.d,{variant:"icon",p:"8px",onClick:function(){return l(!s)},children:Object(i.jsx)(x.j,{icon:"cog"})})})]}),t.tags.map((function(e){var t=a.find((function(t){return t.id===e}));return void 0===t?null:Object(i.jsx)(qn,{color:"#".concat(t.color),mb:2,children:t.value},t.id)}))]})}var Yn=function(e){var t=e.active,n=e.title,r=e.icon,a=e.onIconClick;return Object(i.jsxs)(w.Flex,{width:"100%",justifyContent:"space-between",alignItems:"center",py:1,children:[Object(i.jsx)(x.y,{variant:"bodySecondary",children:n}),Object(i.jsx)(x.d,{p:2,active:t,variant:"icon",onClick:a,children:Object(i.jsx)(x.j,{icon:t?["fas",r]:["fal",r]})})]})};function Kn(e){var t=e.conversation,n=e.conversationId,a=e.onConversationDelete,c=e.onUpdatedReviewStatus,o=Object(u.c)(),s=function(e){return"Tester"===(null===e||void 0===e?void 0:e.latest_input_channel)?"Tester":e&&"rasa"!==e.latest_input_channel?e.sender_name:"Anonymous user"}(t),l=r.useState(!1),d=Object(S.a)(l,2),b=d[0],f=d[1],j=r.useCallback((function(e){o(Ft.D.request({conversationId:n,status:e})),c()}),[n,o,c]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(w.Flex,{width:"100%",flexDirection:"column",alignItems:"center",mt:10,"data-qa":"conversation-info-panel_div",children:[Object(i.jsxs)(w.Flex,{px:"100px",mb:3,children:[Object(i.jsx)(x.b,{variant:"xl",mr:-44,children:Object(i.jsx)(x.j,{icon:["fas","robot"]})}),Object(i.jsx)(x.b,{variant:"xl",bg:"neutral_3",ml:-44,children:Object(i.jsx)(x.j,{icon:["fas","user"]})})]}),Object(i.jsx)(x.y,{variant:"bodySecondary",sx:{fontWeight:"bold"},children:"Conversation between"}),Object(i.jsxs)(x.y,{variant:"bodySecondary",textAlign:"center",sx:{fontWeight:"bold"},children:["Demobot and ",s]}),Object(i.jsx)(x.y,{mt:2,mb:7,variant:"captionPrimary",children:null===t||void 0===t?void 0:t.latest_input_channel}),Object(i.jsxs)(w.Flex,{width:"100%",flexDirection:"column",alignItems:"flex-start",px:4,py:3,sx:{borderTopStyle:"solid",borderTopWidth:"1px",borderColor:"neutral_3"},children:[Object(i.jsx)(x.i,{pb:3,variant:"h4",color:"neutral_6",children:"ACTIONS"}),Object(i.jsx)(Yn,{active:"reviewed"===(null===t||void 0===t?void 0:t.review_status),title:"Mark as reviewed",icon:"check-circle",onIconClick:function(){return j("reviewed"!==(null===t||void 0===t?void 0:t.review_status)?"reviewed":"unread")}}),Object(i.jsx)(Yn,{active:"saved_for_later"===(null===t||void 0===t?void 0:t.review_status),title:"Save for later",icon:"bookmark",onIconClick:function(){return j("saved_for_later"!==(null===t||void 0===t?void 0:t.review_status)?"saved_for_later":"unread")}}),Object(i.jsx)(Yn,{title:"Delete",icon:"trash-alt",onIconClick:function(){return f(!0)}})]}),t&&Object(i.jsx)(w.Flex,{width:"100%",flexDirection:"column",alignItems:"flex-start",px:4,py:"10px",sx:{borderTopStyle:"solid",borderTopWidth:"1px",borderColor:"neutral_3"},children:Object(i.jsx)(Wn,{conversation:t})})]}),Object(i.jsxs)(it,{title:"Delete conversation?",open:b,onClose:function(){return f(!1)},style:{width:"412px"},noSeparator:!0,px:4,py:0,children:[Object(i.jsx)(x.y,{children:"Are you sure you want to delete this conversation? This action cannot be undone."}),Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",mt:5,mb:5,children:[Object(i.jsx)(x.d,{large:!0,mx:1,variant:"primary",onClick:function(){f(!1),a()},children:"Delete"}),Object(i.jsx)(x.d,{large:!0,mx:1,variant:"secondary",onClick:function(){return f(!1)},children:"Cancel"})]})]})]})}var Qn=l.default.ul.withConfig({displayName:"Accordion",componentId:"sc-1oehtxo-0"})([""," list-style:none;"],A.space);Qn.defaultProps={p:0,m:0};var Xn=r.memo(Qn);function Zn(){var e=Object(F.a)(["\n      transform: rotate(90deg);\n    "]);return Zn=function(){return e},e}var Jn=Object(l.default)(w.Flex).withConfig({displayName:"AccordionSection__Content",componentId:"q2jvwm-0"})(["display:",";"],(function(e){return e.expanded?"block":"none"})),$n=Object(l.default)(w.Flex).withConfig({displayName:"AccordionSection__IconContainer",componentId:"q2jvwm-1"})(["transition:transform ease 0.1s;",""],(function(e){return e.expanded&&Object(l.css)(Zn())})),er=Object(l.default)(w.Flex).withConfig({displayName:"AccordionSection__StyledFlex",componentId:"q2jvwm-2"})(["cursor:pointer;"]);function tr(e){var t=e.title,n=e.children,a=Object(v.a)(e,["title","children"]),c=r.useState(a.expanded),o=Object(S.a)(c,2),s=o[0],l=o[1];return Object(i.jsxs)(mn.a,{bottom:!0,children:[Object(i.jsxs)(er,{p:20,flexDirection:"row",alignItems:"center",onClick:function(){return l(!s)},children:[Object(i.jsx)($n,{alignItems:"center",size:24,mr:2,justifyContent:"center",expanded:s,children:Object(i.jsx)(x.j,{icon:"angle-right"})}),Object(i.jsx)(x.i,{variant:"h4",children:t})]}),Object(i.jsx)(Jn,{pl:7,pr:5,pb:5,expanded:s,children:n})]})}var nr=n(748),rr=n.n(nr);function ar(e){var t=e.conversation,n=Object(R.l)(),a=r.useMemo((function(){return t.filter((function(e){return"slot"===e.event})).reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{[t.name]:t.value})}),{})}),[t]),c=r.useMemo((function(){return Object.keys(a).map((function(e){return"".concat(e,": ").concat(a[e])})).join("\n")}),[a]),o=Object.keys(a);return 0===o.length?Object(i.jsx)(Pe,{disabled:!0,fullSize:!0,bg:"neutral_0",children:"No slots"}):Object(i.jsx)(Pe,{preformatted:!0,fullSize:!0,bg:"neutral_0",onCopy:function(){return n("entity:slots:copied")},clipboardText:c,children:Object(i.jsx)(i.Fragment,{children:o.map((function(e){return Object(i.jsxs)("div",{style:{marginBottom:"1em"},children:[Object(i.jsx)("div",{children:Object(i.jsx)("b",{children:e})}),Object(i.jsx)("div",{children:(t=a[e],"boolean"===typeof t||null===t?Object(i.jsx)("i",{children:String(t)}):"object"!==typeof t?t:Object(i.jsx)(rr.a,{name:!1,src:t,enableClipboard:!1}))})]},e);var t}))})})}var cr=n(42);function or(){var e=Object(F.a)(["\n  border-radius: "," "," 0 0;\n  cursor: pointer;\n  border: solid 1px transparent;\n  transition: all ease 0.15s;\n  white-space: nowrap;\n\n  ","\n"]);return or=function(){return e},e}var sr=Object(l.default)((function(e){return Object(i.jsx)(w.Flex,Object(s.a)({justifyContent:"center",alignItems:"center",as:"li",px:3,py:2,minWidth:100,textAlign:"center"},e))}))(or(),Object(cr.b)("radii.normal"),Object(cr.b)("radii.normal"),(function(e){return e.active&&"\n    border: solid 1px ".concat(Object(cr.b)("colors.neutral_5")(e),";\n    border-bottom-color: ").concat(Object(cr.b)("colors.neutral_1")(e),";\n    background-color: ").concat(Object(cr.b)("colors.neutral_1")(e),";\n    ")}));function ir(e){var t=e.elements,n=r.useState(0),a=Object(S.a)(n,2),c=a[0],o=a[1],s=r.useState(t.find((function(e){return e.default}))||t[0]),l=Object(S.a)(s,2),u=l[0],d=l[1];r.useEffect((function(){d((function(e){return t.find((function(t){return t.title===e.title}))}))}),[t]);var b=r.useMemo((function(){return t.map((function(e,t){return Object(i.jsx)(sr,{active:e.title===u.title,onClick:function(){var t;d(e),o((function(e){return e+1})),null===(t=e.onChange)||void 0===t||t.call(e)},children:Object(i.jsx)(x.y,{variant:"bodySecondary",fontSize:1,color:e.title===u.title?"neutral_8":"primary_2",children:e.title})},t)}))}),[t,u]);return Object(i.jsxs)(w.Box,{children:[Object(i.jsx)(w.Flex,{flexDirection:"row",as:"ul",sx:{listStyle:"none",position:"relative",zIndex:1},m:0,p:0,mr:4,children:b}),Object(i.jsx)(w.Box,{mt:"-1px",sx:{boxShadow:"0 6px 21px 0 rgba(152, 152, 152, 0.06), 0 2px 4px 0 #f2f4fa",borderRadius:"normal"},children:Object(i.jsx)(Pe,{disabled:0===u.content.length,preformatted:!0,fullSize:!0,css:u.title===t[0].title?{borderTopLeftRadius:0}:{},onCopy:u.onCopy&&u.onCopy,children:0===u.content.length?"No story yet":u.content},c)})]})}function lr(e){var t=e.editable,n=e.onClearStory,a=e.onCopy,c=e.onSaveStory,o=(e.storyName,e.conversation),s=e.onSaveE2ETest,l=e.saveE2ETestLoading,d=e.activeGitRepository,b=Object(u.d)((function(e){return e.messages.story}))||"",f=Object(u.d)((function(e){return e.messages.testStory}))||"",j=r.useState(!1),p=Object(S.a)(j,2),h=p[0],O=p[1],m=r.useState(!1),g=Object(S.a)(m,2),v=g[0],y=g[1],C=Object(R.l)();r.useEffect((function(){y(!1)}),[b]);var E=r.useCallback((function(){s(b),y(!0)}),[b,s]),k=r.useMemo((function(){return!d||v&&!l}),[v,l,d]);return Object(i.jsxs)(Xn,{children:[Object(i.jsxs)(tr,{title:"Story till now",expanded:!0,children:[Object(i.jsx)(ir,{elements:[{title:"Story",content:b.split("\n"),onChange:function(){return O(!1)},onCopy:function(){return C("entity:story:copied")}},{title:"Test story",content:f.split("\n"),onChange:function(){C("entity:e2eStory:opened"),O(!0)},onCopy:function(){return C("entity:e2eStory:copied")}}]}),b.length>0&&(h?Object(i.jsx)(w.Flex,{flexDirection:"row-reverse",mt:3,children:Object(i.jsx)(xe.a,{resource:me.d.Tests,action:me.a.Create,yes:Object(i.jsx)(Ue.a,{disabled:!!d,content:Object(i.jsx)(w.Box,{sx:{textAlign:"center"},children:"Connect to a remote Git repository to save this test story"}),children:Object(i.jsx)(x.m,{disabled:k,loading:l,onClick:E,variant:"primary",children:v&&!l?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.j,{mr:1,icon:"check-circle"})," Saved"]}):"Save test story"})})})}):t?Object(i.jsxs)(w.Flex,{mt:3,flexDirection:"row-reverse",mr:-1,children:[Object(i.jsx)(xe.a,{resource:me.d.Stories,action:me.a.Create,yes:Object(i.jsx)(x.d,{mx:1,onClick:function(){c&&c({story:{story:b},isMarkdown:!1})},variant:"primary",children:"Save Story"})}),n&&Object(i.jsx)(x.d,{mx:1,onClick:n,ml:1,variant:"secondary",children:"Clear"})]}):Object(i.jsx)(w.Flex,{flexDirection:"row-reverse",mt:3,children:Object(i.jsx)(x.d,{onClick:function(){return a&&a()},variant:"primary",children:"Copy to interactive learning"})}))]}),Object(i.jsx)(tr,{title:"Slots",expanded:!0,children:Object(i.jsx)(ar,{conversation:o})})]})}function ur(e){var t=e.entities,n=e.onChangeEntity,a=e.entityTypes,c=e.onRemoveEntity,o=e.onClickOutside,u=e.synonyms,d=e.enableCreation,b=r.useContext(l.ThemeContext),f=r.useRef(null),j=r.useRef(null),p=r.useRef(null),h=[j,p];Object(R.a)(f,o,(function(e){return h.some((function(t){var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e)}))}));var O=r.useCallback((function(e){return function(t){t&&!Array.isArray(t)&&n(Object(s.a)(Object(s.a)({},e),{},{entity:t.value}))}}),[n]),m=r.useCallback((function(e){return function(t){t&&!Array.isArray(t)&&n(Object(s.a)(Object(s.a)({},e),{},{entity_synonym_id:t.value}))}}),[n]),g=r.useState({}),v=Object(S.a)(g,2),y=v[0],C=v[1];return Object(R.b)((function(){Object.values(y).forEach((function(e){var t=e.creating,r=e.entity,a=e.previous;if(null===r&&null!==a)n(a);else{if(!0!==t)return;r&&n(r)}}))}),200,[y,n]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(w.Box,{width:"100%",as:"table",sx:{width:"100%",borderSpacing:0,textAlign:"left",display:"flex"},ref:f,children:Object(i.jsxs)("tbody",{style:{width:"100%"},children:[Object(i.jsxs)(w.Flex,{as:"tr",sx:{width:"calc(100% - 23px)"},children:[Object(i.jsx)(w.Flex,{as:"th",width:1/3,children:Object(i.jsx)(x.i,{variant:"h5",children:"Word/phrase"})}),Object(i.jsx)(w.Flex,{as:"th",width:1/3,children:Object(i.jsx)(x.i,{variant:"h5",children:"Entity type"})}),Object(i.jsx)(w.Flex,{as:"th",width:1/3,children:Object(i.jsx)(x.i,{variant:"h5",children:Object(i.jsxs)(w.Flex,{alignItems:"center",children:["Synonym"," ",Object(i.jsx)(He,{ml:1,color:"neutral_5",content:Object(i.jsxs)(w.Box,{sx:{cursor:"default",textAlign:"left"},children:["Whenever this entity is extracted, it will use this value instead of the actual text in the message."," ",Object(i.jsx)("a",{style:{color:Object(A.get)(b,"colours.neutral_0")},target:"_blank",rel:"noopener noreferrer",href:"https://rasa.com/docs/rasa/nlu/training-data-format/#entity-synonyms",children:"Learn more"})]})})]})})})]}),t&&u&&t.map((function(e){var t="".concat(e.start,"-").concat(e.end,"-").concat(e.extractor||"none"),n=function(e){return!!e.extractor&&!["ner_crf","CRFEntityExtractor","DIETClassifier","ner_mitie","MitieEntityExtractor"].includes(e.extractor)}(e),r=e.value,o=e.entity?{value:e.entity,label:e.entity}:null,l=e.entity_synonym_id&&u.find((function(t){return t.id===e.entity_synonym_id}))?{label:u.find((function(t){return t.id===e.entity_synonym_id})).synonym_reference,value:e.entity_synonym_id}:null,b=y[t],f=d?function(){return C((function(n){return Object(s.a)(Object(s.a)({},n),{},{[t]:Object(s.a)(Object(s.a)({},n[t]),{},{previous:e,creating:!0})})}))}:void 0,h=n||!d&&0===a.length;return Object(i.jsxs)(w.Flex,{as:"tr",children:[Object(i.jsx)(w.Box,{as:"td",width:1/3,pt:2,pr:2,pl:0,children:Object(i.jsx)(x.l,{fullWidth:!0,value:r,disabled:!0,title:r})}),Object(i.jsx)(w.Box,{as:"td",width:1/3,pt:2,pr:2,pl:0,children:b&&b.creating?Object(i.jsx)(x.l,{px:2,autoFocus:!0,fullWidth:!0,onChangeValue:function(n){return C((function(r){return Object(s.a)(Object(s.a)({},r),{},{[t]:Object(s.a)(Object(s.a)({},r[t]),{},{entity:Object(s.a)(Object(s.a)({},e),{},{entity:n})})})}))},value:b.entity?b.entity.entity:"",suffix:Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(x.d,{fontSize:"12px",p:"6px",variant:"plainIcon",onClick:function(){return C((function(e){return Object(s.a)(Object(s.a)({},e),{},{[t]:Object(s.a)(Object(s.a)({},e[t]),{},{entity:null,creating:!1})})}))},children:Object(i.jsx)(x.j,{icon:"times"})})})}):Object(i.jsx)(x.u,{portalRef:j,onCreate:f,items:a.map((function(e){return{value:e,label:e}})),value:o,disabled:h,onChange:O(e),fullWidth:!0})}),Object(i.jsx)(w.Box,{as:"td",width:1/3,pt:2,pr:2,pl:0,children:Object(i.jsx)(x.u,{portalRef:p,placeholder:"Select a synonym",value:l,disabled:n||0===u.length,items:u.map((function(e){return{value:e.id,label:e.synonym_reference}})),onChange:m(e),fullWidth:!0})}),Object(i.jsx)(w.Box,{as:"td",sx:{alignSelf:"center"},pt:2,children:n?Object(i.jsx)(Ue.a,{content:"This entity is read-only since it was extracted by a pre-trained model.",children:Object(i.jsx)(x.j,{icon:"info-circle",color:"neutral_5"})}):Object(i.jsx)(x.d,{variant:"plainIcon",fontSize:4,p:0,onClick:function(){return c(e)},children:Object(i.jsx)(x.j,{icon:"trash-alt"})})})]},t)}))]})})})}function dr(e){var t=e.entities,n=e.entityTypes,r=e.onChangeEntity,a=e.onClickOutside,c=e.onRemoveEntity,o=e.synonyms,s=e.text,l=Object(R.g)(me.d.Domain,me.a.Update),u=0===n.length&&!l,d=u?"warning":"success",b=u?"You don't have permission to create entities.":"Select more words or phrases in the sentence to annotate more entities.";return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(ur,{entities:t,entityTypes:n,onChangeEntity:r,onClickOutside:a,onRemoveEntity:c,text:s,synonyms:o,enableCreation:l}),Object(i.jsx)(x.a,{variant:d,m:0,py:"10px",mt:3,mb:2,children:Object(i.jsx)(x.y,{as:"i",variant:"bodySecondary",lineHeight:"initial",color:"inherit",children:b})})]})}var br=n(279),fr=n(419),jr=n(1430),pr=n(749),hr=n.n(pr),Or=n(412),xr=n.n(Or);function mr(e,t,n,r){return{id:xr()(),start:t,end:n,value:e.substring(t,n),entity:r}}function gr(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor}var vr=function(e,t){e.findStyleRanges((function(e){return e.getStyle().size>0}),t)},yr=function(e){var t=e.children,n=e.contentState,r=e.start,a=e.onMarkClick,c=new hr.a,o=n.getBlocksAsArray(),s=Object(S.a)(o,1)[0].getInlineStyleAt(r),l=0===s.count()?"#d2c179":s.map((function(e){return new fr.a(c.hex((e||"").split("/")[0]))})).reduce((function(e,t){return e?e.mix(t):t})).toHexString(),u=Object(jr.a)(l,[Object(A.get)(x.D,"colours.neutral_0"),Object(A.get)(x.D,"colours.neutral_8")]).toHexString();return Object(i.jsx)(q.g,{as:"span",bg:l,color:u,onClick:a,children:t})},Cr=function(e,t){var n=e.getText().split(/\b/),r=0;n.forEach((function(e){e.match(/[\w']/)&&t(r,r+e.length),r+=e.length}))},Sr=function(e){var t=e.children,n=e.disabled;return Object(i.jsx)(q.g,{as:"span",sx:{height:"20px",borderRadius:"2px",p:"2px",m:"-2px","&:hover":{bg:"neutral_4"}},title:n?void 0:"Select a word or a phrase to annotate",children:t})},wr=function(e,t,n){return br.EditorState.createWithContent(Object(br.convertFromRaw)({blocks:[{key:"key",type:"unstyled",text:e,depth:0,inlineStyleRanges:t.map((function(e){return{style:"".concat(e.entity,"/").concat(e.id),offset:e.start,length:e.end-e.start}})),entityRanges:[]}],entityMap:{}}),function(e){return new br.CompositeDecorator([{strategy:vr,component:yr,props:e},{strategy:Cr,component:Sr,props:e}])}(n))},Er=function(e){return[e.getCurrentContent().getPlainText(),Object(br.convertToRaw)(e.getCurrentContent()).blocks.reduce((function(e,t){return[].concat(Object(C.a)(e),Object(C.a)(t.inlineStyleRanges.map((function(e){var n=e.style.lastIndexOf("/");return{start:e.offset,end:e.offset+e.length,entity:e.style.substring(0,n),id:e.style.substring(n),value:t.text.substr(e.offset,e.length)}}))))}),[])]},kr=r.forwardRef((function(e,t){var n=e.entities,a=e.entityTypes,c=e.onChange,o=e.onClick,s=e.onMarkClick,l=e.text,u=e.disabled,d=void 0!==u&&u,b=r.useCallback((function(){return wr(l,n,{disabled:d,onMarkClick:s})}),[l,n,d,s]),f=r.useState(b()),j=Object(S.a)(f,2),p=j[0],h=j[1];r.useEffect((function(){var e=Er(p),t=Object(S.a)(e,2),r=t[0],a=t[1];if(l!==r||n.length!==a.length){var c=b();h(c)}}),[l,n,p,h,b]);var O=r.useCallback((function(e){var t=p;h(e);var r=Er(e),o=Object(S.a)(r,2),i=o[0],u=o[1];if(i===l){if(function(e,t){var n=e.getSelection(),r=t.getSelection();return n.getStartOffset()!==n.getEndOffset()&&(n.getStartOffset()!==r.getStartOffset()||n.getEndOffset()!==r.getEndOffset())}(e,t)){var d=e.getSelection(),b=d.getStartOffset(),f=d.getEndOffset();return c(i,[].concat(Object(C.a)(n),[mr(i,b,f,a[0])])),void(s&&s())}}else c(i,u)}),[p,c,l,n,a,s]);return Object(i.jsx)(q.a,{sx:{width:"100%"},onClick:d?o:void 0,ref:t,children:Object(i.jsx)(br.Editor,{editorState:p,onChange:O,blockStyleFn:function(){return"defaultEditorStyles"},readOnly:d})})})),Tr=function(e,t){return e.start===t.start&&e.end===t.end&&e.extractor===t.extractor};function Rr(e){var t=e.message,n=e.intents,a=void 0===n?[]:n,c=e.correction,o=e.onChangeCorrection,l=e.onFetchExample,d=e.onSaveCorrection,b=e.originalIntent,f=e.entityTypes,j=e.onChange,p=e.entities,h=e.rankedIntents,O=e.synonyms,m=Object(u.c)(),g=Object(R.l)(),v=r.useState(""),y=Object(S.a)(v,2),E=y[0],k=y[1];r.useEffect((function(){return k(t.text)}),[t]);var T=r.useCallback((function(e){return m(Bt.c.request(e))}),[m]),A=Object(u.d)((function(e){return e.examples.draftExampleExists})),_=r.useMemo((function(){return t.text!==E}),[t,E]);Object(R.n)((function(){T(E)}),100,[E]);var I=r.useCallback((function(e){return c&&e.name!==c.intent&&o(Object(s.a)(Object(s.a)({},c),{},{intent:e.name}))}),[c,o]),F=r.useCallback((function(e){return j(t.text,p.map((function(t){return Tr(t,e)?e:t})))}),[p,j,t]),N=r.useCallback((function(e){var n=p?p.filter((function(t){return!Tr(t,e)})):[];j(t.text,n)}),[p,j,t]),U=r.useCallback((function(){c&&E&&(g("entity:annotation:corrected"),d(Object(s.a)(Object(s.a)({},c),{},{text:E})))}),[c,d,E,g]),L=r.useMemo((function(){if(b){var e=a.indexOf(b),t=a.filter((function(t,n){return n!==e}));return[b].concat(Object(C.a)(t))}return a}),[a,b]);return Object(i.jsx)(w.Flex,{flex:"1",flexDirection:"column",children:Object(i.jsxs)(w.Box,{children:[c&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(w.Flex,{alignItems:"center",mb:2,children:[Object(i.jsx)(x.i,{variant:"h5",mr:1,children:"Sentence"}),Object(i.jsx)(Ue.a,{maxWidth:"350px",content:"Edit and/or annotate this sentence with entities and the correct intent and add it to your training data.",px:3,py:3,children:Object(i.jsx)(x.j,{fontSize:1,color:"neutral_6",icon:"info-circle"})})]}),Object(i.jsx)(w.Flex,{alignItems:"center",justifyContent:"space-between",flexDirection:"row",mb:3,px:3,py:"6px",sx:{minHeight:"40px",border:"1px solid",borderColor:"neutral_5",borderRadius:"normal","&:hover":{borderColor:"neutral_6"},"&:focus-within:not(:disabled), &:focus:not(:disabled)":{borderColor:"primary_2"}},children:c&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(w.Box,{width:"100%",children:Object(i.jsx)(kr,{text:E,entities:c.entities,entityTypes:f,onChange:function(e,t){k(e),t.length>0&&o(Object(s.a)(Object(s.a)({},c),{},{entities:t,text:e}))}})}),A&&_&&Object(i.jsx)(w.Box,{ml:2,children:Object(i.jsx)(Ue.a,{content:"This already exists as training data.",children:Object(i.jsx)(x.j,{fontSize:1,color:"neutral_6",icon:"exclamation-circle"})})})]})}),Object(i.jsx)(x.i,{variant:"h5",mb:2,children:"Correct intent"}),Object(i.jsx)(tn,{intent:c.intent,intents:L,predictedIntent:b,rankedIntents:h,onChange:I,fullWidth:!0}),p.length>0&&Object(i.jsxs)(w.Box,{mt:4,mb:3,children:[Object(i.jsx)(x.v,{variant:"center",mb:3,children:Object(i.jsx)(x.i,{variant:"h5",children:"Correct entities"})}),Object(i.jsx)(dr,{entityTypes:f,onChangeEntity:F,onRemoveEntity:N,text:t.text,entities:p,synonyms:O})]})]}),Object(i.jsxs)(w.Flex,{mt:4,children:[Object(i.jsx)(w.Box,{flex:"1"}),Object(i.jsxs)(w.Box,{children:[Object(i.jsx)(x.d,{disabled:!c||!c.isDirty&&!_,onClick:function(){k(t.text),l(t.text)},variant:"secondary",children:"Cancel"}),Object(i.jsx)(x.d,{disabled:!c||!c.isDirty&&(A||E.length<=0),variant:"primary",ml:2,onClick:U,children:"Save to training data"})]})]})]})})}var Ar=r.memo((function(e){var t=e.date,n=e.color,r=Oe()(1e3*t);return Object(i.jsx)(x.y,{color:n,variant:"metadata",title:r.format("D MMM YYYY h:mm a"),children:r.format("h:mm a")})})),_r=function(e){var t=e.newIntent,n=e.oldIntent,r=e.confidence,a=t!==n;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(Ue.a,{content:"Intent and Confidence",placement:"bottom",children:[Object(i.jsx)(cn,{variant:a?"incorrect":"default",confidence:a?null:r,children:n}),a&&t&&Object(i.jsx)(cn,{ml:1,variant:"correct",children:t})]})})},Ir=l.default.div.withConfig({displayName:"MessagePreview__DotSeparator",componentId:"sc-1qsh8rv-0"})(["width:4px;height:4px;background-color:#979fb4;border-radius:50%;margin-right:12px;margin-left:12px;"]);function Fr(e){var t=e.action,n=e.message,a=e.confidence,c=e.correction,o=(e.entityTypes,e.originalIntent),l=(e.onChangeCorrection,e.onFlagMessage),u=(e.synonyms,n.text),d=n.timestamp,b=n.event,f=r.useCallback((function(){l(n.timestamp,!n.is_flagged)}),[l,n]);return Object(i.jsxs)(w.Flex,{pl:4,pr:6,py:5,sx:{borderBottomStyle:"solid",borderBottomWidth:"1px",borderColor:"neutral_4"},children:[Object(i.jsx)(w.Box,{mr:3,sx:{minWidth:"40px "},children:Object(i.jsx)(x.b,{variant:"large",bg:"user"===b?"neutral_3":"cyan_2",children:Object(i.jsx)(x.j,{icon:["fas","user"===b?"user":"robot"]})})}),Object(i.jsxs)(w.Flex,{flexDirection:"column",children:[Object(i.jsx)(x.y,{variant:"bodySecondary",mb:2,as:"div",children:u}),Object(i.jsxs)(w.Flex,{flexDirection:"row",alignItems:"center",children:[Object(i.jsx)(Ar,{color:"neutral_6",date:d}),"user"===n.event&&c&&o&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ir,{}),Object(i.jsx)(_r,{newIntent:c.intent,oldIntent:o,confidence:a}),Object(i.jsx)(Ir,{}),Object(i.jsx)(x.d,Object(s.a)(Object(s.a)({variant:"plainIcon",onClick:f},n.is_flagged&&{color:"secondary_2"}),{},{children:Object(i.jsx)(x.j,{icon:n.is_flagged?["fas","flag-alt"]:["far","flag-alt"]})}))]}),"bot"===n.event&&t&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ir,{}),Object(i.jsx)(Ue.a,{content:"Action and Confidence",placement:"bottom",children:Object(i.jsxs)(cn,{children:[t,a&&Object(i.jsxs)("span",{style:{marginLeft:"4px"},children:["(",a.toFixed(2),")"]})]})})]})]})]})]})}function Nr(e){var t=e.conversation,n=void 0===t?[]:t,a=e.conversationId,c=e.editable,o=e.entityTypes,l=e.correction,d=e.onChangeCorrection,b=e.onClose,f=e.onCopy,j=e.onFlagMessage,p=e.onFetchExample,h=e.onSaveCorrection,O=e.onSaveStory,m=e.intents,g=e.storyName,v=e.timestamp,y=e.synonyms,S=e.onSaveE2ETest,E=e.saveE2ETestLoading,k=e.activeGitRepository,T=r.useMemo((function(){return n.findIndex((function(e){return e.timestamp===v}))}),[n,v]),A=r.useMemo((function(){return n[T]}),[n,T]),_=Object(u.d)((function(e){return e.examples.draftExampleExists})),I=Object(R.h)(null===A||void 0===A?void 0:A.timestamp);r.useEffect((function(){A&&"user"===A.event&&A.timestamp!==I&&p(A.text)}),[A,I,p]);var F=A&&["user","bot"].includes(A.event)?A:null,N=r.useMemo((function(){for(var e=T-1;e>=1&&"bot"===n[e].event;)e--;return e>=0&&"action"===n[e].event?n[e]:null}),[T,n]),U=r.useMemo((function(){return A&&"user"===A.event?A.parse_data.intent.confidence:A&&"bot"===A.event&&N&&N.confidence?N.confidence:null}),[A,N]),L=r.useMemo((function(){return A&&"user"===A.event?A.parse_data.intent_ranking:[]}),[A]),D=r.useMemo((function(){return N?N.name:null}),[N]),M=r.useMemo((function(){return function(e,t){var n=void 0!==t?e.findIndex((function(e){return e.timestamp===t})):-1,r=n<0?e.length-1:n,a=Object(C.a)(e).reverse(),c=e.length-r,o=a.slice(c).findIndex((function(e){return"session_started"===e.event||"restart"===e.event})),s=o>=0?o+c:e.length,i=e.length-s;return e.slice(i,r+1)}(n,v)}),[n,v]),P=r.useCallback((function(e,t){return d(Object(s.a)(Object(s.a)({},l),{},{entities:t}))}),[l,d]),B=r.useMemo((function(){return F&&function(e){if("user"===e.event&&e.parse_data.response_selector){var t=e.parse_data.intent.name,n=e.parse_data.response_selector,r=Object.keys(n)[0],a=n&&r&&n[r].full_retrieval_intent;return a&&a.length>0&&a.split("/")[0]===t?a:t}return"user"===e.event&&e.parse_data.intent.name?e.parse_data.intent.name:null}(F)}),[F]),H=F&&"user"===F.event?{intent:B,entities:[],text:F.text}:null;return Object(i.jsxs)(w.Flex,{"data-qa":"conversation-inspector_div",flexDirection:"column",children:[Object(i.jsx)(x.d,{fontSize:5,variant:"plainIcon",onClick:b,p:3,style:{alignSelf:"flex-end",position:"absolute"},children:Object(i.jsx)(x.j,{icon:"times"})}),F&&Object(i.jsx)(Fr,{message:F,onChangeCorrection:d,onFlagMessage:j,entityTypes:o,correction:l||H,synonyms:y,confidence:U,action:D,originalIntent:B}),Object(i.jsxs)(Xn,{children:[F&&"user"===F.event&&Object(i.jsx)(tr,{title:_?"This message already exists as training data":"Create training data",expanded:!0,children:Object(i.jsx)(w.Box,{children:Object(i.jsx)(Rr,{onChange:P,onFetchExample:p,entityTypes:o,onChangeCorrection:d,onSaveCorrection:h,correction:l||H,conversationId:a,message:F,intents:m,rankedIntents:L,entities:l?l.entities:[],synonyms:y,originalIntent:B})})}),Object(i.jsx)(lr,{activeGitRepository:k,saveE2ETestLoading:E,onSaveE2ETest:S,onSaveStory:O,editable:c,onCopy:f,storyName:g,conversation:M})]})]})}var Ur=Object(l.default)(G.a).withConfig({displayName:"Dropdown__Tooltip",componentId:"sc-1mdiyw5-0"})([""," "," max-width:max-content !important;box-shadow:0 2px 8px 0 rgba(116,118,123,0.31) !important;"],A.border,A.color),Lr=Object(l.default)(w.Flex).withConfig({displayName:"Dropdown__Option",componentId:"sc-1mdiyw5-1"})(["text-align:left;cursor:pointer;transition:all ease 0.15s;",""],Ce.d);function Dr(e){var t=e.children,n=e.options,a=e.onClose,c=e.clearDateRangeInputs,o=e.onClickOutside,l=e.width,u=Object(v.a)(e,["children","options","onClose","clearDateRangeInputs","onClickOutside","width"]),d=r.useMemo((function(){return Object(i.jsx)(w.Box,{as:"ul",style:{listStyle:"none"},width:l||348,p:0,my:2,children:n.map((function(e,t){var n=e.label,r=e.action,o=e.customLabel;return o?Object(i.jsx)(Lr,{as:"li",sx:{marginTop:"8px"},onClick:function(){r&&(r(),a(),c&&c())},children:o(a)},t):Object(i.jsx)(Lr,{bgHover:"neutral_1",as:"li",onClick:function(){r&&r(),a(),c&&c()},children:Object(i.jsx)(x.y,{width:1,as:"div",variant:"bodySecondary",lineHeight:"48px",px:4,children:n})},t)}))})}),[n,a,c,l]);return Object(i.jsx)(Ur,Object(s.a)(Object(s.a)({content:d,borderRadius:"normal",bg:"neutral_0",onClickOutside:o||a},u),{},{children:Object(i.jsx)(w.Box,{children:t})}))}function Mr(e){var t=e.onChange,n=r.useState("All time"),a=Object(S.a)(n,2),c=a[0],o=a[1],s=r.useState(""),u=Object(S.a)(s,2),d=u[0],b=u[1],f=r.useState(""),j=Object(S.a)(f,2),p=j[0],h=j[1],O=r.useState(!1),m=Object(S.a)(O,2),g=m[0],v=m[1],y=r.useContext(l.ThemeContext),E=function(e){return e.format("YYYY-MM-DD")},k=function(){return Oe()().startOf("day")},T=r.useMemo((function(){return[{label:"Today",from:E(k())},{label:"Yesterday",from:E(k().subtract(1,"days")),to:E(k())},{label:"Last week",from:E(k().subtract(1,"weeks"))},{label:"Last month",from:E(k().subtract(1,"months"))},{label:"Last year",from:E(k().subtract(1,"years"))},{label:"All time",from:null}]}),[]),R=r.useMemo((function(){return T.map((function(e){return{label:e.label,action:function(){o(e.label),t({from:e.from,to:e.to||null})}}}))}),[t,T]),_=function(e){var n=Oe()(d,["DD/MM/YYYY","D/M/YYYY"],!0),r=Oe()(p,["DD/MM/YYYY","D/M/YYYY"],!0);n.isValid()&&r.isValid()&&(o("".concat(d," - ").concat(p)),e(),t({from:E(n),to:E(r)||null}))},I={label:"",customLabel:function(e){return Object(i.jsx)(nt.a,{text:"Custom",px:4,pt:3,mb:4,sx:{borderTop:"1px solid;",borderColor:"neutral_1"},children:Object(i.jsxs)(w.Flex,{alignItems:"center",children:[Object(i.jsx)(x.l,{width:"140px",placeholder:"dd/mm/yyyy",value:d,onChangeValue:function(e){return b(e)},onReturn:function(){return _(e)},maxLength:10}),Object(i.jsx)(x.j,{icon:"minus",ml:2,mr:2,style:{width:"4px",color:"neutral_8"}}),Object(i.jsx)(x.l,{width:"140px",placeholder:"dd/mm/yyyy",value:p,onChangeValue:function(e){return h(e)},onReturn:function(){return _(e)},maxLength:10})]})})}};return Object(i.jsx)(Dr,{options:[].concat(Object(C.a)(R),[I]),clearDateRangeInputs:function(){b(""),h("")},onClose:function(){return v(!1)},visible:g,children:Object(i.jsx)(x.d,{variant:"headerIcon",onClick:function(){return v(!g)},children:Object(i.jsxs)(w.Box,{sx:{width:"245px",textAlign:"left"},children:[Object(i.jsx)(x.j,{icon:"calendar-alt"}),Object(i.jsx)("span",{style:{margin:"0 auto 0 8px",color:Object(A.get)(y,"colours.neutral_8"),fontSize:Object(A.get)(y,"fontSizes.3")},children:c}),Object(i.jsx)(x.j,{icon:"chevron-down",pull:"right",color:"neutral_7",fontSize:"12px",pt:"2px"})]})})})}Dr.defaultProps={animation:"shift-away",placement:"bottom-end",offset:[0,8],interactive:!0,role:"dropdown",arrow:!1,appendTo:document.body};var Pr=n(390),Br={lineHeight:"inherit",marginLeft:"12px",maxWidth:"calc(100% - 48px)",overflowWrap:"break-word"};function Hr(e){var t=e.text,n=e.query,a=e.icon;if(""===n)return Object(i.jsxs)(i.Fragment,{children:[a&&a(t),Object(i.jsx)(x.y,{variant:"bodySecondary",sx:Br,children:t})]});var c=t.split(n);return Object(i.jsxs)(i.Fragment,{children:[a&&a(t),Object(i.jsxs)(x.y,{variant:"bodySecondary",sx:Br,children:[" ",c.map((function(e,t){return t===c.length-1?Object(i.jsx)(r.Fragment,{children:e},t):Object(i.jsxs)(r.Fragment,{children:[e,Object(i.jsx)("strong",{children:n})]},t)}))," "]})]})}function qr(e){var t=e.items,n=e.icon,a=e.selected,c=e.searchBoxPlaceholder,o=e.emptyListPlaceholder,s=e.noResultsPlaceholder,l=e.onChange,u=r.useState(""),d=Object(S.a)(u,2),b=d[0],f=d[1],j=r.useMemo((function(){var e=new RegExp((b||"").replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i");return t.filter((function(t){return t.match(e)}))}),[t,b]);return Object(i.jsx)(Pr.a,{name:"Intents",items:j,checkedItems:a,onChange:function(e){return l(e)},placeholder:Object(i.jsxs)(w.Flex,{color:"neutral_6",justifyContent:"center",alignItems:"center",flexDirection:"column",style:{height:"100%"},children:[Object(i.jsx)(x.j,{icon:"exclamation-circle",mb:2,mt:-52,fontSize:4}),Object(i.jsx)(x.y,{variant:"bodySecondary",inheritColor:!0,px:"25%",textAlign:"center",children:0===t.length?o:s})]}),header:function(){return Object(i.jsx)(x.l,{active:!0,disabled:0===t.length,fullWidth:!0,onChangeValue:f,placeholder:c,value:b,variant:"search"})},item:function(e){var t=e.item;return Object(i.jsx)(Hr,{text:t,query:b,icon:n})},stickyHeader:!0})}function Gr(e){var t=e.filter,n=e.onChange,r=Object(u.d)((function(e){return e.messages.actions}));return Object(i.jsx)(qr,{items:r,selected:t.actions,onChange:function(e){return n(Object(s.a)(Object(s.a)({},t),{},{actions:e}))},searchBoxPlaceholder:"Search actions...",emptyListPlaceholder:"There are no actions to filter by.",noResultsPlaceholder:"There are no actions matching your search."})}function Vr(e){var t=e.filter,n=e.onChange,a=Object(u.d)((function(e){return e.messages.channels})),c=function(e){return Lt.a[e]||e},o=r.useMemo((function(){return a.map(c)}),[a]),l=r.useMemo((function(){return t.channels.map(c)}),[t]),d=r.useCallback((function(e){var t=o.indexOf(e);return-1===t?e:a[t]}),[o,a]);return Object(i.jsx)(qr,{items:o,selected:l,onChange:function(e){return n(Object(s.a)(Object(s.a)({},t),{},{channels:e.map(d)}))},searchBoxPlaceholder:"Search channels...",emptyListPlaceholder:"There are no channels to filter by.",noResultsPlaceholder:"There are no channels matching your search."})}function zr(e){var t=e.disabled,n=e.value,a=e.onChange,c=r.useMemo((function(){return[{label:"At most",value:"max"},{label:"At least",value:"min"}]}),[]),o=r.useMemo((function(){return"min"===n.operator?c[1]:c[0]}),[n,c]),s=n.value,l=r.useCallback((function(e){a({operator:e.value,value:s})}),[s,a]),u=r.useCallback((function(e){var t=e.target.value;a({operator:o.value,value:t})}),[o.value,a]);return Object(i.jsxs)(w.Flex,{width:"100%",justifyContent:"space-between",mt:2,pl:"28px",children:[Object(i.jsx)(x.u,{value:o,disabled:t,items:c,onChange:l}),Object(i.jsx)(x.l,{min:0,max:1,step:.01,type:"number",disabled:t,noValidate:!0,width:"146px",value:s,onChange:u,px:2,ml:2})]})}Gr.title="Actions",Gr.count=function(e){return e.actions.length},Vr.title="Channels",Vr.count=function(e){return e.channels.length};var Wr={operator:"max",value:.5};function Yr(e){var t=e.filter,n=e.onChange,a=r.useMemo((function(){return{fontWeight:"bold"}}),[]),c=t.nluConfidence,o=t.coreConfidence,l=Object(R.p)(null!==c),u=Object(S.a)(l,2),d=u[0],b=u[1],f=Object(R.p)(null!==o),j=Object(S.a)(f,2),p=j[0],h=j[1],O=r.useCallback((function(e){return n(Object(s.a)(Object(s.a)({},t),{},{nluConfidence:e}))}),[t,n]),m=r.useCallback((function(e){return n(Object(s.a)(Object(s.a)({},t),{},{coreConfidence:e}))}),[t,n]);return r.useEffect((function(){!c&&d&&O(Wr)}),[c,d,O]),r.useEffect((function(){!o&&p&&m(Wr)}),[o,p,m]),Object(i.jsxs)("div",{children:[Object(i.jsx)(x.a,{variant:"alertThatUsesColoursThatArentInTheStyleguide",m:0,py:"12px",mb:4,children:Object(i.jsx)(x.y,{as:"i",variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0,children:"Use this filter to view conversations that include predictions with specific confidences."})}),Object(i.jsxs)(w.Flex,{as:"label",mt:2,children:[Object(i.jsx)(x.f,{onChange:b,checked:d}),Object(i.jsx)(x.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:a,children:"Intent Confidence"})]}),Object(i.jsx)(zr,{disabled:!d,onChange:O,value:c||Wr}),Object(i.jsxs)(w.Flex,{as:"label",mt:4,alignItems:"flex-start",children:[Object(i.jsx)(x.f,{onChange:h,checked:p}),Object(i.jsx)(x.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:a,children:"Action Confidence"})]}),Object(i.jsx)(zr,{disabled:!p,onChange:m,value:o||Wr})]})}function Kr(e){var t=e.filter,n=e.onChange,r=Object(u.d)((function(e){return e.messages.entities}));return Object(i.jsx)(qr,{items:r,selected:t.entities,onChange:function(e){return n(Object(s.a)(Object(s.a)({},t),{},{entities:e}))},searchBoxPlaceholder:"Search entities...",emptyListPlaceholder:"There are no entities to filter by.",noResultsPlaceholder:"There are no entities matching your search."})}function Qr(e){var t=e.filter,n=e.onChange,r=Object(u.d)((function(e){return e.messages.intents}));return Object(i.jsx)(qr,{items:r,selected:t.intents,onChange:function(e){return n(Object(s.a)(Object(s.a)({},t),{},{intents:e}))},searchBoxPlaceholder:"Search intents...",emptyListPlaceholder:"There are no intents to filter by.",noResultsPlaceholder:"There are no intents matching your search."})}function Xr(e){var t=e.filter,n=e.onChange,a=Object(u.d)((function(e){return e.messages.slotNames})),c=Object(u.d)((function(e){return e.messages.slotValues})),o=r.useState(null),l=Object(S.a)(o,2),d=l[0],b=l[1],f=r.useState([{slotName:{},slotValues:[]}]),j=Object(S.a)(f,2),p=j[0],h=j[1],O=r.useMemo((function(){return p.map((function(e){return e.slotName}))}),[p]),m=r.useMemo((function(){return a&&a.map((function(e){return{label:e,value:e}}))}),[a]),g=r.useMemo((function(){return c&&c.map((function(e){return{label:e,value:e}}))}),[c]),v=Object(u.c)(),y=r.useCallback((function(e){return v(Ft.o.request({slot:e,q:""}))}),[v]),E=r.useCallback((function(){var e=p[p.length-1];e.slotName.value&&0!==e.slotName.value.length&&e.slotValues&&0!==e.slotValues.length?b(null):b(e);var t=p.filter((function(e){return e.slotName.value&&e.slotName.value.length>0&&e.slotValues&&e.slotValues.length>0}));return t&&t.map((function(e){return e.slotValues&&e.slotValues.map((function(t){var n=t;return e.slotName.value+":"+n.value})).join(",")}))}),[p]),k=r.useCallback((function(e){var t=e?[].concat(Object(C.a)(O),[e]):O;return m.filter((function(e){return!t.some((function(t){return e.value===t.value}))}))}),[m,O]);r.useEffect((function(){var e=E();Object(Ut.isEqual)(t.slots,e)||n(Object(s.a)(Object(s.a)({},t),{},{slots:e}))}),[n,E,t]);var T=r.useCallback((function(){var e=[],n={},r=0;return t.slots.forEach((function(t,a){var c=t&&t.split(",");c&&c.forEach((function(t){var a=t.split(":"),c=a[0],o=a[1],i={label:o,value:o};if(c in n){var l=n[c];e[l].slotValues.push(i)}else{var u={slotName:{label:c,value:c},slotValues:[i]};e=[].concat(Object(C.a)(e),[u]);var d={[c]:r};r++,n=Object(s.a)(Object(s.a)({},n),d)}}))})),e}),[t.slots]);r.useEffect((function(){var e=T();if(!Object(Ut.isEqual)(t.slots,e)){var n=e.length>0?e:[{slotName:{},slotValues:[]}];d&&n.push(d),h(n)}}),[T,t.slots,d]);var R=r.useCallback((function(e,t,n){var r=!1;h(p.map((function(a){var c=p.indexOf(a);if(c===e&&!r)return r=!0,{slotName:n.slotName,slotValues:t||[]};if(a.slotName.value===n.slotName.value&&!r){if(-1===a.slotValues.findIndex((function(e){return e.value===t[t.length-1].value}))){r=!0;var o=c===e?t:[].concat(Object(C.a)(a.slotValues),Object(C.a)(t));return{slotName:n.slotName,slotValues:o}}r=!0}return a})))}),[p]),A=r.useMemo((function(){return p.map((function(e,t){return Object(i.jsxs)("tr",{children:[Object(i.jsx)(w.Box,{as:"td",width:.4,sx:{maxWidth:"152px"},pt:2,pr:2,pl:0,children:Object(i.jsx)(x.u,{fullWidth:!0,placeholder:"Select a slot",value:e.slotName.value?e.slotName:null,disabled:!1,items:k(e.slotName.value?e.slotName:void 0),onChange:function(e){y(e.value),h(p.map((function(n){return p.indexOf(n)===t?{slotName:e,slotValues:n.slotValues}:n})))}})}),Object(i.jsx)(w.Box,{as:"td",width:.6,sx:{maxWidth:"224px"},pt:2,pr:2,pl:0,children:Object(i.jsx)(x.p,{disabled:!e.slotName.value,placeholder:"Select a value",value:e.slotValues?e.slotValues:[""],items:g,onMenuOpen:function(){return y(e.slotName.value)},onChange:function(n){return R(t,n,e)},fullWidth:!0})}),Object(i.jsx)(w.Box,{as:"td",pt:2,sx:{verticalAlign:"middle"},children:t===p.length-1?Object(i.jsx)(x.d,{disabled:0===e.slotValues.length,variant:"plainIcon",fontSize:4,p:0,onClick:function(){return function(e,t){if(e&&t){var n={slotName:{},slotValues:[]};h((function(e){return[].concat(Object(C.a)(e),[n])}))}}(e.slotName,e.slotValues)},children:Object(i.jsx)(x.j,{icon:"plus"})}):Object(i.jsx)(x.d,{variant:"plainIcon",fontSize:4,p:0,onClick:function(){return h((function(e){return e.filter((function(e,n){return n!==t}))}))},children:Object(i.jsx)(x.j,{icon:"times"})})})]},t)}))}),[p,g,y,R,k]);return Object(i.jsxs)(w.Box,{sx:{height:"100%",width:"100%",overflow:"scroll"},children:[Object(i.jsx)(x.a,{variant:"alertThatUsesColoursThatArentInTheStyleguide",m:0,py:"12px",mb:4,children:Object(i.jsx)(x.y,{as:"i",variant:"bodySecondary",lineHeight:"1.54",inheritColor:!0,children:'Select a slot and the slot values you want to filter by. Click the "+" icon to add multiple slots.'})}),Object(i.jsx)(x.i,{variant:"h4",children:"Slots"}),Object(i.jsx)(w.Box,{width:1,as:"table",sx:{width:"100%",borderSpacing:0,textAlign:"left"},children:Object(i.jsx)("tbody",{style:{verticalAlign:"initial"},children:A})})]})}function Zr(e){var t=e.filter,n=e.onChange,r=Lt.b;return Object(i.jsx)(q.d,{flexDirection:"column",children:r.map((function(e){return Object(i.jsxs)(q.d,{as:"label",alignItems:"center",mb:4,children:[Object(i.jsx)(x.f,{variant:"radio",fontSize:"8px",width:"12px",checked:t.reviewStatus===e.status,onChange:function(){return n(Object(s.a)(Object(s.a)({},t),{},{reviewStatus:e.status}))}}),Object(i.jsx)(x.y,{ml:3,variant:"bodySecondary",inheritColor:!0,children:e.label})]},e.label)}))})}function Jr(e){var t=e.filter,n=e.onChange,a=Object(u.d)((function(e){return e.messages.tags})),c=r.useMemo((function(){return Object(Ut.keyBy)(a,(function(e){return e.value}))}),[a]),o=r.useMemo((function(){return t.tags.map((function(e){return e.value}))}),[t.tags]),l=r.useCallback((function(e){return Object(i.jsx)(Kt,{ml:"12px",mr:"-6px",color:"#".concat(c[e].color)})}),[c]);return Object(i.jsx)(qr,{items:a.map((function(e){return e.value})),icon:l,selected:o,onChange:function(e){return n(Object(s.a)(Object(s.a)({},t),{},{tags:e.map((function(e){return c[e]}))}))},searchBoxPlaceholder:"Search tags...",emptyListPlaceholder:"There are no tags to filter by.",noResultsPlaceholder:"There are no tags matching your search."})}Yr.title="Confidence",Yr.count=function(e){return 0+(e.nluConfidence?1:0)+(e.coreConfidence?1:0)},Kr.title="Entities",Kr.count=function(e){return e.entities.length},Qr.title="Intents",Qr.count=function(e){return e.intents.length},Xr.title="Slots",Xr.count=function(e){return e.slots.length},Zr.title="Review status",Zr.count=function(e){return e.reviewStatus&&e.reviewStatus.length>0?1:0},Jr.title="Tags",Jr.count=function(e){return e.tags.length};var $r={fontWeight:"bold"};function ea(e){var t=e.filter,n=e.onChange,a=t.flaggedOnly,c=r.useCallback((function(){var e=!a;n(Object(s.a)(Object(s.a)({},t),{},{flaggedOnly:e}))}),[t,n,a]),o=t.storiesNotRecognised,l=r.useCallback((function(){var e=!o;n(Object(s.a)(Object(s.a)({},t),{},{storiesNotRecognised:e}))}),[t,n,o]),u=r.useState(t.minimumMessages||10),d=Object(S.a)(u,2),b=d[0],f=d[1],j=null!==t.minimumMessages,p=r.useCallback((function(e){var r=e||0;j&&n(Object(s.a)(Object(s.a)({},t),{},{minimumMessages:r})),f(r)}),[t,n,j]),h=r.useCallback((function(){var e=null===t.minimumMessages?b:null;n(Object(s.a)(Object(s.a)({},t),{},{minimumMessages:e}))}),[t,n,b]);return Object(i.jsxs)("div",{children:[Object(i.jsxs)(w.Flex,{as:"label",my:2,alignItems:"center",mb:4,children:[Object(i.jsx)(x.f,{onChange:c,checked:a}),Object(i.jsx)(x.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:$r,children:"Includes flagged messages"})]}),Object(i.jsxs)(w.Flex,{as:"label",my:2,alignItems:"center",mb:4,children:[Object(i.jsx)(x.f,{onChange:l,checked:o}),Object(i.jsx)(x.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:$r,children:"Stories not included in training data"})]}),Object(i.jsxs)(w.Flex,{as:"label",my:2,alignItems:"flex-start",mb:4,children:[Object(i.jsx)(x.f,{onChange:h,checked:j}),Object(i.jsxs)(w.Box,{children:[Object(i.jsx)(x.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",sx:$r,children:"Conversation length (number of user messages)"}),Object(i.jsxs)(w.Flex,{justifyContent:"space-between",width:"224px",mt:3,children:[Object(i.jsxs)(x.y,{ml:"12px",mt:2,variant:"bodySecondary",children:["At least"," "]}),Object(i.jsx)(x.l,{noValidate:!0,min:"0",type:"number",value:b||0,onChangeValue:function(e){return p(""!==e?Number(e):null)},width:"146px",px:2,ml:2,disabled:!j})]})]})]})]})}function ta(e){var t=e.selected,n=e.count,r=e.children,a=e.onClick;return Object(i.jsxs)(w.Flex,{pl:4,pr:2,sx:{backgroundColor:t?"neutral_1":"neutral_0","&:hover":{backgroundColor:"neutral_1"},height:"40px",width:"100%",alignItems:"center",justifyContent:"space-between",cursor:"pointer",userSelect:"none"},onClick:a,children:[Object(i.jsx)(x.y,{variant:"bodySecondary",sx:{flexGrow:1},children:r}),0!==n&&Object(i.jsx)(w.Flex,{sx:{borderRadius:"4px",backgroundColor:t?"neutral_0":"neutral_1",minWidth:"20px",height:"20px",alignItems:"center",justifyContent:"center"},children:Object(i.jsx)(x.y,{variant:"captionSecondary",children:n})}),Object(i.jsx)(w.Box,{ml:2,sx:{backgroundColor:"primary_2",height:"100%",width:"4px",marginRight:"-10px",borderRadius:"1.5px",visibility:t?"normal":"hidden"}})]})}ea.title="Other",ea.count=function(e){return 0+(e.flaggedOnly?1:0)+(e.storiesNotRecognised?1:0)+(null!==e.minimumMessages?1:0)};var na=[Zr,Jr,Qr,Gr,Vr,Kr,Xr,Yr,ea];function ra(e){var t=e.filter,n=e.onChange,a=r.useState(0),c=Object(S.a)(a,2),o=c[0],s=c[1],l=r.useMemo((function(){return na[o]}),[o]);return Object(i.jsxs)(w.Flex,{sx:{borderStyle:"solid",borderWidth:"1px 0 1px 0",borderColor:"#e8ebf4",flexGrow:1,height:"100%",overflow:"hidden"},children:[Object(i.jsx)(mn.a,{right:!0,pt:4,sx:{minWidth:"176px"},children:na.map((function(e,n){return Object(i.jsx)(ta,{count:e.count(t),onClick:function(){return s(n)},selected:n===o,children:e.title},e.title)}))}),Object(i.jsx)(w.Box,{sx:{flexGrow:"1"},p:4,children:Object(i.jsx)(l,{filter:t,onChange:n})})]})}function aa(e){var t=e.onApply,n=e.onCancel,a=e.filter,c=r.useState(a),o=Object(S.a)(c,2),s=o[0],l=o[1],u=r.useCallback((function(){return t(s)}),[t,s]);return Object(i.jsxs)(w.Flex,{flexDirection:"column",sx:{margin:"4px",width:"640px",height:"536px",borderRadius:"16px",boxShadow:"0 2px 8px 0 rgba(116, 118, 123, 0.31)",backgroundColor:"neutral_0",position:"absolute",zIndex:"100"},children:[Object(i.jsx)(w.Box,{px:4,py:3,sx:{minHeight:"56px"},children:Object(i.jsx)(x.i,{variant:"h3",children:"Filter by:"})}),Object(i.jsx)(ra,{filter:s,onChange:l}),Object(i.jsxs)(w.Flex,{sx:{justifyContent:"flex-end"},px:4,py:3,children:[Object(i.jsx)(x.d,{large:!0,variant:"secondary",onClick:n,children:"Cancel"}),Object(i.jsx)(x.d,{large:!0,ml:2,onClick:u,children:"Apply"})]})]})}function ca(e){var t=e.expanded,n=e.filter,r=e.onApply,a=e.onCancel;return Object(i.jsx)(i.Fragment,{children:t&&Object(i.jsx)(aa,{filter:n,onApply:r,onCancel:a})})}var oa=r.memo(ca),sa=n.p+"static/media/conversations_placeholder.bae2510e.svg",ia=Lt.c.filter,la=function(e){var t="min"===e.operator?"\u2265":"\u2264";return"".concat(t," ").concat(e.value)},ua={channels:{label:"Channels",test:function(e){return e.length>0},transformContent:function(e){return e.map((function(e){return Lt.a[e]||e})).join(", ")}},intents:{label:"Intents",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},entities:{label:"Entities",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},actions:{label:"Actions",test:function(e){return e.length>0},transformContent:function(e){return e.join(", ")}},policies:{label:"Policy",test:function(e){return e.length>0},transformContent:function(e){return e[0]}},reviewStatus:{label:"Status",test:function(e){return e&&e.length>0},transformContent:function(e){var t;return null===(t=Lt.b.find((function(t){return t.status===e})))||void 0===t?void 0:t.label}},slots:{label:"Slots",test:function(e){return e.length>0},transformContent:function(e){var t={};e.forEach((function(e){e.split(",").forEach((function(e){var n=e.split(":"),r=n[0],a=n[1];r in t?t[r].push(a):t[r]=[a]}))}));for(var n="",r=0,a=Object.entries(t);r<a.length;r++){var c=Object(S.a)(a[r],2),o=c[0],s=c[1];n=n+(n.length>0?" | ":"")+"".concat(o,": ").concat(s)}return n}},tags:{label:"Tags",test:function(e){return e.length>0},transformContent:function(e){return e.map((function(e){return e.value})).join(", ")}},nluConfidence:{label:"NLU Confidence",test:function(e){return null!==e},transformContent:function(e){return la(e)}},coreConfidence:{label:"Core Confidence",test:function(e){return null!==e},transformContent:function(e){return la(e)}},minimumMessages:{label:"Minimum user messages",test:function(e){return null!==e},transformContent:function(e){return e}},flaggedOnly:{label:"Flagged only",test:function(e){return e},transformContent:function(e){return null}},storiesNotRecognised:{label:"Stories not in training data",test:function(e){return e},transformContent:function(e){return null}}},da=r.memo((function(e){var t=e.filter,n=e.onChange,r=Object.keys(ua).filter((function(e){return ua[e].test(t[e])}));return 0===r.length?Object(i.jsx)(x.y,{variant:"captionPrimary",sx:{fontStyle:"italic",marginLeft:"8px"},children:"No filters applied"}):Object(i.jsx)(w.Flex,{children:r.map((function(e){return Object(i.jsx)(w.Box,{ml:2,children:Object(i.jsx)(x.s,{label:ua[e].label,content:ua[e].transformContent(t[e]),active:!0,onChange:function(){return n(Object(s.a)(Object(s.a)({},t),{},{[e]:ia[e]}))}})},e)}))})})),ba=n(136),fa=n(190),ja=n(173),pa=n(172),ha=function(e){Object(ja.a)(n,e);var t=Object(pa.a)(n);function n(){var e;Object(ba.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(fa.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){if(this.state.hasError){var e=this.props.message;return Object(i.jsx)(pt,{children:e})}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(r.Component);ha.defaultProps={message:"Something went wrong!"};var Oa=n.p+"static/media/filters_placeholder.841cdfaf.svg";function xa(e){var t=e.children,n=e.offset,a=e.placement,c=e.currentUser,o=re(),s=o.hintsEnabled,l=o.allHints,u=o.nextHints,d=o.setHintsEnabled,b=o.updateCurrentHint,f=r.useMemo((function(){return c.data&&c.data.viewed_hints&&0!==c.data.viewed_hints.length?"View ".concat(u.length," remaining hints to make the most of this screen."):"Learn how to make most of this screen in ".concat(l.length," small steps!")}),[c,l,u]);return Object(i.jsx)(G.a,{offset:n,placement:a,disabled:s,boxShadow:"-3px 5px 13px 0 rgba(43, 58, 172, 0.29)",bg:"primary_2",appendTo:document.body,arrow:!1,borderRadius:"large",interactive:!0,content:Object(i.jsxs)(w.Flex,{sx:{width:"max-content"},p:3,alignItems:"center",children:[Object(i.jsx)(x.j,{icon:"lightbulb-on",fontSize:"20px",mx:"12px"}),Object(i.jsx)(x.y,{color:"neutral_0",mr:8,children:f}),Object(i.jsx)(x.d,{variant:"inverse",large:!0,onClick:function(){b(!1),d(!0)},children:"Show me"})]}),children:t})}var ma=n(97);function ga(e){var t=e.actions,n=e.body,r=e.heading,a=e.image,c=e.imageAlt,o=e.imageWidth,l=void 0===o?220:o,u=Object(v.a)(e,["actions","body","heading","image","imageAlt","imageWidth"]);return Object(i.jsxs)(w.Flex,Object(s.a)(Object(s.a)({flex:"1 1 auto",color:"neutral_6",flexDirection:"column",justifyContent:"center",alignItems:"center",style:{height:"100%",backgroundColor:"transparent"}},u),{},{children:[Object(i.jsx)(x.k,{width:l,src:a,alt:c,mb:4}),Object(i.jsx)(x.i,{variant:"h4",children:r}),Object(i.jsx)(x.y,{as:"div",inheritColor:!0,textAlign:"center",variant:"captionSecondary",lineHeight:"normal",style:{maxWidth:"220px"},p:2,children:n}),t&&Object(i.jsx)(w.Box,{mt:3,children:t})]}))}ga.defaultProps={bg:"neutral_0"};var va=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};function ya(e){var t=e.environment,n=e.environments,a=e.chatToken,c=e.onClose,o=e.onFetchChatToken,s=r.useState(t),l=Object(S.a)(s,2),u=l[0],d=l[1],b=r.useState(""),f=Object(S.a)(b,2),j=f[0],p=f[1],h=r.useState(""),O=Object(S.a)(h,2),m=O[0],g=O[1],v=ee().addToast,y=r.useMemo((function(){return n.filter((function(e){return e!==u})).map((function(e){return{value:e,label:va(e)}}))}),[n,u]),C=r.useCallback((function(e){return e&&!Array.isArray(e)&&d(e.value)}),[d]),E=r.useCallback((function(){o({botName:j,description:m})}),[j,m,o]),k=r.useCallback((function(){/localhost|127\.0\.0\.1|::1|\.local|^$/i.test(window.location.hostname)&&v({head:"Link contains \u201clocalhost\u201d",key:"generatedLocalhostLink",content:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(w.Box,{as:"a",color:"neutral_0",href:"//rasa.com/docs/rasa-x/installation-and-setup/deploy/#share-your-bot-deployment",target:"_blank",children:"View docs"})," ","on how to make this local instance accessible."]})})}),[v]);return Object(i.jsxs)(w.Flex,{flexDirection:"column",children:[Object(i.jsxs)(w.Flex,{"data-e2e":"ShareBotDialogue",flexDirection:"column",px:6,py:5,style:{textAlign:"left",width:"580px"},children:[y.length>0&&Object(i.jsx)(w.Flex,{mb:4,flexDirection:"column",children:Object(i.jsx)(nt.a,{text:"Environment to be tested",children:Object(i.jsx)(x.u,{placeholder:"Select the environment guest testers should be able to access",onChange:C,value:{value:u,label:va(u)},items:y})})}),Object(i.jsx)(w.Flex,{mb:4,flexDirection:"column",children:Object(i.jsx)(nt.a,{text:"Assistant's Details",children:Object(i.jsx)(x.l,{value:j,onChangeValue:function(e){return p(e)},placeholder:"Enter a name for your bot that your testers should see...",fullWidth:!0})})}),Object(i.jsx)(w.Flex,{flexDirection:"column",children:Object(i.jsx)(nt.a,{text:Object(i.jsxs)(w.Flex,{alignItems:"center",sx:{cursor:"default"},children:["Description",Object(i.jsx)(He,{ml:1,content:"A description of your assistant, that your testers should see."})]}),children:Object(i.jsx)(w.Box,{sx:{height:a?"64px":"160px"},children:Object(i.jsx)(x.l,{textarea:!0,value:m,onChangeValue:function(e){return g(e)},placeholder:"Enter a description of your assistant that you'd like your testers to see...",fullWidth:!0,fullHeight:!0})})})}),a&&Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(w.Flex,{mt:4,flexDirection:"column",children:Object(i.jsx)(nt.a,{text:"Share this link with any guest users",children:Object(i.jsxs)(Pe,{fullSize:!0,onCopy:k,children:[window.location.origin,"/guest/conversations/",u,"/",a]})})})}),Object(i.jsx)(x.a,{variant:"success",m:0,py:"14px",mt:4,children:Object(i.jsxs)(x.y,{as:"i",variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,children:[Object(i.jsx)(w.Box,{as:"strong",children:"Note:"})," Remember to use an incognito browser to be able to test the link yourself."]})})]}),Object(i.jsx)(w.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(i.jsxs)(w.Flex,{px:4,py:3,flexDirection:"row-reverse",children:[Object(i.jsx)(x.d,{"data-e2e":"Button--Generate-Link",onClick:E,large:!0,ml:2,children:"Generate link"}),Object(i.jsx)(x.d,{large:!0,variant:"secondary",onClick:function(){return c&&c()},children:"Cancel"})]})})]})}function Ca(e){var t=e.children,n=e.offset,r=e.onClose,a=e.visible,c=Object(v.a)(e,["children","offset","onClose","visible"]);return Object(i.jsx)(Ge,{content:Object(i.jsx)(ya,Object(s.a)({onClose:r},c)),title:Object(i.jsx)(x.i,{variant:"h2",children:"Share your assistant with Guest Testers"}),offset:n,visible:a,onClose:r,children:Object(i.jsx)(Ue.a,{content:"Share with guest testers",hideOnClick:!0,disabled:a,children:t})})}function Sa(e){var t=e.filtersApplied,n=e.filtersExpanded,r=e.setFiltersExpanded,a=e.canHintBeShown,c=Object(R.l)();return Object(i.jsx)(xe.a,{resource:me.d.Metadata,action:me.a.Read,yes:Object(i.jsx)(Vt,{title:"Filter Conversations",content:"Filter through real conversations to find the ones that may need improvement.",docs:"https://rasa.com/docs/rasa-x/user-guide/review-conversations/#filtering-conversations",step:"filterConversations",nextStep:"shareYourBot",canBeShown:a,children:Object(i.jsx)(mn.a,{right:!0,children:Object(i.jsx)(x.d,{variant:"barIcon",color:t||n?void 0:"neutral_6",active:n,onClick:function(){c(n?"view:conversations:filters:hide":"view:conversations:filters:show"),r(!n)},children:Object(i.jsx)(x.j,{icon:"sliders-h"})})})})})}function wa(e){var t=e.restartPolling;return Object(i.jsxs)(x.a,{variant:"error",children:[Object(i.jsx)(x.y,{variant:"metadata",lineHeight:"initial",inheritColor:!0,children:"There was an error loading messages and polling has been stopped."}),Object(i.jsx)(x.d,{onClick:t,variant:"plain",children:"Restart polling"})]})}function Ea(e){var t=e.awaitingResponse,n=e.chatToken,a=e.conversationEvents,c=e.conversationId,o=e.conversations,l=e.correction,b=e.currentUser,f=e.entityTypes,j=e.environment,p=e.environments,h=e.error,O=e.filter,m=e.filterBarIsEmpty,g=e.filterIsEmpty,v=e.intents,y=e.onChangeCorrection,C=e.onCreateConversation,E=e.onFetchConversationIntents,k=e.onFetchConversations,T=e.onFetchConversationSlotNames,A=e.onFetchExample,_=e.onFetchIntents,I=e.onFetchEntities,F=e.onFetchActions,N=e.onFetchPolicies,U=e.onFetchChannels,L=e.onFetchEntityTypes,D=e.onFlagMessage,M=e.onFetchChatToken,P=e.onLoadMoreConversations,B=e.onSaveExampleFromCorrection,H=e.onSaveStory,q=e.onStartPolling,G=e.onStopPolling,V=e.onUnflagMessage,z=e.timestamp,W=e.totalConversations,Y=(e.username,e.synonyms),K=e.onSaveE2ETest,Q=e.saveE2ETestLoading,X=e.activeGitRepository;r.useEffect((function(){_(),E(),T(),I(),F(),N(),U(),L(),k({filter:O,offset:0,limit:20})}),[O,F,k,I,L,_,E,T,N,U]);var J=Object(u.c)(),$=Object(d.g)().push,ee=re(),te=ee.hintsEnabled,ne=ee.setInitialHint,ae=ee.setCurrentHint,ce=ee.nextHints,oe=Object(R.l)(),se=Z(),ie=se.setOnboardingShown,le=se.currentOnboardingStep,ue=se.currentOnboardingHint;r.useEffect((function(){oe("view:conversations:loaded")}),[oe]);var de=r.useState(!1),be=Object(S.a)(de,2),fe=be[0],je=be[1],pe=r.useState(!1),he=Object(S.a)(pe,2),ge=he[0],ve=he[1],ye=Object.values(o)[0],Ce=c||(null===ye||void 0===ye?void 0:ye.sender_id)||null,Se=Ce?a[Ce]:void 0;r.useEffect((function(){Ce&&J(Ft.p.request(Object(s.a)({conversationId:Ce},z&&{until:z})))}),[Ce,J,z]);var we=Object(u.d)((function(e){return e.messages.loading.conversations})),Ee=Object(u.d)((function(e){return e.messages.loading.conversation})),ke=r.useMemo((function(){return Object.values(o).find((function(e){return e.sender_id===Ce}))}),[Ce,o]),Te=z?"Story from conversation with ".concat(Ce," on ").concat(Oe()(1e3*z).format("MMMM Do YYYY")):"",Re=r.useCallback((function(){if(Ce){var e=Object.values(o).findIndex((function(e){return e.sender_id===Ce})),t=e>0&&o[e-1].sender_id||o[1]&&o[1].sender_id||"";J(Ft.c.request({conversationId:Ce})),$("/conversations/".concat(t))}}),[Ce,o,J,$]);r.useEffect((function(){var e="connectToChannels";return ne(e),ae(e),Ce?(y(null),q({conversationId:Ce}),function(){return G()}):function(){}}),[Ce,y,q,G,ae,ne]);var Ae=r.useCallback((function(e){var t=z===e.timestamp?"/conversations/".concat(Ce):"/conversations/".concat(Ce,"/").concat(e.timestamp);oe("entity:event:selected"),$(t)}),[$,Ce,oe,z]),_e=r.useCallback((function(){$("/conversations/".concat(Ce))}),[$,Ce]),Fe=r.useCallback((function(e){$("/conversations/".concat(e))}),[$]),Ne=r.useCallback((function(e,t){if(Ce){var n={conversationId:Ce,timestamp:e};t?(oe("entity:event:flagged"),D(n)):(oe("entity:event:unflagged"),V(n))}}),[D,V,Ce,oe]),Ue=r.useCallback((function(){oe("actions:share-bot:show"),ve(!0)}),[ve,oe]),Le=r.useCallback((function(e){var t={use_channels:e.channels.length>0,use_intents:e.intents.length>0,use_entities:e.entities.length>0,use_actions:e.actions.length>0,use_policies:e.policies.length>0,use_slots:e.slots.length>0,use_tags:e.tags.length>0,core_confidence:e.coreConfidence,nlu_confidence:e.nluConfidence,minimum_messages:e.minimumMessages,flagged_only:e.flaggedOnly,stories_not_recognised:e.flaggedOnly,review_status:e.reviewStatus};oe("view:conversations:filters:apply",t),k({filter:e,offset:0,limit:20}),je(!1)}),[k,oe]),De=r.useCallback((function(e){oe("view:conversation:filters:apply:date"),Le(Object(s.a)(Object(s.a)({},O),{},{date:e}))}),[Le,O,oe]),Me=Object(i.jsxs)(w.Flex,{justifyContent:"flex-end",children:[!(0===W&&g&&!we)&&Object(i.jsx)(xe.a,{resource:me.d.Metadata,action:me.a.Read,yes:Object(i.jsx)(mn.a,{left:!0,children:Object(i.jsx)(Mr,{onChange:De})})}),Object(i.jsx)(xe.a,{resource:me.d.ChatToken,action:me.a.Update,yes:Object(i.jsx)(mn.a,{left:!0,children:Object(i.jsx)(Ie,{title:"Get your assistant talking to real people",content:"Generate a link to invite test users to talk to your assistant.",links:[{title:"Learn more about sharing your assistant with test users",href:"//rasa.com/docs/rasa-x/user-guide/share-assistant"}],actions:Object(i.jsx)(x.d,{variant:"inverse",onClick:function(){ie(!1),ve(!0)},children:"Let's do it"}),name:"share_bot",children:Object(i.jsx)(Vt,{title:"Share your bot",content:"Improve your assistant by getting someone else to test it.",docs:"https://rasa.com/docs/rasa-x/user-guide/share-assistant",step:"shareYourBot",canBeShown:!0,children:Object(i.jsx)(Ca,{environment:j,environments:p,onClose:function(){return ve(!1)},onFetchChatToken:M,chatToken:n,offset:[0,0],visible:ge,children:Object(i.jsx)(x.d,{variant:"headerIcon",active:ge||"share_bot"===ue,style:{position:"relative"},onClick:function(){ge?ve(!1):("messages_message_sent"===le&&ie(!1),fe&&je(!1),ve(!0))},children:Object(i.jsx)(x.j,{icon:"share-alt"})})})})})})}),Object(i.jsx)(Vt,{title:"Connect your assistant to an external channel",content:"Connect your assistant and let it talk to real users.",docs:"https://rasa.com/docs/rasa-x/user-guide/share-assistant/#external-channels",step:"connectToChannels",nextStep:"annotateConversations",canBeShown:!0,children:Object(i.jsx)(Vt,{title:"Annotate Conversations",content:"Label entities and correct incorrectly predicted intents to improve your assitant.",docs:"https://rasa.com/docs/rasa-x/user-guide/annotate-nlu-examples/#annotating-in-conversations",step:"annotateConversations",nextStep:"filterConversations",canBeShown:!0,children:b&&ce.length>0&&Object(i.jsx)(mn.a,{left:!0,sx:{display:"inline-block",position:"relative"},children:Object(i.jsx)(xa,{offset:[8,8],placement:"bottom-end",currentUser:b,children:Object(i.jsxs)(x.d,{color:te?"primary_1":void 0,variant:"headerIcon",onClick:function(){return console.log("You'd think clicking this button would do something")},children:[Object(i.jsx)(Ze,{show:!te,top:"24px",right:"26px"}),Object(i.jsx)(x.j,{icon:"lightbulb"})]})})})})})]}),Pe=r.useCallback((function(){oe("view:conversations:filters:hide"),je(!1)}),[je,oe]),Be=Object(i.jsx)(xe.a,{resource:me.d.Metadata,action:me.a.Read,yes:Object(i.jsx)(w.Box,{flex:"0 1",children:Object(i.jsx)(ha,{children:Object(i.jsx)(oa,{filter:O,onApply:Le,onCancel:Pe,expanded:fe})})})}),He=Object(i.jsx)(xe.a,{resource:me.d.Metadata,action:me.a.Read,yes:Object(i.jsx)(mn.a,{width:1/4,right:!0,sx:{maxHeight:"100%",maxWidth:"304px"},children:Object(i.jsx)(ha,{children:Object(i.jsx)(Jt,{total:W,conversations:o,conversationId:Ce,onSelectConversation:Fe,filter:O,onLoadMoreRows:P,loading:we})})})}),qe=Object(i.jsx)(mn.a,{top:!0,sx:{height:"100%",overflow:"hidden"},children:Object(i.jsxs)(w.Flex,{flexDirection:"column",sx:{bg:"neutral_0",height:"100%",overflow:"hidden"},children:[Object(i.jsx)(mn.a,{bottom:!0,sx:{zIndex:100,bg:"neutral_1"},children:Object(i.jsxs)(w.Flex,{alignItems:"center",flex:"1",children:[Object(i.jsx)(Sa,{filtersApplied:!m,filtersExpanded:fe,setFiltersExpanded:je,canHintBeShown:W>0}),Object(i.jsx)(w.Box,{flex:"1",pl:16,children:Object(i.jsx)(da,{filter:O,onChange:Le})}),m||Object(i.jsx)(w.Box,{mr:2,pr:24,children:Object(i.jsx)(x.d,{variant:"plain",color:"primary_1",onClick:function(){oe("view:conversations:filters:reset"),Le(Object(s.a)(Object(s.a)({},Lt.e),{},{date:O.date}))},children:"Clear filters"})})]})}),Be,Object(i.jsxs)(w.Flex,{sx:{height:"100%",overflow:"auto"},justifyContent:"center",children:[!we&&!g&&0===W&&Object(i.jsx)(ga,{heading:"There is nothing here",body:m?"Please try a different date range":"Please try a different set of filters for better results",image:Oa,bg:"neutral_0"}),(we||W>0||g)&&Object(i.jsxs)(i.Fragment,{children:[He,Object(i.jsxs)(w.Flex,{flex:"1 1",children:[Object(i.jsx)(mn.a,{right:!0,flex:"1 0",width:.6,children:Object(i.jsxs)(ha,{children:[h&&Ce&&Object(i.jsx)(wa,{restartPolling:function(){return q({conversationId:Ce,environment:j})}}),!Se&&Ee&&Object(i.jsx)(Zt,{mt:20,children:"Loading messages"}),Ce&&Se&&Object(i.jsx)("div",{style:h?{height:"calc(100% - 72px)"}:{height:"100%"},children:Object(i.jsx)(Hn,{awaitingResponse:t,username:Ce,conversation:Se,filter:g?null:O,onFlagMessage:Ne,onMessageClick:Ae,timestamp:z})})]})}),Object(i.jsx)(w.Box,{width:.4,style:{maxWidth:"400px",overflow:"auto"},children:Object(i.jsxs)(ha,{children:[0===z&&Ce&&Se&&Object(i.jsx)(Kn,{conversation:ke,conversationId:Ce,onConversationDelete:Re,onUpdatedReviewStatus:function(){k({filter:O,offset:0,limit:20}),O.reviewStatus&&$("/conversations/")}}),0!==z&&Se&&Ce&&Object(i.jsx)(Nr,{activeGitRepository:X,saveE2ETestLoading:Q,onSaveE2ETest:K,entityTypes:f,editable:!1,onChangeCorrection:y,onClose:_e,timestamp:z,conversation:Se,onCopy:function(){oe("entity:story:copied-to-il"),C({data:{conversation_id_to_copy_from:Ce,interactive:!0,until:z},storyName:Te})},storyName:Te,conversationId:Ce,onFlagMessage:Ne,onFetchExample:A,intents:v,correction:l,onSaveCorrection:B,onSaveStory:H,synonyms:Y})]})})]})]})]})]})});return Object(i.jsxs)(ma.a,{title:"Conversations (".concat(W,")"),rightContent:Me,noPadding:!0,children:[0===W&&g&&!we&&Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(ga,{heading:"No conversations yet!",body:"When users talk to your assistant,\u2028their conversations will show up here.",image:sa,actions:Object(i.jsx)(xe.a,{resource:me.d.ChatToken,action:me.a.Update,yes:Object(i.jsx)(x.d,{"data-e2e":"Button--Share-First-Use",disabled:ge,onClick:Ue,large:!0,children:"Share your bot"})}),bg:"neutral_0"})}),qe]})}var ka={onChangeCorrection:Bt.a,onChangeEnvironment:Ft.a,onChangeFilter:Ft.b,onCreateConversation:Pt.h.request,onFetchActions:Ft.i.request,onFetchChatToken:Ft.g.request,onFetchConversationIntents:Ft.l.request,onFetchConversationSlotNames:Ft.n.request,onFetchConversationSlotValues:Ft.o.request,onFetchConversations:Ft.r.request,onFetchEntities:Ft.k.request,onFetchEntityTypes:Bt.f.request,onFetchEnvironments:je.c.request,onFetchExample:Bt.g.request,onFetchIntents:Bt.i.request,onFetchPolicies:Ft.m.request,onFetchChannels:Ft.j.request,onFlagMessage:Ft.u.request,onSaveExampleFromCorrection:Bt.l.request,onSaveStory:Ht.i.request,onSelectIntent:Ft.z,onStartPolling:Ft.A,onStopPolling:Ft.B,onUnflagMessage:Ft.C.request,onSaveE2ETest:Ft.w.request};var Ta=Object(u.b)((function(e,t){return{awaitingResponse:e.messages.awaitingResponse,chatToken:e.messages.chatToken,conversationEvents:e.messages.conversationEvents,conversationId:t.match.params.conversationId,conversationIntents:e.messages.intents,conversations:e.messages.conversations,correction:e.examples.correction,currentUser:e.users.currentUser,draftFilter:e.messages.draftFilter,entityTypes:e.examples.entityTypes,environment:e.messages.environment,environments:e.models.environments,error:e.messages.error,filter:e.messages.filter,filterBarIsEmpty:Mt.filterBarIsEmpty(e.messages),filterIsEmpty:Mt.filterIsEmpty(e.messages),intents:e.examples.intents,policies:e.messages.policies,role:e.auth.role,selectedIntent:e.messages.selectedIntent,timestamp:Number(t.match.params.timestamp)||0,totalConversations:e.messages.total,username:e.auth.username,synonyms:e.synonyms.synonyms,saveE2ETestLoading:e.messages.loading.e2eTest,activeGitRepository:e.gitRepositories.activeGitRepository}}),ka)((function(e){var t=Object(R.i)(Ft.r);return Object(i.jsx)(Ea,Object(s.a)(Object(s.a)({},e),{},{onLoadMoreConversations:t}))})),Ra=n(55);function Aa(e){var t=e.onSave,n=Object(v.a)(e,["onSave"]),a=n.onClose,c=ee().addToast,o=r.useCallback((function(e){var n=e.target.files[0];if(n){var r=new FileReader;r.onload=function(){"string"===typeof r.result&&t({domain:r.result,storeResponses:!0,onSuccess:function(){c({head:"Domain uploaded successfully",content:"The domain has been replaced. Please check the warnings to fix any inconsistencies that the new domain might introduced."}),a()}})},r.readAsText(n)}}),[c,a,t]);return Object(i.jsx)(Ge,Object(s.a)({content:Object(i.jsxs)(w.Flex,{p:5,flexDirection:"column",alignItems:"start",width:400,style:{textAlign:"left"},children:[Object(i.jsx)(x.i,{variant:"h2",mb:3,children:"Replace the existing domain?"}),Object(i.jsx)(x.y,{variant:"bodySecondary",mb:5,children:"Uploading a new domain will replace the existing one. All current responses will also be replaced."}),Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",alignSelf:"end",width:1,children:[Object(i.jsx)(x.B,{accept:".yaml, .yml",onUpload:o,large:!0,ml:2,children:"Upload and replace"}),Object(i.jsx)(x.d,{large:!0,variant:"secondary",onClick:a,children:"Cancel"})]})]}),offset:[0,8]},n))}var _a=n(165),Ia=n.n(_a);function Fa(e){var t=e.location,n=e.element,r=e.value,a=e.onNavigate,c=e.copyToDomain,o=e.removeFromDomain;return Object(i.jsxs)(fn,{flexDirection:"row",mb:2,children:[Object(i.jsxs)(x.y,{variant:"bodySecondary",lineHeight:"normal",inheritColor:!0,children:["The ",n," ",Object(i.jsx)("strong",{children:r})," was found in the"," ","in_training_data"===t?"training data":"domain"," but is missing in the"," ","in_training_data"===t?"domain":"training data","."]}),Object(i.jsx)(ln,{children:Object(i.jsxs)(w.Flex,{flexDirection:"row",children:["in_domain"===t&&"action"===n&&Object(i.jsx)(x.d,{ml:3,variant:"plain",onClick:function(){return a("/responses")},fontSize:13,children:"Create response"}),"in_domain"===t&&["intent","entity"].includes(n)&&Object(i.jsx)(x.d,{ml:3,variant:"plain",onClick:function(){return a("/data")},fontSize:13,children:"Create NLU example"}),"in_training_data"===t?Object(i.jsx)(x.d,{ml:3,variant:"plain",onClick:function(){return c(n,r)},fontSize:13,children:"Copy to the domain"}):Object(i.jsx)(x.d,{ml:3,variant:"plain",onClick:function(){return o(n,r)},fontSize:13,children:"Remove from domain"})]})})]})}var Na=r.memo((function(e){var t=e.domain,n=e.onChange,a=e.domainWarnings,c=e.onNavigate,o=e.errors,l=ee().addToast,u=r.useState(!1),d=Object(S.a)(u,2),b=d[0],f=d[1],j=r.useState([]),p=Object(S.a)(j,2),h=p[0],O=p[1],m=r.useMemo((function(){return a.filter((function(e){return!h.find((function(t){return t.element===e.element&&t.location===e.location&&t.value===e.value}))}))}),[a,h]),g=r.useCallback((function(){l({head:"Invalid YAML file",variant:"error",content:"It looks like something is wrong with your YAML file. Please update it and try again.",key:"InvalidYaml"})}),[l]),v=r.useCallback((function(e,r){var a=Ia()(e),c=Object(s.a)({},t);Array.isArray(t[a])?c=Object(s.a)(Object(s.a)({},c),{},{[a]:c[a].filter((function(e){return e!==r}))}):t[a]instanceof Object&&delete c[a][r],n(xn.a.dump(c)),O((function(t){return[].concat(Object(C.a)(t),[{location:"in_domain",element:e,value:r}])}))}),[t,n]),y=r.useCallback((function(e,r){var a=Ia()(e);n(xn.a.dump(Object(s.a)(Object(s.a)({},t),{},{[a]:[].concat(Object(C.a)(t[a]),[r])}))),O((function(t){return[].concat(Object(C.a)(t),[{location:"in_training_data",element:e,value:r}])}))}),[t,n]);return 0===m.length?null:Object(i.jsx)(x.a,{m:0,mb:3,children:Object(i.jsxs)(w.Flex,{justifyContent:"start",flexDirection:"column",sx:{cursor:"default"},children:[Object(i.jsxs)(x.y,{variant:"bodySecondary",lineHeight:"initial",inheritColor:!0,children:[m.length," inconsistenc",m.length>1?"ies were":"y was"," detected with this file.",Object(i.jsxs)(x.d,{variant:"plain",onClick:function(){return f(!b)},ml:2,fontSize:13,children:["Show ",b?"less":"more"]})]}),b&&Object(i.jsx)(w.Flex,{as:"ul",flexDirection:"column",pl:4,mx:0,mt:3,mb:2,children:m.map((function(e){return Object(i.jsx)(Fa,Object(s.a)(Object(s.a)({},e),{},{onNavigate:c,copyToDomain:0===o.length?y:g,removeFromDomain:0===o.length?v:g}),"".concat(e.element,"-").concat(e.location,"-").concat(e.value))}))})]})})})),Ua=n(750),La=n.n(Ua),Da=n(751);n(1222),n(1223),n(1226),n(639),n(1227),n(1228),n(1229);function Ma(){var e=Object(F.a)(["\n  .CodeMirror {\n    ","\n    height: auto;\n    margin-left: -24px;\n\n    & * {\n      ","\n      letter-spacing: 1px;\n    }\n\n    &-line {\n      .cm-header,\n      .cm-variable-2,\n      .cm-atom {\n        ","\n      }\n\n      .cm-quote {\n        ","\n      }\n\n      .cm-variable,\n      .cm-variable-3 {\n        ","\n      }\n    }\n\n    &-gutters {\n      background-color: transparent;\n      border: 0;\n      margin-left: 28px;\n\n      &.lineerrors {\n        margin-left: -70px;\n      }\n    }\n\n    &-gutter-elt {\n      left: 28px;\n    }\n\n    &-linenumber {\n      ","\n      padding: 0;\n    }\n\n    &-sizer {\n      padding-left: 28px;\n    }\n\n    &-foldmarker {\n      cursor: pointer;\n      border-radius: 1px;\n      width: 16px;\n      height: 8px;\n      line-height: 1px;\n      display: inline-block;\n      letter-spacing: -3px;\n      margin-left: 4px;\n      ","\n      color: transparent;\n      position: relative;\n\n      &:after {\n        content: '...';\n        position: absolute;\n        left: 0;\n        ","\n      }\n    }\n\n    &-foldgutter {\n      width: 20px;\n\n      &-open,\n      &-folded {\n        cursor: pointer;\n        ","\n        text-align: center;\n      }\n\n      &-open:after {\n        content: '\\25BE';\n      }\n\n      &-folded:after {\n        content: '\\25B8';\n      }\n    }\n  }\n"],["\n  .CodeMirror {\n    ","\n    height: auto;\n    margin-left: -24px;\n\n    & * {\n      ","\n      letter-spacing: 1px;\n    }\n\n    &-line {\n      .cm-header,\n      .cm-variable-2,\n      .cm-atom {\n        ","\n      }\n\n      .cm-quote {\n        ","\n      }\n\n      .cm-variable,\n      .cm-variable-3 {\n        ","\n      }\n    }\n\n    &-gutters {\n      background-color: transparent;\n      border: 0;\n      margin-left: 28px;\n\n      &.lineerrors {\n        margin-left: -70px;\n      }\n    }\n\n    &-gutter-elt {\n      left: 28px;\n    }\n\n    &-linenumber {\n      ","\n      padding: 0;\n    }\n\n    &-sizer {\n      padding-left: 28px;\n    }\n\n    &-foldmarker {\n      cursor: pointer;\n      border-radius: 1px;\n      width: 16px;\n      height: 8px;\n      line-height: 1px;\n      display: inline-block;\n      letter-spacing: -3px;\n      margin-left: 4px;\n      ","\n      color: transparent;\n      position: relative;\n\n      &:after {\n        content: '...';\n        position: absolute;\n        left: 0;\n        ","\n      }\n    }\n\n    &-foldgutter {\n      width: 20px;\n\n      &-open,\n      &-folded {\n        cursor: pointer;\n        ","\n        text-align: center;\n      }\n\n      &-open:after {\n        content: '\\\\25BE';\n      }\n\n      &-folded:after {\n        content: '\\\\25B8';\n      }\n    }\n  }\n"]);return Ma=function(){return e},e}var Pa=Object(l.default)(Da.Controlled)(Ma(),A.color,A.typography,Object(A.system)({headerColor:{property:"color",scale:"colors"}}),Object(A.system)({quoteColor:{property:"color",scale:"colors"}}),Object(A.system)({variableColor:{property:"color",scale:"colors"}}),Object(A.system)({lineNumberColor:{property:"color",scale:"colors"}}),Object(A.system)({foldMarkerBg:{property:"color",scale:"colors"}}),Object(A.system)({foldMarkerColor:{property:"color",scale:"colors"}}),Object(A.system)({lineNumberColor:{property:"color",scale:"colors"}}));function Ba(e){var t=e.value,n=e.onChange,a=e.language,c=e.readOnly,o=void 0===c?[]:c,s=e.errors,u=e.disabled,d=r.useContext(l.ThemeContext),b=r.useState(null),f=Object(S.a)(b,2),j=f[0],p=f[1],h=ee().addToast,O=r.useMemo((function(){return new RegExp("^(".concat(o.map((function(e){return e.title})).join("|"),")\\s*:(\\s*[\\n\\r]+(?:^[-\\s\\t]+.*[\\n\\r]+|^-.*)*)"),"gm")}),[o]),m=r.useCallback((function(e,t){for(var n,r=e.getDoc();null!==(n=O.exec(t));){var a=r.posFromIndex(n.index),c=r.posFromIndex(n.index+n[0].length);if(r.findMarksAt(a).length>0)return;e.foldCode(a),r.markText(a,c,{css:"color: ".concat(Object(A.get)(d,"colors.neutral_6")),inclusiveRight:!1,attributes:{title:n[1],readOnly:!0}})}}),[O,d]),g=r.useCallback((function(){var e=document.createElement("div");return e.innerHTML=La.a.renderToStaticMarkup(Object(i.jsx)(w.Box,{children:Object(i.jsx)(x.j,{icon:["fas","exclamation-circle"],color:Object(A.get)(d,"colors.secondary_3")})})),e}),[d]),v=r.useCallback((function(e){e.clearGutter("lineerrors"),s&&s.map((function(t){return e.setGutterMarker(t-1,"lineerrors",g())}))}),[s,g]);r.useEffect((function(){if(j&&u){var e=j.getDoc();e.markText(e.posFromIndex(0),e.posFromIndex(t.length),{css:"color: ".concat(Object(A.get)(d,"colors.neutral_6")),attributes:{readOnly:!0}})}}),[u,j,d,t]),r.useEffect((function(){j&&!u&&m(j,t)}),[j,t,u,m]);var y=r.useCallback((function(e){return p(e)}),[]),E=r.useCallback((function(e,t,r){[].concat(Object(C.a)(e.getDoc().findMarksAt(t.from)),Object(C.a)(e.getDoc().findMarksAt(t.to))).some((function(e){if(e.attributes.readOnly){var t=o.find((function(t){return t.title===e.attributes.title}));t&&t.alert&&h(t.alert)}return!0}))||n(r)}),[h,n,o]);return Object(i.jsx)(Pa,{value:t,options:{mode:a,lineWrapping:!0,lineNumbers:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","lineerrors"]},editorDidMount:y,onBeforeChange:E,onChange:v})}function Ha(e){var t=e.domain,n=e.domainWarnings,a=e.onSave,c=e.error,o=Object(R.l)();r.useEffect((function(){o("view:domain:loaded")}),[o]);var s=Object(d.g)().push,l=r.useState(t),u=Object(S.a)(l,2),b=u[0],f=u[1],j=r.useState([]),p=Object(S.a)(j,2),h=p[0],O=p[1],m=r.useState(c),g=Object(S.a)(m,2),v=g[0],y=g[1],C=r.useState(!1),E=Object(S.a)(C,2),k=E[0],T=E[1],A=ee(),_=A.addToast,I=A.removeToast,F=r.useMemo((function(){try{return O([]),xn.a.load(b)}catch(e){return O((function(t){return t.filter((function(t){return t!==e.mark.line})).concat([e.mark.line])})),xn.a.load(t)}}),[b,t]),N=[{title:"responses",alert:{head:"Want to edit your responses?",content:"We recommend editing and creating responses directly from the Responses section. Editing responses is currently disabled on this page to avoid duplication of data.",key:"responsesPreventEdit",actions:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{ml:4,large:!0,variant:"inverse",onClick:function(){s("/responses"),I("responsesPreventEdit")},children:"Go to Responses"}),Object(i.jsx)(x.d,{large:!0,variant:"plain",onClick:function(){return I("responsesPreventEdit")},children:"Never mind"})]})}}];r.useEffect((function(){v&&_({head:v.name,content:v.message,variant:"error"})}),[v,_]),r.useEffect((function(){f(t)}),[t]),r.useEffect((function(){y(c)}),[c]);var U=r.useMemo((function(){var e=new Blob([t],{type:"application/x-yaml"});return window.URL.createObjectURL(e)}),[t]),L=Object(R.g)(me.d.Domain,me.a.Update),D=b!==t;return Object(i.jsx)(ma.a,{title:"Manage Domain",scrollable:!0,rightContent:Object(i.jsx)(xe.a,{resource:me.d.Domain,action:me.a.Update,yes:Object(i.jsx)(i.Fragment,{children:D?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{onClick:function(){f(t)},variant:"secondary",large:!0,mr:2,disabled:!D,children:"Discard"}),Object(i.jsx)(x.d,{onClick:function(){a({domain:b})},large:!0,mr:3,disabled:!D,children:"Save changes"})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(w.Box,{sx:{display:"inline-block"},children:Object(i.jsx)(Aa,{onClose:function(){return T(!1)},visible:k,onSave:a,children:Object(i.jsx)(mn.a,{left:!0,children:Object(i.jsx)(x.d,{variant:"headerIcon",active:k,onClick:function(){return T(!k)},children:Object(i.jsx)(x.j,{icon:"arrow-to-top"})})})})}),Object(i.jsx)(mn.a,{left:!0,sx:{display:"inline-block"},children:Object(i.jsx)(x.d,{as:"a",download:"domain.yaml",href:U,variant:"headerIcon",p:"28px",onClick:function(){},children:Object(i.jsx)(x.j,{icon:"arrow-to-bottom"})})})]})})}),children:Object(i.jsxs)(w.Box,{children:[D&&Object(i.jsx)(d.a,{message:"Are you sure you want to navigate away before saving the new domain?"}),Object(i.jsxs)(x.e,{p:4,sx:{boxShadow:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",border:0,borderRadius:"large"},children:[Object(i.jsx)(Na,{domainWarnings:n,domain:F,onChange:f,onNavigate:s,errors:h}),Object(i.jsx)(Ba,{language:"yaml",value:b,onChange:f,readOnly:N,errors:h,disabled:!L})]})]})})}Pa.defaultProps={color:"neutral_8",headerColor:"primary_1",quoteColor:"green_1",variableColor:"neutral_8",lineNumberColor:"neutral_6",foldMarkerBg:"primary_1",foldMarkerColor:"neutral_0",fontFamily:"mono",fontSize:"1",lineHeight:"normal"};var qa={onFetchDomain:Ra.b.request,onSave:Ra.e.request};var Ga=Object(u.b)((function(e){return{domain:e.projects.domain,domainWarnings:e.projects.domainWarnings,error:e.projects.error}}),qa)((function(e){var t=e.onFetchDomain,n=Object(v.a)(e,["onFetchDomain"]);return r.useEffect((function(){t()}),[t]),Object(i.jsx)(Ha,Object(s.a)({},n))})),Va=n(752),za=n.n(Va),Wa=n.p+"static/media/rasa_horizontal_logo_white.1b703445.svg";function Ya(e){var t=e.username,n=e.password,a=e.error,c=e.onLogin,o=e.onFetchSsoUrl,s=e.onCreateEnterpriseUser,u=e.onFetchEnterpriseTokenLogin,b=e.singleUseToken,f=e.newEnterpriseUser,j=e.enterpriseUser,p=e.role,h=e.permissions,O=e.fetchedUsername,g=e.onNavigate,v=r.useContext(l.ThemeContext);r.useEffect((function(){b&&u({singleUseToken:b})}),[u,b]);var y=r.useState(m.a?"":"me"),C=Object(S.a)(y,2),E=C[0],k=C[1],T=r.useState(""),R=Object(S.a)(T,2),_=R[0],I=R[1];r.useEffect((function(){null!==t&&k(t),null!==n&&I(n)}),[t,n]);var F=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.i,{fontSize:5,variant:"h3",mb:2,letterSpacing:2,color:"neutral_8",children:"Welcome !"}),Object(i.jsx)(x.y,{variant:"bodySecondary",mb:3,sx:{display:"block"},children:"Sign in to continue perfecting your bot!"}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(x.l,{fullWidth:!0,type:m.a?"text":"hidden",name:"username","data-qa":"login-username-field_input",placeholder:"Username",onChangeValue:function(e){return k(e)},value:E,mb:2,px:4,onReturn:function(){return c({username:E,password:_})},py:"13px"})}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(x.l,{fullWidth:!0,placeholder:"Password",name:"password","data-qa":"login-password-field_input",type:"password",onChangeValue:function(e){return I(e)},value:_,mb:3,onReturn:function(){return c({username:E,password:_})},px:4,py:"13px"})}),Object(i.jsx)(x.d,{variant:"login","data-qa":"login-sign-in_button",width:"100%",onClick:function(){return c({username:E,password:_})},large:!0,children:"Sign in"}),m.a&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.v,{my:3,children:Object(i.jsx)(x.y,{variant:"bodySecondary",children:"OR"})}),Object(i.jsx)(x.d,{variant:"login",width:"100%",onClick:function(){return o()},large:!0,children:"I have an enterprise ID"})]})]}),N=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.i,{fontSize:5,variant:"h3",mb:3,letterSpacing:2,color:"neutral_8",children:"It seems like it's your first time!"}),Object(i.jsx)(x.y,{variant:"bodySecondary",mb:2,sx:{display:"block"},children:"Set a new username for yourself"}),Object(i.jsx)(x.l,{fullWidth:!0,name:"username",placeholder:"Username",onChangeValue:function(e){return k(e)},value:E,mb:3,px:4,onReturn:function(){return s({username:E})},py:"13px"})]}),U=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(x.y,{variant:"bodySecondary",mb:4,sx:{display:"block"},children:["Your current role is ",Object(i.jsxs)("strong",{children:["\u201c",p,"\u201d"]}),". For any further permissions, please contact your Admin."]}),Object(i.jsx)(x.d,{variant:"primary",width:"100%",onClick:function(){return g("/conversations")},large:!0,children:"Go to platform"})]}),L=Object(i.jsx)(x.y,{variant:"bodySecondary",sx:{display:"block"},children:"You have not been assigned permissions. Please contact your Admin to continue."}),D=Object(i.jsx)(x.d,{variant:"login",width:"100%",onClick:function(){return s({username:E})},large:!0,children:"CONTINUE"}),M=r.useMemo((function(){return h&&-1!==h.findIndex((function(e){var t=e.resource,n=e.action;return t===me.d.Metadata&&n===me.a.Read}))?"/conversations":"/interactive"}),[h]);return Object(i.jsxs)(w.Flex,{bg:"neutral_3",alignItems:"center",justifyContent:"center",style:{height:"100%"},children:[a&&a.message&&Object(i.jsx)(w.Box,{sx:{position:"absolute",top:0,left:0,width:"100%"},children:Object(i.jsx)(x.a,{variant:"error",p:0,m:0,block:!0,py:"14px",children:Object(i.jsx)(x.y,{variant:"bodySecondary",inheritColor:!0,textAlign:"center",width:1,children:a.message})})}),Object(i.jsx)(w.Card,{flex:"0 1 1000px",sx:{borderRadius:"large",boxShadow:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",overflow:"hidden",height:"472px"},children:Object(i.jsxs)(w.Flex,{style:{height:"100%"},children:[Object(i.jsx)(w.Card,{sx:{backgroundImage:Object(A.get)(v,"gradients.primary_1")},width:.5,p:11,pt:9,children:Object(i.jsxs)(w.Flex,{flexDirection:"column",style:{maxWidth:"300px",height:"100%"},children:[Object(i.jsx)(x.k,{width:"77px",src:Wa,alt:"Rasa Logo",mb:5}),Object(i.jsx)(w.Box,{flex:"1"}),Object(i.jsxs)(x.i,{variant:"h1",sx:{color:"neutral_0",fontSize:30,lineHeight:"large",letterSpacing:3,mb:4},children:["Rasa ",m.a?"Enterprise":"X"]}),Object(i.jsx)(x.y,{sx:{color:"neutral_0",lineHeight:"big"},children:"Build, improve, and deploy assistants powered by Rasa Open Source."})]})}),Object(i.jsx)(w.Flex,{bg:"neutral_0",width:.5,px:11,py:9,justifyContent:"center",flexDirection:"column",children:!b&&p&&p.length>=0&&p[0]!==me.c?Object(i.jsx)(d.b,{to:M}):(j||f)&&b?Object(i.jsxs)(i.Fragment,{children:[f&&N,O?Object(i.jsx)(i.Fragment,{children:p&&p.length>=0&&p[0]!==me.c?j?Object(i.jsx)(d.b,{to:M}):U:L}):D]}):F})]})})]})}var Ka={onLogin:fe.g.request,onFetchSsoUrl:fe.e.request,onFetchEnterpriseTokenLogin:fe.c.request,onCreateEnterpriseUser:fe.b.request};var Qa=Object(u.b)((function(e,t){return{error:e.auth.error,singleUseToken:t.match.params.singleUseToken,fetchedUsername:e.auth.username,newEnterpriseUser:e.auth.newEnterpriseUser,enterpriseUser:e.auth.enterpriseUser,role:e.auth.role,permissions:e.auth.permissions}}),Ka)((function(e){var t=Object(d.g)(),n=t.push,a=t.location.search,c=e.onLogin,o=r.useMemo((function(){var e=new za.a(a);return[e.get("username"),e.get("password")]}),[a]),l=Object(S.a)(o,2),u=l[0],b=l[1];return r.useEffect((function(){null!==u&&null!==b&&c({username:u,password:b})}),[u,b,c]),Object(i.jsx)(Ya,Object(s.a)({username:u,password:b,onNavigate:n},e))})),Xa=n.p+"static/media/rasa_horizontal_logo.187bf9a3.svg";function Za(){var e=Object(F.a)(["\n  @media (max-device-width: ",") {\n    border: 0;\n    box-shadow: 0 4px 11px 0 rgba(152, 163, 193, 0.17);\n    z-index: 1;\n    width: 100%;\n  }\n  @media (max-device-width: ",") {\n    border-radius: 0;\n    margin: 0;\n    padding: 16px;\n  }\n"]);return Za=function(){return e},e}function Ja(){var e=Object(F.a)(["\n  height: 100%;\n  min-height: 100%;\n  @media (max-device-width: ",") {\n    flex-direction: column;\n  }\n  @media (max-device-width: ",") {\n    padding: 0;\n    height: 100%;\n  }\n"]);return Ja=function(){return e},e}var $a=Object(l.default)(w.Flex)(Ja(),Object(cr.b)("breakpoints.2"),Object(cr.b)("breakpoints.1")),ec=Object(l.default)(w.Card)(Za(),Object(cr.b)("breakpoints.2"),Object(cr.b)("breakpoints.1"));function tc(e){var t=e.awaitingResponse,n=e.botDescription,a=e.botName,c=e.conversationEvents,o=e.environment,s=e.onSendMessage,u=e.onStartPolling,d=e.onStopPolling,b=e.timestamp,f=e.username,j=r.useContext(l.ThemeContext),p=Object(R.e)("(max-device-width: ".concat(j.breakpoints[1],")")),h=r.useState(!0),O=Object(S.a)(h,2),m=O[0],g=O[1];r.useEffect((function(){return f?(u({conversationId:f,environment:o,guest:!0}),function(){return d()}):function(){}}),[f,o,u,d]);var v=r.useCallback((function(e){s({senderId:f,text:e,environment:o})}),[f,o,s]),y=c[f];return y&&(y=y.filter((function(e){return["bot","user","typing"].includes(e.event)}))),Object(i.jsx)($a,{bg:"neutral_3",alignItems:"center",justifyContent:"center",p:4,children:Object(i.jsx)(ec,{flex:"0 1 976px",sx:{borderRadius:"large",boxShadow:"0 4px 11px 0 rgba(152, 163, 193, 0.17)",overflow:"hidden",height:"700px",["@media (max-device-width: ".concat(j.breakpoints[1],")")]:{"&&":{height:"auto",padding:0,overflow:"unset"}}},my:3,children:Object(i.jsxs)($a,{sx:{height:"100%"},children:[Object(i.jsx)(ec,{bg:"neutral_0",width:400,p:6,pb:11,sx:{borderRight:"1px solid",borderColor:"neutral_4"},children:Object(i.jsxs)(w.Flex,{flexDirection:"column",sx:{height:"100%"},children:[Object(i.jsxs)(w.Flex,{justifyContent:"space-between",alignItems:"flex-start",children:[Object(i.jsx)(w.Image,{src:Xa,alt:"Rasa Logo",sx:{width:"77px",["@media (max-device-width: ".concat(j.breakpoints[1],")")]:{width:"50px"}}}),p&&!m&&Object(i.jsx)(x.d,{variant:"plainIcon",p:0,onClick:function(){g(!m)},children:Object(i.jsx)(x.j,{icon:"ellipsis-v",color:"neutral_6",fontSize:"24px"})})]}),m&&Object(i.jsxs)(w.Box,{mt:[21,21,5],px:[2,2,0],children:[Object(i.jsx)(w.Box,{flex:"1"}),Object(i.jsxs)(x.i,{fontWeight:400,variant:"h1",fontSize:[0,15,20],lineHeight:[0,1.33,"28px"],letterSpacing:3,sx:{maxWidth:"240px",["@media (max-device-width: ".concat(j.breakpoints[1],")")]:{maxWidth:"initial"}},children:["You have been invited to have a conversation with"," ",a?Object(i.jsx)("strong",{children:a}):"an AI assistant"]}),n&&Object(i.jsx)(x.y,{lineHeight:"big",mt:[0,3,4],sx:{["@media (max-device-width: ".concat(j.breakpoints[1],")")]:{fontSize:"13px"}},children:n})]})]})}),Object(i.jsx)(w.Flex,{bg:"neutral_0",flex:1,justifyContent:"center",flexDirection:"column",pb:[0,72,0],onTouchMove:function(){g(!1)},children:Object(i.jsx)(Hn,{onChatFocus:function(){return p&&g(!1)},awaitingResponse:t,username:f,conversation:y,onSendMessage:v,timestamp:b,userAvatar:Object(i.jsx)(x.j,{fontSize:14,icon:["fas","user"]})})})]})})})}var nc={onSendMessage:Ft.x,onStartPolling:Ft.A,onStopPolling:Ft.B,onFetchTemporaryAccessToken:fe.f.request,onFetchBotDetails:Ft.f.request,onFetchConversation:Ft.s};var rc=Object(u.b)((function(e,t){return{awaitingResponse:e.messages.awaitingResponse,chatToken:t.match.params.chatToken,conversationEvents:e.messages.conversationEvents,entities:e.messages.entities,entityTypes:e.examples.entityTypes,role:e.auth.role,timestamp:Number(t.match.params.timestamp)||0,guestUsername:e.auth.guestUsername,environment:e.messages.environment,loading:e.messages.loading,botName:e.messages.botName,botDescription:e.messages.botDescription}}),nc)((function(e){var t=e.guestUsername,n=e.onFetchTemporaryAccessToken,a=e.onFetchBotDetails,c=e.onFetchConversation,o=e.chatToken,l=Object(v.a)(e,["guestUsername","onFetchTemporaryAccessToken","onFetchBotDetails","onFetchConversation","chatToken"]),d=Object(u.d)((function(e){return e.auth.guestAccessToken}));return r.useEffect((function(){d&&t?(a(),c({conversationId:t})):n({chatToken:o})}),[o,n,a,c,d,t]),null===t?null:Object(i.jsx)(tc,Object(s.a)({username:t},l))})),ac=n(5),cc=n(162);function oc(e){var t=e.onConfirm,n=e.onClose,r=e.modelName;return Object(i.jsxs)(w.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,style:{textAlign:"left"},children:[Object(i.jsx)(x.i,{variant:"h2",mb:3,children:"Delete Model?"}),Object(i.jsxs)(w.Box,{width:1,children:[Object(i.jsxs)(x.y,{children:["Are you sure you want to delete model ",r,"? This action cannot be undone."]}),Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",mt:5,children:[Object(i.jsx)(x.d,{onClick:t,large:!0,ml:2,children:"Delete"}),Object(i.jsx)(x.d,{onClick:n,large:!0,variant:"secondary",children:"Cancel"})]})]})]})}function sc(e){var t=e.environments;return Object(i.jsx)(r.Fragment,{children:t.map((function(e){var t=function(e){switch(e){case"production":return["cyan_1","cyan_3"];case"staging":return["blue_1","blue_3"];case"development":return["yellow_1","yellow_3"];default:return["orange_1","orange_3"]}}(e),n=Object(S.a)(t,2),r=n[0],a=n[1];return Object(i.jsx)(x.r,{color:r,bg:a,children:m.a?e:"Active"},e)}))})}function ic(e){var t=e.environment,n=e.onChange,r=e.healthy,a=e.checked,c=void 0!==a&&a,o=Object(v.a)(e,["environment","onChange","healthy","checked"]);return Object(i.jsx)(w.Card,Object(s.a)(Object(s.a)({as:"label"},o),{},{sx:{display:"block"},children:Object(i.jsx)(w.Flex,{children:Object(i.jsxs)(Ue.a,{disabled:r,content:"Environment not responsive",children:[Object(i.jsx)(w.Box,{p:2,children:Object(i.jsx)(x.f,{checked:c,onChange:function(){return n(!c)},disabled:!r})}),Object(i.jsx)(w.Box,{p:2,flex:"1",children:Object(i.jsx)(x.i,{variant:"h4",color:r?"inherit":"neutral_6",children:t.charAt(0).toUpperCase()+t.slice(1)})})]})})}))}function lc(e){var t=e.open,n=e.onAddEnvironment,a=e.onClose,c=e.model,o=e.environments,s=e.environmentsHealth,l=r.useState([]),u=Object(S.a)(l,2),d=u[0],b=u[1],f=function(){b([]),a()},j=r.useMemo((function(){return c?o.filter((function(e){return!c.tags.includes(e)})):o}),[o,c]);if(!c)return null;var p=function(e){return Boolean(s[e]&&200===s[e].status)};return Object(i.jsxs)(it,{open:t,onClose:f,title:"Manage Deployment Environment",px:5,py:5,footer:Object(i.jsx)(xe.a,{resource:me.d.Environments,action:me.a.Update,yes:Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",mr:-1,children:[Object(i.jsx)(x.d,{mx:1,variant:"primary",onClick:function(){n({model:c,environment:d}),f()},large:!0,children:"Save"}),Object(i.jsx)(x.d,{mx:1,variant:"secondary",onClick:f,large:!0,children:"Cancel"})]})}),children:[c.tags.length>0&&Object(i.jsxs)(w.Box,{mb:5,children:[Object(i.jsxs)(x.i,{variant:"h4",mb:4,children:["Model ",c.model," is currently in:"]}),Object(i.jsx)(sc,{environments:c.tags})]}),j.length>0&&Object(i.jsxs)(w.Box,{children:[Object(i.jsx)(x.i,{variant:"h4",mb:4,children:"Add model to:"}),j.map((function(e){return Object(i.jsx)(ic,{mb:4,checked:d.includes(e),environment:e,healthy:p(e),onChange:function(t){return b(t?[].concat(Object(C.a)(d),[e]):d.filter((function(t){return e!==t})))}},e)}))]})]})}ic.defaultProps={p:2,border:"1px solid",borderColor:"neutral_5",borderRadius:"normal"};var uc=n(201);function dc(e){var t=e.environments,n=e.environmentsHealth,a=e.models,c=e.onAddModelEnvironment,o=e.noRowsRenderer,s=e.onDeleteModels,l=e.onLoadMoreRows,u=e.total,d=Z(),b=d.currentOnboardingHint,f=d.onboardingShown,j=r.useState(null),p=Object(S.a)(j,2),h=p[0],O=p[1],g=r.useState(null),v=Object(S.a)(g,2),y=v[0],C=v[1],E=r.useState(null),k=Object(S.a)(E,2),T=k[0],R=k[1],A=r.useMemo((function(){return 0===T?1:0}),[T]),_=r.useMemo((function(){return f&&"activate_model"===b?A:y}),[f,b,y,A]),I=r.useCallback((function(e){c(e)}),[c]),F=r.useCallback((function(e){var t=e.selected,n=e.onChangeSelected;return function(e){var r=e.rowIndex,a=e.rowData;if(!a)return null;var c=t.includes(r);return Object(i.jsxs)(w.Flex,{alignItems:"center",children:[Object(i.jsx)(xe.a,{resource:me.d.Models,action:me.a.Update,yes:Object(i.jsx)(w.Box,{flex:"0 1 auto",mr:3,children:Object(i.jsx)("label",{children:Object(i.jsx)(x.f,{checked:c,onChange:function(){return n(r,!c)}})})})}),Object(i.jsx)(w.Box,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(i.jsx)(x.y,{variant:"bodySecondary",children:a.model})})]})}}),[]),N=function(e){var r=e.onResetCache;return function(e){var a=e.rowData,c=e.rowIndex,o=a;if(!o)return null;var l=h&&h.model===o.model?Object(i.jsx)(lc,{open:!0,onClose:function(){return O(null)},model:o,onAddEnvironment:function(e){I(e),r(!0)},environments:t,environmentsHealth:n}):null;return Object(i.jsxs)(i.Fragment,{children:[l,Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",children:[Object(i.jsx)(xe.a,{resource:me.d.Models,action:me.a.Delete,yes:Object(i.jsx)(Ge,{content:Object(i.jsx)(oc,{onConfirm:function(){return s([o])&&C(null)},onClose:function(){return C(null)},modelName:o.model}),offset:[0,8],onClose:function(){return C(null)},visible:y===c,children:Object(i.jsx)(x.d,{ml:1,variant:"icon",hover:c===y,onClick:function(){return C(c)},children:Object(i.jsx)(x.j,{icon:"trash-alt"})})})}),o.is_compatible&&c!==T&&Object(i.jsx)(xe.a,{resource:me.d.Models,action:me.a.Update,yes:Object(i.jsx)(i.Fragment,{children:m.a?Object(i.jsx)(Ue.a,{content:"Manage model deployment",children:Object(i.jsx)(x.d,{ml:1,variant:"icon",onClick:function(){return O(o)},children:Object(i.jsx)(x.j,{icon:"server"})})}):Object(i.jsx)(Ue.a,{content:"Make model active",children:Object(i.jsx)(Ie,{disabled:c!==A,title:"Activate your model",content:"This model will be used to respond to messages that your assistant receives.",sticky:!0,name:"activate_model",placement:"bottom-start",arrow:!1,children:Object(i.jsx)(x.d,{ml:1,variant:"icon",hover:"activate_model"===b&&c===A,onClick:function(){I({model:o,environment:"production"}),r(!0)},children:Object(i.jsx)(x.j,{icon:"arrow-circle-up"})})})})})})]})]})}};return Object(i.jsx)(uc.a,{total:u,data:a,onLoadMoreRows:l,noRowsRenderer:o,resource:me.d.Models,bulkActionsRenderer:function(e){var t=e.dataSelected,n=e.setSelected;return Object(i.jsx)(xe.a,{resource:me.d.Models,action:me.a.Delete,yes:Object(i.jsx)(x.d,{onClick:function(){s(t),n([])},variant:"inverse",children:"Delete"})})},focused:_,children:function(e){return[Object(i.jsx)(zt.d,{cellDataGetter:function(){},flexGrow:2,width:300,dataKey:"model",label:"Model name",className:"ReactVirtualized__Table__rowColumn_overflow",cellRenderer:F(e)},"model"),Object(i.jsx)(zt.d,{cellDataGetter:function(){},flexGrow:2,width:300,dataKey:"trained_at",label:"Created on",cellRenderer:function(e){var t=e.rowData;return t?Object(i.jsx)(x.y,{variant:"bodySecondary",children:Oe.a.unix(t.trained_at).toString()}):null}},"createdOn"),Object(i.jsx)(zt.d,{cellDataGetter:function(){},flexGrow:1,width:250,dataKey:"tags",label:"State",cellRenderer:function(e){var t=e.rowData,n=e.rowIndex,r=t;return r?(!m.a&&r.tags&&r.tags.length>0&&R(n),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(sc,{environments:r.tags}),!r.is_compatible&&Object(i.jsx)(x.r,{bg:"neutral_3",color:"neutral_6",children:"Not compatible"})]})):null}},"tags"),Object(i.jsx)(zt.d,{cellDataGetter:function(){},flexGrow:1,width:150,dataKey:"model",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:N(e)},"actions")]}})}function bc(e){var t=e.children,n=e.onUploadModel,r=e.showUploadPopup,a=Object(v.a)(e,["children","onUploadModel","showUploadPopup"]),c=a.onClose;return Object(i.jsx)(Ge,Object(s.a)(Object(s.a)({content:Object(i.jsx)(Be,{onClose:c,onUploadModel:n}),offset:[-8,8],appendTo:"parent"},a),{},{children:Object(i.jsx)(Ue.a,{content:"Upload a model",disabled:r,children:t})}))}var fc=n.p+"static/media/models_placeholder.00beeda6.svg";function jc(e){var t=e.chatToken,n=e.environment,a=e.environments,c=e.environmentsHealth,o=e.models,s=e.onAddModelEnvironment,l=e.onDeleteModels,u=e.onFetchChatToken,d=e.onLoadMoreRows,b=e.onUploadModel,f=e.total,j=Object(R.l)(),p=Z(),h=p.setOnboardingShown,O=p.currentOnboardingStep;r.useEffect((function(){j("view:models:loaded")}),[j]);var m=r.useState(!1),g=Object(S.a)(m,2),v=g[0],y=g[1],C=r.useState(!1),E=Object(S.a)(C,2),k=E[0],T=E[1];return Object(i.jsx)(ma.a,{title:"Models",rightContent:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(xe.a,{resource:me.d.ChatToken,action:me.a.Update,yes:Object(i.jsx)(mn.a,{left:!0,children:Object(i.jsx)(Ca,{visible:v,environment:n,environments:a,onClose:function(){return y(!1)},offset:[0,8],onFetchChatToken:u,chatToken:t,children:Object(i.jsx)(x.d,{variant:"headerIcon",active:v,style:{position:"relative"},onClick:function(){return y(!v)},children:Object(i.jsx)(x.j,{icon:"share-alt"})})})})}),Object(i.jsx)(xe.a,{resource:me.d.Models,action:me.a.Create,yes:Object(i.jsx)(w.Box,{sx:{display:"inline-block"},children:Object(i.jsx)(bc,{showUploadPopup:k,onClose:function(){return T(!1)},onUploadModel:b,visible:k,children:Object(i.jsx)(mn.a,{left:!0,children:Object(i.jsx)(x.d,{variant:"headerIcon",active:k,onClick:function(){"models_model_added"===O&&h(!1),T(!k)},children:Object(i.jsx)(x.j,{icon:"arrow-to-top"})})})})})})]}),children:Object(i.jsx)(dc,{environments:a,environmentsHealth:c,models:o,onDeleteModels:l,onLoadMoreRows:d,onAddModelEnvironment:s,total:f,noRowsRenderer:function(){return Object(i.jsx)(ga,{heading:"There are no trained models",body:"When you train a new model, it'll show up here!",image:fc})}})})}var pc={onFetchModels:je.f.request,onFetchChatToken:Ft.g.request,onAddModelEnvironment:je.a.request,onDeleteModels:je.b.request,onFetchEnvironments:je.c.request,onFetchHealth:je.e.request,onUploadModel:je.l.request};var hc=Object(u.b)((function(e){return{environment:e.messages.environment,environments:e.models.environments,environmentsHealth:e.models.environmentsHealth,models:e.models.models,role:e.auth.role,total:e.models.total,chatToken:e.messages.chatToken}}),pc)((function(e){var t=e.onFetchEnvironments,n=e.onFetchHealth,a=e.onFetchModels;return r.useEffect((function(){t(),n(),a({search:"",offset:0,limit:0})}),[t,n,a]),Object(i.jsx)(cc.a,{listener:g.b,start:Object(ac.getType)(je.f.request),resolve:Object(ac.getType)(je.f.success),reject:Object(ac.getType)(je.f.failure),children:function(t){return Object(i.jsx)(jc,Object(s.a)(Object(s.a)({},e),{},{onLoadMoreRows:t}))}})})),Oc=n(276),xc=n.n(Oc),mc=n(32),gc=n.p+"static/media/nlu_training_placeholder.23524ae2.svg";function vc(e){var t=e.error,n=e.loading,a=e.lookupTables,c=e.onCreateLookupTable,o=e.onDeleteLookupTables,s=e.onDownloadLookupTable,l=e.total,u=ee().addToast;r.useEffect((function(){!1===n.createLookupTable&&(t.createLookupTable?u({head:"Lookup Table file upload failed",content:"It seems something was wrong with the Lookup Table file you tried to upload. Please check the formatting of the file and try again.",variant:"error",key:"UploadLookupTablesFailed"}):u({head:"Upload succeeded",content:"Lookup Table upload has succeeded",key:"UploadLookupTablesSucceeded"}))}),[u,n.createLookupTable,t.createLookupTable]);var d=r.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&c({filename:t.name,content:window.btoa(unescape(encodeURIComponent(n.result)))})},n.readAsText(t)}}),[c]),b=r.useCallback((function(){return function(e){var t=e.rowData;return t?Object(i.jsx)(w.Flex,{alignItems:"center",children:Object(i.jsx)(w.Box,{flex:"1",pl:3,children:Object(i.jsx)(x.y,{variant:"bodySecondary",children:t.name})})}):null}}),[]),f=function(e){var t=e.onResetCache;return function(e){var n=e.rowData,r=n;return r?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(xe.a,{resource:me.d.Regexes,action:me.a.List,yes:Object(i.jsx)(w.Box,{style:{display:"inline-block"},children:Object(i.jsx)(Ue.a,{content:"Download the file ".concat(n.name," to view its contents"),children:Object(i.jsx)(x.d,{ml:1,variant:"icon",onClick:function(){s({filename:n.name,lookupTableId:r.id})},children:Object(i.jsx)(x.j,{icon:"arrow-to-bottom"})})})})}),Object(i.jsx)(xe.a,{resource:me.d.Regexes,action:me.a.Delete,yes:Object(i.jsx)(w.Box,{style:{display:"inline-block"},children:Object(i.jsx)(Ue.a,{content:"Delete ".concat(n.name),children:Object(i.jsx)(x.d,{ml:1,variant:"icon",onClick:function(){o([r]),t(!0)},children:Object(i.jsx)(x.j,{icon:"trash-alt"})})})})})]}):null}};return Object(i.jsx)(uc.a,{total:l,buttons:[Object(i.jsx)(Ue.a,{content:"Upload lookup table file",hideOnClick:!0,children:Object(i.jsx)(x.B,{accept:".txt",onUpload:d,variant:"headerIcon",children:Object(i.jsx)(x.j,{icon:"arrow-to-top"})})})],title:"Lookup tables",data:a,resource:me.d.Regexes,disableLabels:!0,noRowsRenderer:function(){return Object(i.jsx)(ga,{heading:"You have no lookup tables",imageWidth:125,image:gc,pb:5,body:Object(i.jsxs)(w.Box,{width:128,children:["To learn more about lookup tables, go"," ",Object(i.jsx)(w.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#lookup-tables",target:"_blank",children:"here"}),"."," "]}),actions:Object(i.jsx)(x.B,{accept:".txt",onUpload:d,large:!0,children:"Upload lookup table file"})})},children:function(e){return[Object(i.jsx)(zt.d,{cellDataGetter:function(){},flexGrow:2,width:300,style:{marginLeft:"16px"},dataKey:"lookupTable",className:"ReactVirtualized__Table__rowColumn_overflow",cellRenderer:b()},"lookupTable"),Object(i.jsx)(zt.d,{cellDataGetter:function(){},flexGrow:2,width:300,style:{marginLeft:"16px"},dataKey:"count",cellRenderer:function(e){var t=e.rowData;return t?Object(i.jsx)(w.Flex,{alignItems:"center",children:Object(i.jsx)(w.Box,{flex:"1",pl:3,children:Object(i.jsxs)(x.y,{variant:"bodySecondary",color:"neutral_6",children:[t.number_of_elements," values"]})})}):null}},"count"),Object(i.jsx)(zt.d,{cellDataGetter:function(){},flexGrow:1,width:250,style:{textAlign:"right"},dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:f(e)},"actions")]}})}function yc(e){var t=e.onClickOutside,n=e.children,a=e.shouldOmit,c=Object(v.a)(e,["onClickOutside","children","shouldOmit"]),o=r.useRef(null);return Object(R.a)(o,t,a),Object(i.jsx)(w.Flex,Object(s.a)(Object(s.a)({ref:o},c),{},{children:n}))}function Cc(e){var t=e.onCreateRegex,n=e.onClose,a=r.useState(""),c=Object(S.a)(a,2),o=c[0],s=c[1],l=r.useState(""),u=Object(S.a)(l,2),d=u[0],b=u[1],f=r.useCallback((function(){t({name:o,pattern:d}),n(),s(""),b("")}),[t,n,o,s,d,b]);return Object(i.jsxs)(yc,{width:1,onClickOutside:n,px:3,children:[Object(i.jsx)(w.Box,{width:1/3,mr:2,children:Object(i.jsx)(x.l,{autoFocus:!0,fullWidth:!0,onReturn:f,placeholder:"Enter a Regex name",value:o,onChangeValue:s})}),Object(i.jsx)(w.Box,{mr:2,flex:1,children:Object(i.jsx)(x.l,{fullWidth:!0,fontFamily:"mono",fontSize:1,onReturn:f,placeholder:"Enter a Regex",value:d,onChangeValue:b})}),Object(i.jsx)(w.Flex,{flexDirection:"row-reverse",style:{height:"100%"},children:Object(i.jsx)(x.d,{disabled:""===o||""===d,variant:"primary",onClick:f,large:!0,children:"Save"})})]})}function Sc(e){var t=e.onCreateRegex,n=e.onDeleteRegexes,a=e.onLoadMoreRows,c=e.onUpdateRegex,o=e.regexes,l=e.total,u=r.useState(null),d=Object(S.a)(u,2),b=d[0],f=d[1],j=r.useState(""),p=Object(S.a)(j,2),h=p[0],O=p[1],m=r.useState(""),g=Object(S.a)(m,2),v=g[0],y=g[1],C=r.useCallback((function(e){return t&&Object(i.jsx)(Cc,{onCreateRegex:t,onClose:e})}),[t]),E=r.useCallback((function(){return function(e){var t=e.rowData,n=e.rowIndex,r=t;return r?Object(i.jsx)(w.Flex,{alignItems:"center",children:Object(i.jsx)(w.Box,{flex:"1",pl:3,children:n===b?Object(i.jsx)(yc,{onClickOutside:function(){return f(null)},shouldOmit:function(e){if(e.getAttribute("aria-rowindex")===(n+1).toString())return!0},children:Object(i.jsx)(x.l,{fullWidth:!0,autoFocus:!0,placeholder:"Regex name",value:h,onChangeValue:O,ml:-3})}):Object(i.jsx)(x.y,{variant:"bodySecondary",children:r.name})})}):null}}),[b,h]),k=function(e){var t=e.onResetCache;return function(e){var r=e.rowData,a=e.rowIndex,o=r;return o?Object(i.jsx)(i.Fragment,{children:a===b?Object(i.jsx)(x.d,{variant:"primary",large:!0,onClick:function(){c(Object(s.a)(Object(s.a)({},o),{},{name:h,pattern:v})),f(null),t(!0)},children:"Save"}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(xe.a,{resource:me.d.Regexes,action:me.a.Update,yes:Object(i.jsx)(w.Box,{style:{display:"inline-block"},children:Object(i.jsx)(Ue.a,{content:"Edit",children:Object(i.jsx)(x.d,{ml:1,variant:"icon",onClick:function(){f(a),O(o.name),y(o.pattern)},children:Object(i.jsx)(x.j,{icon:"pen"})})})})}),Object(i.jsx)(xe.a,{resource:me.d.Regexes,action:me.a.Delete,yes:Object(i.jsx)(w.Box,{style:{display:"inline-block"},children:Object(i.jsx)(Ue.a,{content:"Delete",children:Object(i.jsx)(x.d,{ml:1,variant:"icon",onClick:function(){n([o]),t(!0)},children:Object(i.jsx)(x.j,{icon:"trash-alt"})})})})})]})}):null}};return Object(i.jsx)(uc.a,{total:l,title:"Regular expressions",data:o,onLoadMoreRows:a,addRenderer:C,resource:me.d.Regexes,disableLabels:!0,focused:b,noRowsRenderer:function(e,t){return Object(i.jsx)(ga,{heading:"You have no regexes",imageWidth:125,pb:5,image:gc,body:Object(i.jsxs)(i.Fragment,{children:["To learn more about regular expressions, go"," ",Object(i.jsx)(w.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#regular-expression-features",target:"_blank",children:"here"}),"."," "]}),actions:Object(i.jsx)(x.d,{large:!0,disabled:e,onClick:function(){return t&&t(!0)},children:"Create new regex"})})},children:function(e){return[Object(i.jsx)(zt.d,{flexGrow:2,cellDataGetter:function(){},width:440,style:{marginLeft:"16px",marginRight:"-8px"},dataKey:"regex",cellRenderer:E()},"regex"),Object(i.jsx)(zt.d,{flexGrow:2,cellDataGetter:function(){},width:600,style:{marginLeft:"0px",marginRight:0},dataKey:"pattern",cellRenderer:function(e){var t=e.rowData,n=e.rowIndex,r=t;return r?Object(i.jsx)(w.Flex,{alignItems:"center",children:Object(i.jsx)(w.Box,{flex:"1",pl:3,children:n===b?Object(i.jsx)(x.l,{fullWidth:!0,fontFamily:"mono",fontSize:1,placeholder:"Regex pattern",value:v,onChangeValue:y,ml:-3}):Object(i.jsx)(x.y,{variant:"code",children:r.pattern})})}):null}},"pattern"),Object(i.jsx)(zt.d,{flexGrow:1,cellDataGetter:function(){},width:200,style:{flexBasis:"auto",marginRight:"16px",textAlign:"right"},dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",label:"",cellRenderer:k(e)},"actions")]}})}function wc(e){var t=e.error,n=e.loading,a=e.lookupTables,c=e.lookupTablesTotal,o=e.onCreateLookupTable,s=e.onCreateRegex,l=e.onDeleteLookupTables,u=e.onDeleteRegexes,d=e.onDownloadLookupTable,b=e.onLoadMoreRows,f=e.onUpdateRegex,j=e.regexes,p=e.regexesTotal,h=Object(R.l)();return r.useEffect((function(){h("view:regex-lookup:loaded")}),[h]),Object(i.jsxs)(w.Flex,{style:{minHeight:"480px"},children:[Object(i.jsx)(w.Flex,{flex:.5,pr:32,children:Object(i.jsx)(Sc,{onCreateRegex:s,onDeleteRegexes:u,onLoadMoreRows:b,onUpdateRegex:f,regexes:j,total:p})}),Object(i.jsx)(w.Flex,{flex:.5,children:Object(i.jsx)(vc,{error:t,loading:n,lookupTables:a,onCreateLookupTable:o,onDeleteLookupTables:l,onDownloadLookupTable:d,total:c})})]})}var Ec={onCreateRegex:mc.b.request,onCreateLookupTable:mc.a.request,onFetchRegex:mc.g.request,onDownloadLookupTable:mc.e.request,onFetchLookupTables:mc.f.request,onFetchRegexes:mc.h.request,onDeleteRegexes:mc.d.request,onDeleteLookupTables:mc.c.request,onUpdateRegex:mc.i.request};var kc=Object(u.b)((function(e){return{error:e.regexes.error,loading:e.regexes.loading,lookupTables:e.regexes.lookupTables,lookupTablesTotal:e.regexes.lookupTablesTotal,regexes:e.regexes.regexes,regexesTotal:e.regexes.regexesTotal,role:e.auth.role}}),Ec)((function(e){var t=e.onFetchRegexes,n=e.onFetchLookupTables,a=e.regexes;return r.useEffect((function(){0===Object.keys(a).length&&(t({offset:0,limit:0}),n())}),[t,n,a]),Object(i.jsx)(cc.a,{listener:g.b,start:Object(ac.getType)(mc.h.request),resolve:Object(ac.getType)(mc.h.success),reject:Object(ac.getType)(mc.h.failure),children:function(t){return Object(i.jsx)(wc,Object(s.a)(Object(s.a)({},e),{},{onLoadMoreRows:t}))}})})),Tc=(n(640),n(389)),Rc=r.memo((function(e){var t=e.entities,n=e.entityTypes,r=e.onChangeEntity,a=e.onClickOutside,c=e.onRemoveEntity,o=e.hidePopover,l=e.showPopover,u=e.text,d=e.children,b=e.synonyms,f=(e.onShow,Object(v.a)(e,["entities","entityTypes","onChangeEntity","onClickOutside","onRemoveEntity","hidePopover","showPopover","text","children","synonyms","onShow"]));return Object(i.jsx)(Ge,Object(s.a)(Object(s.a)({content:Object(i.jsxs)(w.Flex,{p:5,flexDirection:"column",alignItems:"start",width:576,style:{textAlign:"left"},children:[Object(i.jsx)(x.i,{variant:"h2",mb:3,children:"Annotate Entities"}),Object(i.jsx)(w.Box,{width:1,children:Object(i.jsx)(dr,{entities:t,entityTypes:n,onChangeEntity:r,onClickOutside:a,onRemoveEntity:c,text:u,synonyms:b})})]}),visible:l,placement:"top",arrow:!0,offset:[0,24],disabled:o,onClickOutside:function(){}},f),{},{children:d}))}));function Ac(e){var t=e.entityTypes,n=e.entities,a=e.onChange,c=e.onPopupShow,o=e.collapsed,s=e.onCollapse,l=e.synonyms,u=e.text,d=r.useState(o),b=Object(S.a)(d,2),f=b[0],j=b[1],p=r.useState(""),h=Object(S.a)(p,2),O=h[0],m=h[1],g=r.useRef(null);r.useLayoutEffect((function(){var e=g.current;if(e&&f!==o){var t=new Tc.default((function(){s(f),t.unobserve(e)}));return t.observe(e),function(){return t.unobserve(e)}}}),[g,f,s,o]);var v=u.length>160;r.useEffect((function(){var e=u||"";v&&f&&(e=e.substring(0,157)+"..."),m(e)}),[v,f,m,u]);var y=r.useState(!1),C=Object(S.a)(y,2),w=C[0],E=C[1],k=r.useCallback((function(e){a(u,function(e,t){return e.map((function(e){return gr(e,t)?t:e}))}(n,e))}),[u,n,a]),T=r.useCallback((function(e){var t=function(e,t){return e.filter((function(e){return!gr(e,t)}))}(n,e);0===t.length&&E(!1),a(u,t)}),[u,n,a]);return Object(i.jsx)(Ue.a,{disabled:!v||!o,content:"Expand the collapsed text to annotate a word or phrase.",children:Object(i.jsxs)(Rc,{text:u,entities:n,entityTypes:t,onChangeEntity:k,onClickOutside:w?function(){return E(!1)}:void 0,onClose:function(){return E(!1)},onRemoveEntity:T,showPopover:w,synonyms:l,onShow:c,containerStyle:{width:"100%"},children:[Object(i.jsx)(kr,{ref:g,entities:n,entityTypes:t,onChange:function(e,t){j(!1),a(e,t)},text:O,onMarkClick:function(){return E(!0)},onClick:function(){return j(!1)},disabled:!0===f}),v&&Object(i.jsxs)(x.d,{variant:"smallLink",onClick:function(){return j(!f)},children:["see ",f?"more":"less"]})]})})}function _c(e){var t=e.example,n=e.onChange,a=Object(v.a)(e,["example","onChange"]),c=r.useCallback((function(e,r){return n(Object(s.a)(Object(s.a)({},t),{},{text:e,entities:r}))}),[t,n]);return Object(i.jsx)(Ac,Object(s.a)({entities:t.entities,onChange:c,text:t.text},a))}function Ic(e){var t=e.intents,n=e.onClose,a=e.onSaveExample,c=Object(u.c)(),o=r.useCallback((function(e){return c(ge.b.request(e))}),[c]),s=Object(u.d)((function(e){return e.suggestions.draftSuggestionExists})),l=r.useState(""),d=Object(S.a)(l,2),b=d[0],f=d[1],j=r.useState(""),p=Object(S.a)(j,2),h=p[0],O=p[1];Object(R.n)((function(){o(b)}),100,[b]);var m=r.useCallback((function(){a({team:"default",project_id:"default",text:b,intent:h,entities:[]}),f(""),O("")}),[a,b,h]),g=r.useMemo((function(){return b.length>0&&h.length>0}),[b,h]);return Object(i.jsxs)(w.Flex,{style:{width:"100%"},"data-qa":"training-data-new-row_div",children:[Object(i.jsx)(w.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"3 1 300px",children:Object(i.jsx)(x.l,{"data-qa":"training-data-new-row-sentence_input",fullWidth:!0,placeholder:"Add a new sentence...",value:b,onChangeValue:f,invalid:s,onReturn:s||!g?void 0:m,autoFocus:!0})}),Object(i.jsx)(w.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"2 1 100px",mx:"10px",children:Object(i.jsx)(tn,{"data-qa":"training-data-new-row-intent_input",rankedIntents:[],intent:h,onChange:function(e){return O(e.name)},onReturn:function(){return!s&&g&&m()},intents:t,fullWidth:!0})}),Object(i.jsx)(w.Box,{className:"ReactVirtualized__Table__rowColumn",width:150,flex:"1 1 150px",children:Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",mr:-1,style:{height:"100%"},children:[Object(i.jsx)(x.d,{"data-qa":"training-data-new-row-save_button",mx:1,variant:"primary",disabled:s||!g,onClick:m,children:"Save"}),Object(i.jsx)(x.d,{mx:1,variant:"secondary",onClick:n,bg:"neutral_0",children:"Cancel"})]})})]})}var Fc=function(){},Nc=function(){return{alignItems:"flex-start"}};function Uc(e){var t=e.entityTypes,n=e.examples,a=e.intents,c=e.onChange,o=e.onDelete,l=e.onLoadMoreRows,u=e.onSave,d=e.onSaveExample,b=e.onSearch,f=e.noRowsRenderer,j=e.searchQuery,p=e.totalExamples,h=e.synonyms,O=r.useState({}),m=Object(S.a)(O,2),g=m[0],v=m[1],y=r.useRef(new zt.c({fixedWidth:!0,minHeight:64})),C=r.useRef(null),E=r.useCallback((function(){y.current.clearAll(),C.current&&C.current.recomputeRowHeights(0)}),[y,C]),k=r.useCallback((function(e,t){return Object(i.jsx)(Pr.a,{p:4,name:"Intents",items:a,checkedItems:e.filter((function(e){return"intent"===e.keyword})).map((function(e){return e.value})),onChange:function(n){return t(e.filter((function(e){return"intent"!==e.keyword})).concat(n.map((function(e){return{keyword:"intent",value:e,negated:!1}}))))}})}),[a]),T=r.useCallback((function(e){return Object(i.jsx)(Ic,{intents:a,onSaveExample:d,onClose:e})}),[d,a]),R=r.useCallback((function(e,t){var n;v((function(r){return n=r[e]!==t,Object(s.a)(Object(s.a)({},r),{},{[e]:t})})),n&&E()}),[v,E]),A=r.useCallback((function(){return function(e){var n=e.rowIndex,r=e.rowData,a=e.dataKey,o=e.parent,s=r;return s?Object(i.jsx)(zt.b,{cache:y.current,parent:o,columnIndex:0,rowIndex:n,children:Object(i.jsx)(w.Box,{py:4,children:Object(i.jsx)(ha,{children:Object(i.jsx)(_c,{example:s,onChange:function(e){return c(e)},entityTypes:t,synonyms:h,onCollapse:function(e){return R(n,!e)},collapsed:!1===g[n]})})})},a):null}}),[c,t,h,R,g]),_=r.useCallback((function(){return function(e){var t=e.rowData;return t?Object(i.jsx)(w.Flex,{width:"100%",alignItems:"flex-start",mt:"12px",children:Object(i.jsx)(tn,{fullWidth:!0,autoFocus:!1,rankedIntents:[],intent:t.intent,onChange:function(e){return c(Object(s.a)(Object(s.a)({},t),{},{intent:e.name}))},intents:a,onReturn:function(){return u(t)},onEscape:function(){return o(t)}})}):null}}),[a,u,o,c]),I=r.useCallback((function(e){var t=e.onResetCache;return function(e){var n=e.rowData;return n?Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",mr:-1,mt:"12px",children:[Object(i.jsx)(xe.a,{resource:me.d.Examples,action:me.a.Delete,yes:Object(i.jsx)(Ue.a,{content:"Delete",children:Object(i.jsx)(x.d,{mx:1,onClick:function(){o(n),t(!0)},variant:"icon",children:Object(i.jsx)(x.j,{icon:"trash-alt"})})})}),Object(i.jsx)(xe.a,{resource:me.d.Examples,action:me.a.Update,yes:Object(i.jsx)(w.Box,{style:{visibility:n.isDirty?"visible":"hidden"},children:Object(i.jsx)(Ue.a,{content:"Save changes",children:Object(i.jsx)(x.d,{mx:1,onClick:function(){return u(n)},variant:"icon",children:Object(i.jsx)(x.j,{icon:"save"})})})})})]}):null}}),[o,u]);return Object(i.jsx)(uc.a,{onSearch:b,searchQuery:j,resource:me.d.Examples,addRenderer:d&&T,clearCache:E,data:n,forwardedRef:C,deferredMeasurementCache:y.current,rowHeight:y.current.rowHeight,total:p,filtersRenderer:k,onLoadMoreRows:l,noRowsRenderer:f,rowStyle:Nc,disableDimmable:!0,highlightAddRenderer:!0,children:function(e){return[Object(i.jsx)(zt.d,{cellDataGetter:Fc,width:300,flexGrow:3,dataKey:"text",label:"Sentence",cellRenderer:A()},"sentence"),Object(i.jsx)(zt.d,{cellDataGetter:Fc,width:100,flexGrow:2,dataKey:"intent",label:"Intent",cellRenderer:_()},"intent"),Object(i.jsx)(zt.d,{cellDataGetter:Fc,width:150,flexGrow:1,dataKey:"actions",className:"ReactVirtualized__Table__rowColumnOnHover",cellRenderer:I(e)},"actions")]}})}function Lc(e){var t=e.entityTypes,n=e.examples,a=e.intents,c=e.onChangeExample,o=e.onDeleteTrainingExample,l=e.onFetchExamples,u=e.onLoadMoreRows,b=e.onSaveExample,f=e.onUpdateExample,j=e.searchQuery,p=e.synonyms,h=Object(R.l)();r.useEffect((function(){h("view:suggestions:loaded")}),[h]);var O=Object(d.g)().push,m=r.useCallback((function(e){return l({search:e,offset:0,limit:20})}),[l]);return Object(i.jsx)(Uc,{entityTypes:t,examples:n.reduce((function(e,t,n){return Object(s.a)(Object(s.a)({},e),{},{[n]:t})}),{}),intents:a,onChange:c,onDelete:o,onLoadMoreRows:u,onSave:f,onSaveExample:b,onSearch:m,searchQuery:j,totalExamples:n.length,synonyms:p,noRowsRenderer:function(){return Object(i.jsx)(ga,{heading:j.length>=0?"There are no matches for this search":"You have no training data yet!",body:j.length>=0?"Try a different search query or add more data.":"You have no training data. Create new training data or annotate new data from the NLU Inbox.",image:sa,actions:Object(i.jsx)(x.d,{onClick:function(){return O("/nlu-inbox")},large:!0,children:"Search the NLU Inbox"})})}})}var Dc=n(50),Mc={onChangeExample:Bt.b,onUpdateExample:Bt.o.request,onDeleteTrainingExample:Bt.d.request,onFetchExamples:Bt.h.request,onFetchEntities:Bt.f.request,onFetchSynonyms:Dc.b.request,onSaveExample:Bt.k.request};var Pc=Object(u.b)((function(e){return{synonyms:e.synonyms.synonyms,searchQuery:e.examples.searchQuery,examples:e.examples.examples,intents:e.examples.intents,entityTypes:e.examples.entityTypes,role:e.auth.role}}),Mc)((function(e){var t=e.onFetchEntities,n=e.onFetchExamples,a=e.onFetchSynonyms,c=e.searchQuery;return r.useEffect((function(){t(),a({search:""}),n({search:c,offset:0,limit:20})}),[t,n,a,c]),Object(i.jsx)(cc.a,{listener:g.b,start:Object(ac.getType)(Bt.h.request),resolve:Object(ac.getType)(Bt.h.success),reject:Object(ac.getType)(Bt.h.failure),children:function(t){return Object(i.jsx)(Lc,Object(s.a)({onLoadMoreRows:t},e))}})}));function Bc(){var e=Object(F.a)(["\n            transform: scaleY(0);\n            opacity: 0;\n          "]);return Bc=function(){return e},e}function Hc(){var e=Object(F.a)(["\n            transform: scaleY(1);\n            opacity: 1;\n          "]);return Hc=function(){return e},e}function qc(){var e=Object(F.a)(["\n  "," ","\n  min-height: 64px;\n  border-bottom: 1px solid #f2f4fa;\n  cursor: pointer;\n  position: relative;\n  transition: all ease 0.2s;\n  ","\n  &:after {\n    content: '';\n    border-radius: 2px;\n    width: 4px;\n    height: 100%;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    ","\n    transition: transform cubic-bezier(0.51, 0.92, 0.24, 1.15) 0.2s;\n  }\n"]);return qc=function(){return e},e}var Gc=Object(l.default)((function(e){return Object(i.jsx)(fn,Object(s.a)({as:"li"},e))}))(qc(),Ce.a,Ce.d,(function(e){return e.active&&Ce.b}),(function(e){return e.active?Object(l.css)(Hc()):Object(l.css)(Bc())}));function Vc(e){var t=e.children,n=Object(v.a)(e,["children"]);return Object(i.jsx)(Gc,Object(s.a)(Object(s.a)({pl:4,pr:1,alignItems:"center",afterBg:"primary_2",bgHover:"neutral_1",bgActive:"neutral_1"},n),{},{children:t}))}function zc(){var e=Object(F.a)(["\n  ","\n  list-style: none;\n  margin: 0;\n  height: 100%;\n  overflow: auto;\n"]);return zc=function(){return e},e}var Wc=Object(l.default)(w.Box)(zc(),A.width);function Yc(e){var t=e.data,n=e.list,a=e.dataProp,c=e.listElementRenderer,o=e.listElementCount,l=e.onEditListElement,u=e.onTabSelected,d=void 0===u?function(){}:u,b=e.elementsHeader,f=e.groupsHeader,j=e.noRowsPlaceholder,p=e.loading,h=e.absolutePlaceholderPosition,O=e.selectedListElement,m=e.setSelectedListElement,g=e.unselectGroups,y=e.blockGroupSelection,C=e.listElementAddRenderer,E=e.onClick,k=void 0===E?function(){}:E,T=Object(v.a)(e,["data","list","dataProp","listElementRenderer","listElementCount","onEditListElement","onTabSelected","elementsHeader","groupsHeader","noRowsPlaceholder","loading","absolutePlaceholderPosition","selectedListElement","setSelectedListElement","unselectGroups","blockGroupSelection","listElementAddRenderer","onClick"]),R=r.useState(0),A=Object(S.a)(R,2),_=A[0],I=A[1],F=r.useState(null),N=Object(S.a)(F,2),U=N[0],L=N[1],D=r.useState(null),M=Object(S.a)(D,2),P=M[0],B=M[1],H=r.useState(""),q=Object(S.a)(H,2),G=q[0],V=q[1],z=function(){return I((function(e){return e+1}))};r.useEffect((function(){L(O)}),[O]),r.useEffect((function(){!g&&m&&m(U)}),[U,m,g]);var W=r.useMemo((function(){if(0===t.length)return[];if(!O)return t[0][a];var e=n.indexOf(O);return-1===e?[]:t[e][a]}),[t,a,n,O]),Y=r.useMemo((function(){return n.map((function(e,t){var r=function(t){B(null),e!==t&&n.includes(t)||(l&&e!==t&&l({name:e,newName:t}),m&&O===e&&m(t))},a=P!==t,s=!g&&(U===e||!U&&0===t);return Object(i.jsx)(Vc,{pl:a?4:0,pr:a?1:0,active:s,onClick:function(){y||(L(e),d&&d(t),z())},children:P===t?C?C({handleUpdate:r,newTabName:G,setEditIndex:B}):Object(i.jsx)(yc,{onClickOutside:function(){return r(G)},sx:{width:"100%",height:"64px"},children:Object(i.jsx)(x.l,{block:!0,autoFocus:!0,fullWidth:!0,placeholder:"Enter a value",value:G,onChangeValue:V,onReturn:r,pl:23,style:{borderRadius:"0 2px 2px 0"}})}):Object(i.jsxs)(w.Flex,{flex:1,justifyContent:"space-between",alignItems:"center",children:[Object(i.jsx)(Yt,{width:.8,children:Object(i.jsx)(x.y,{variant:"bodySecondary",as:"div",children:c(e)})}),o&&o(e)>0&&Object(i.jsxs)(w.Box,{children:[Object(i.jsx)(dn,{active:l,children:Object(i.jsx)(x.c,{mr:"20px",sx:{backgroundColor:U===e?"neutral_0":"neutral_1",color:"neutral_8",fontSize:1,borderRadius:"4px",fontWeight:0,width:"20px",height:"20px"},children:o(e)})}),l&&Object(i.jsx)(ln,{children:Object(i.jsx)(x.d,{variant:"plainIcon",fontSize:3,mr:"14px",onClick:function(){V(e),B(t)},children:Object(i.jsx)(x.j,{icon:"edit",fontSize:"16px"})})})]})]})},t)}))}),[U,c,o,G,P,n,l,d,y,O,m,g,C]);return Object(i.jsx)(w.Card,{bg:"neutral_0",p:0,sx:{height:"100%",overflow:"hidden"},children:t.length>0||!j||h?Object(i.jsxs)(w.Flex,{flexDirection:"row",sx:0===t.length&&h?{}:{height:"100%"},children:[(!t||0===t.length)&&!p&&Object(i.jsx)(w.Box,{sx:{position:"absolute",width:"100%",height:"100%"},children:j}),Object(i.jsxs)(w.Flex,{flexDirection:"column",sx:{width:"360px",borderRight:"1px solid #f2f4fa"},children:[f&&f,Object(i.jsx)(Wc,{as:"ul",width:1,p:0,children:Y})]}),t.length>0&&Object(i.jsxs)(w.Flex,{flexDirection:"column",flex:1,onClick:k,sx:Object(s.a)({opacity:1,transition:"opacity ease .2s"},g&&{opacity:0,pointerEvents:"none"}),children:[b&&b,Object(i.jsx)(x.x,{variant:"flattened",highlight:-1,total:Object.keys(W).length,rows:W,children:T.children(z),setHighlightedRow:function(){}},_)]})]}):j})}function Kc(e){var t=e.children;return Object(i.jsx)(w.Flex,{flexDirection:"column",height:"100%",sx:{position:"relative"},children:t})}function Qc(){var e=Object(F.a)(["\n  background: ",";\n  flex-direction: row;\n  height: auto;\n  padding-bottom: 12px;\n  width: 100%;\n  max-height: 400px;\n  border-radius: 0 0 10px 10px;\n  box-shadow: 0px 0px 4px ",";\n"]);return Qc=function(){return e},e}Yc.defaultProps={listElementRenderer:function(e){return e}};var Xc=Object(l.default)(w.Flex)(Qc(),Object(cr.a)("colors.neutral_0"),Object(cr.a)("colors.neutral_6"));function Zc(e){var t=e.show,n=e.onCancel,a=e.onSaveSynonym,c=e.references,o=e.onSaveSynonymValues,s=r.useState(!1),l=Object(S.a)(s,2),u=l[0],d=l[1],b=r.useState(null),f=Object(S.a)(b,2),j=f[0],p=f[1],h=r.useState(""),O=Object(S.a)(h,2),m=O[0],g=O[1],v=r.useState(""),y=Object(S.a)(v,2),E=y[0],k=y[1],T=r.useState([]),R=Object(S.a)(T,2),A=R[0],_=R[1],I=r.useCallback((function(){var e;""!==E&&(_([].concat(Object(C.a)(A),[E])),k(""),null===(e=L.current)||void 0===e||e.focus())}),[A,E]),F=r.useMemo((function(){return[].concat(Object(C.a)(A),Object(C.a)(""!==E?[E]:[])).map((function(e){return{value:e}}))}),[A,E]),N=r.useCallback((function(){_([]),g(""),k(""),p(null),d(!1)}),[_,g,p,k]),U=r.useCallback((function(){var e,t=null===(e=c.find((function(e){var t=e.id,n=e.synonym_reference;return j?t===j.value:n===m})))||void 0===e?void 0:e.id;t?o({id:t,mapped_values:F}):a({synonym_reference:m,mapped_values:F}),N(),n()}),[c,a,o,n,j,m,F,N]),L=r.useRef(null),D=r.useMemo((function(){return c&&c.map((function(e){return{label:e.synonym_reference,value:e.id}}))}),[c]),M=r.useMemo((function(){return A.map((function(e,t){return Object(i.jsxs)(w.Flex,{alignItems:"center",pb:3,children:[Object(i.jsx)(x.l,{value:e,onChangeValue:function(e){return _((function(n){return n.map((function(r){return n.indexOf(r)===t?e:r}))}))},placeholder:"Add synonym",fullWidth:!0}),Object(i.jsx)(Ue.a,{content:"Remove this synonym",hideOnClick:!0,delay:200,children:Object(i.jsx)(x.d,{variant:"plainIcon",fontSize:4,onClick:function(){return _(A.filter((function(t){return t!==e})))},children:Object(i.jsx)(x.j,{icon:"times"})})})]},t)}))}),[A]);return t?Object(i.jsxs)(Xc,{p:3,children:[Object(i.jsx)(w.Box,{width:320,py:2,className:"ReactVirtualized__Table__rowColumn",children:u?Object(i.jsx)(x.l,{autoFocus:!0,fullWidth:!0,mr:2,value:m,onChangeValue:g}):Object(i.jsx)(x.u,{onCreate:function(){return d(!0)},placeholder:"Create or select a reference value",value:j,items:D,onChange:function(e){return e&&p(e)},fullWidth:!0,autoFocus:!0})}),Object(i.jsxs)(w.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"3 1",py:2,sx:{overflow:"auto",maxHeight:400},children:[M,Object(i.jsxs)(w.Flex,{alignItems:"center",children:[Object(i.jsx)(x.l,{ref:L,value:E,onChangeValue:function(e){return k(e)},placeholder:"Map a new synonym to this reference value",fullWidth:!0,onReturn:I}),Object(i.jsx)(Ue.a,{content:"Map a new synonym to this reference value",hideOnClick:!0,children:Object(i.jsx)(x.d,{variant:"plainIcon",fontSize:4,onClick:I,children:Object(i.jsx)(x.j,{icon:"plus"})})})]})]}),Object(i.jsx)(w.Box,{py:2,className:"ReactVirtualized__Table__rowColumn",flex:"1 1 150px",children:Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",justifyContent:"end",children:[Object(i.jsx)(x.d,{large:!0,disabled:!j&&""===m,mx:1,variant:"primary",onClick:U,children:"Save"}),Object(i.jsx)(x.d,{large:!0,mx:1,variant:"secondary",onClick:n,children:"Cancel"})]})})]}):null}function Jc(e){var t=e.actions,n=e.onChangeSelected,r=e.resource,a=e.selectedIndices,c=e.total;return Object(i.jsxs)(w.Flex,{alignItems:"center",alignSelf:"stretch",justifyContent:"space-between",sx:{width:"100%",height:"56px",borderTopLeftRadius:"large",borderTopRightRadius:"large",borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",backgroundColor:"primary_2",borderBottomColor:"neutral_2",overflow:"hidden"},children:[Object(i.jsx)(w.Box,{ml:4,mr:3,children:Object(i.jsx)("label",{children:Object(i.jsx)(x.f,{variant:"primary",checked:!0,partial:a.length<c,onChange:n})})}),Object(i.jsx)(w.Box,{flex:"1",children:Object(i.jsxs)(x.y,{variant:"bodySecondary",fontWeight:1,color:"neutral_0",children:[Object(Ut.toLower)(Object(Ut.startCase)(Ia()(r.toString(),a.length,!0)))," ","selected"]})}),Object(i.jsx)(x.w,{spacing:8,children:Object(i.jsx)(w.Box,{mr:2,children:t})})]})}function $c(e){var t=e.isSearch,n=e.onAddClick,r=e.addingActive;return Object(i.jsx)(ga,{heading:t?"There are no matches for this search":"You have no synonyms",imageWidth:125,pb:5,image:gc,body:t?"Try a different search query or add more data.":Object(i.jsxs)(q.a,{width:142,children:["To learn more about entity synonyms, see the"," ",Object(i.jsx)(q.a,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/nlu/training-data-format/#synonyms",target:"_blank",children:"Rasa docs"}),"."," "]}),actions:Object(i.jsx)(x.d,{large:!0,disabled:r,onClick:n,children:"Create new synonym"})})}function eo(e){var t=e.onDelete,n=(e.onLoadMoreRows,e.onSaveSynonym),a=e.onSearch,c=e.onUpdate,o=e.searchQuery,s=e.onUpdateSynonymReference,l=e.references,u=e.total,d=e.synonyms,b=e.onSaveSynonymValues,f=e.onNavigate,j=Object(R.p)(!1),p=Object(S.a)(j,2),h=p[0],O=p[1],m=r.useState(null),g=Object(S.a)(m,2),v=g[0],y=g[1],w=r.useState(""),E=Object(S.a)(w,2),k=E[0],T=E[1],A=r.useState(null),_=Object(S.a)(A,2),I=_[0],F=_[1],N=r.useState([]),U=Object(S.a)(N,2),L=U[0],D=U[1],M=r.useCallback((function(e){return"Search ".concat(e," synonyms...")}),[]),P=r.useCallback((function(e,t){D((function(n){return t?[].concat(Object(C.a)(n),[e]):n.filter((function(t){return t!==e}))}))}),[D]),B=r.useCallback((function(e){var t=e.name,n=e.newName;s({synonymId:d.find((function(e){return e.synonym_reference===t})).id,value:n})}),[s,d]),H=function(e){k!==e.value&&c({synonymId:d.find((function(t){return t.mapped_values.includes(e)})).id,valueId:e.id,newValue:k}),y(null)},G=r.useCallback((function(e){if(0!==e.length){var n=d.map((function(e){return e.id})),r=d.map((function(e){return e.synonym_reference})),a=e[0].synonymId;if(d.find((function(e){return e.id===a})).mapped_values.length===e.length){var c=n.indexOf(a);c<=0&&F(null),F(r[c-1])}t(e)}}),[d,t,F]),V=Object(i.jsx)(x.d,{variant:"headerIcon",onClick:O,active:h,children:Object(i.jsx)(x.j,{icon:"plus"})});return Object(i.jsx)(Kc,{children:Object(i.jsxs)(q.a,{sx:{minWidth:"790px",width:"100%",height:"100%"},children:[L.length>0&&Object(i.jsx)(Jc,{actions:Object(i.jsx)(x.d,{onClick:function(){var e=I?d.find((function(e){return e.synonym_reference===I})):d[0];if(e){var t=L.map((function(t){return{valueId:e.mapped_values[t].id,synonymId:e.id}}));G(t)}D([])},variant:"inverse",children:"Delete"}),onChangeSelected:function(){return D([])},resource:me.d.EntitySynonyms,selectedIndices:L,total:u}),0===L.length&&Object(i.jsx)(x.t,{buttons:[V],count:u,query:o,label:M,onChange:function(e){null===a||void 0===a||a(e)},onReturn:a}),Object(i.jsx)(q.d,{sx:{position:"absolute",top:"56px",left:0,zIndex:1},width:"100%",children:Object(i.jsx)(Zc,{show:h,onCancel:O,onSaveSynonym:n,onSaveSynonymValues:b,references:l})}),Object(i.jsx)(Yc,{data:d,dataProp:"mapped_values",list:l.map((function(e){return e.synonym_reference})),selectedListElement:I,setSelectedListElement:F,listElementRenderer:function(e){return e},groupedTotal:u,onEditListElement:B,noRowsPlaceholder:Object(i.jsx)($c,{isSearch:o.length>0,onAddClick:O,addingActive:h}),children:function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.g,{title:"",width:"30%",children:function(e,t){t.highlighted;var n=t.index;return Object(i.jsxs)(q.d,{alignItems:"center",children:[Object(i.jsx)(q.a,{flex:"0 1 auto",mr:2,children:Object(i.jsx)("label",{children:Object(i.jsx)(x.f,{checked:-1!==L.indexOf(n),onChange:function(){P(n,!L||-1===L.indexOf(n))}})})}),Object(i.jsx)(q.a,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(i.jsx)(q.d,{flexDirection:"row",alignItems:"center",children:n===v?Object(i.jsx)(q.a,{width:320,children:Object(i.jsx)(yc,{onClickOutside:function(){H(e)},children:Object(i.jsx)(x.l,{autoFocus:!0,fullWidth:!0,value:k,onChangeValue:T,px:2,onReturn:function(){H(e)}})})}):Object(i.jsx)(x.y,{as:"div",variant:"bodySecondary",ml:2,onClick:function(){y(n),T(e.value)},children:Object(i.jsx)(Ue.a,{content:e.value,children:e.value})})})})]})}}),Object(i.jsx)(x.g,{title:"",width:"70%",children:function(e,t){t.highlighted,t.index;return Object(i.jsx)(q.a,{flex:"1",style:{overflow:"hidden",textOverflow:"ellipsis"},children:Object(i.jsx)(q.d,{flexDirection:"row",alignItems:"center",children:Object(i.jsx)(x.y,{as:"div",variant:"bodySecondary",color:"neutral_6",children:0!==e.nlu_examples_count?Object(i.jsxs)(i.Fragment,{children:[e.nlu_examples_count," NLU examples"]}):Object(i.jsx)(Ue.a,{appendTo:document.body,content:"For this synonym to work, please add NLU examples that include it",children:Object(i.jsxs)(Yt,{sx:{display:"inline-block"},children:[Object(i.jsx)(x.j,{color:"neutral_6",icon:"info-circle",mr:1}),Object(i.jsx)(x.y,{as:"div",color:"primary_1",sx:{cursor:"pointer",display:"inline"},onClick:function(){return f("/data/training-data")},children:"Add NLU examples"})," ","with this synonym in order for it to work"]})})})})})}}),Object(i.jsx)(x.g,{title:"",children:function(e,t){t.highlighted,t.index;return Object(i.jsx)(q.d,{flexDirection:"row-reverse",mr:-1,children:Object(i.jsx)(xe.a,{resource:me.d.EntitySynonyms,action:me.a.Delete,yes:Object(i.jsx)(Ue.a,{content:"Delete",children:Object(i.jsx)(x.d,{mx:1,onClick:function(){G([{synonymId:d.find((function(t){return t.mapped_values.includes(e)})).id,valueId:e.id}])},variant:"icon",children:Object(i.jsx)(x.j,{icon:"trash-alt"})})})})})}})]})}})]})})}function to(e){var t=e.onFetchSynonyms,n=e.onLoadMoreRows,a=e.onSaveSynonym,c=e.onSaveSynonymValues,o=e.onUpdateSynonymValue,s=e.onDeleteSynonymValues,l=e.onUpdateSynonymReference,u=e.references,b=e.searchQuery,f=e.synonyms,j=e.total,p=Object(R.l)();r.useEffect((function(){p("view:synonyms:loaded")}),[p]);var h=Object(d.g)().push,O=r.useCallback((function(e){return t({search:e})}),[t]);return Object(i.jsx)(eo,{onDelete:s,onLoadMoreRows:n,onSaveSynonym:a,onSaveSynonymValues:c,onSearch:O,onUpdate:o,references:u,searchQuery:b,onUpdateSynonymReference:l,synonyms:f,total:j,onNavigate:h})}var no={onFetchSynonyms:Dc.b.request,onSaveSynonym:Dc.c.request,onSaveSynonymValues:Dc.d.request,onUpdateSynonymValue:Dc.f.request,onUpdateSynonymReference:Dc.e.request,onDeleteSynonymValues:Dc.a.request};var ro=Object(u.b)((function(e){return{synonyms:e.synonyms.synonyms,role:e.auth.role,searchQuery:e.synonyms.searchQuery,references:e.synonyms.references,total:e.synonyms.total}}),no)((function(e){e.history;var t=Object(v.a)(e,["history"]),n=t.searchQuery,a=t.onFetchSynonyms;r.useEffect((function(){a({search:n})}),[a,n]);var c=Object(R.i)(Dc.b);return Object(i.jsx)(to,Object(s.a)(Object(s.a)({},t),{},{onLoadMoreRows:c}))}));function ao(e){var t=e.loading,n=e.error,a=e.onUploadExamples,c=Object(v.a)(e,["loading","error","onUploadExamples"]),o=c.onClose,l=ee().addToast,u=r.useState(null),d=Object(S.a)(u,2),b=d[0],f=d[1],j=r.useCallback((function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&(f(n.result),a({examples:n.result,fileName:t.name})),o()},n.readAsText(t)}}),[o,a]);return r.useEffect((function(){!t&&!n&&b&&b.match(/## lookup:/m)&&l({head:"Lookup Tables in nlu.md will be ignored",content:"To include lookup tables, please upload lookup table files separately. Lookup tables within nlu.md will no longer be recognized.",variant:"error",key:"LookupTablesIgnored"})}),[t,n,l,b]),Object(i.jsx)(Ge,Object(s.a)({content:Object(i.jsxs)(w.Flex,{p:5,flexDirection:"column",alignItems:"start",width:400,style:{textAlign:"left"},children:[Object(i.jsx)(x.i,{variant:"h2",mb:3,children:"Replace existing NLU file?"}),Object(i.jsx)(x.y,{variant:"bodySecondary",mb:5,children:"Uploading a new NLU file will replace the existing one. All parts of the NLU file including training data, synonyms, regexes and references to lookup tables will also be replaced. To include lookup tables, please upload lookup table files separately."}),Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",alignSelf:"end",width:1,children:[Object(i.jsx)(x.B,{accept:".json, .md, .yml, .yaml",onUpload:j,large:!0,ml:2,children:"Upload and replace"}),Object(i.jsx)(x.d,{large:!0,variant:"secondary",onClick:o,children:"Cancel"})]})]}),offset:[0,8],appendTo:"parent"},c))}function co(e){var t=e.onClick;return Object(i.jsx)(Ue.a,{hideOnClick:!0,textAlign:"left",content:"Download the file nlu.md. This file will contain all your training data, synonyms, regexes, and references to lookup tables.",children:Object(i.jsx)(x.d,{variant:"headerIcon",onClick:t,children:Object(i.jsx)(x.j,{icon:"arrow-to-bottom"})})})}var oo=n(415),so=n(641);function io(e){var t=e.loading,n=e.error,a=e.location,c=e.match,o=e.onDownloadExamples,s=e.onNavigate,l=e.onUploadExamples,u=ee().addToast,b=r.useRef(!0);r.useEffect((function(){b.current?b.current=!1:!1===t.uploadExamples&&(n.uploadExamples?u({head:"Upload failed",content:"Training data upload failed",variant:"error"}):u({head:"Upload succeeded",content:"Training data upload has succeeded"}))}),[u,t.uploadExamples,n.uploadExamples]);var f=c.url,j=a&&a.pathname,p=r.useState(!1),h=Object(S.a)(p,2),O=h[0],m=h[1],g={lookup:xc()(f,"lookup"),trainingData:xc()(f,"training-data"),synonyms:xc()(f,"synonyms")},v={lookup:!!Object(d.f)(j,{path:g.lookup}),trainingData:!!Object(d.f)(j,{path:g.trainingData}),synonyms:!!Object(d.f)(j,{path:g.synonyms})},y=Object(i.jsxs)(so.a,{children:[Object(i.jsx)(xe.a,{resource:me.d.Examples,action:me.a.Read,yes:Object(i.jsx)(oo.a,{onClick:function(){return s(g.trainingData)},active:v.trainingData,"data-e2e":"Nlu__MenuItem__TrainingData",children:"Training data"})}),Object(i.jsx)(xe.a,{resource:me.d.Regexes,action:me.a.Read,yes:Object(i.jsx)(oo.a,{onClick:function(){return s(g.lookup)},active:v.lookup,children:"Regex & Lookup"})}),Object(i.jsx)(oo.a,{onClick:function(){return s(g.synonyms)},active:v.synonyms,children:"Synonyms"})]});return Object(i.jsxs)(ma.a,{title:"NLU Training Data",centreContent:y,rightContent:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(mn.a,{left:!0,children:Object(i.jsx)(ao,{visible:O,onClose:function(){return m(!1)},onUploadExamples:l,loading:t.uploadExamples,error:n.uploadExamples,children:Object(i.jsx)(Ue.a,{hideOnClick:!0,textAlign:"left",content:"Upload a new NLU file. This will replace all parts of the NLU file including training data, synonyms, regexes and references to lookup tables. To include lookup tables, please upload lookup table files separately.",children:Object(i.jsx)(x.d,{variant:"headerIcon",active:O,onClick:function(){return m(!O)},children:Object(i.jsx)(x.j,{icon:"arrow-to-top"})})})})}),Object(i.jsx)(mn.a,{left:!0,children:Object(i.jsx)(co,{onClick:o})})]}),children:[Object(i.jsx)(d.c,{exact:!0,path:f,component:Pc}),Object(i.jsx)(d.c,{exact:!0,path:g.lookup,component:kc}),Object(i.jsx)(d.c,{exact:!0,path:g.trainingData,component:Pc}),Object(i.jsx)(d.c,{exact:!0,path:g.synonyms,component:ro})]})}var lo={onFetchWarnings:Bt.j.request,onFetchIntents:Bt.i.request,onTrainModel:je.k.request,onUploadExamples:Bt.p.request,onDownloadExamples:Bt.e};var uo=Object(u.b)((function(e){return{dataWarnings:e.examples.warnings,modelIsTraining:e.models.modelIsTraining,role:e.auth.role,apiToken:e.auth.apiToken,loading:e.examples.loading,error:e.examples.error,apiUrl:new URL(de.c,window.location.href).href}}),lo)((function(e){var t=e.onFetchWarnings,n=e.onFetchIntents,a=Object(v.a)(e,["onFetchWarnings","onFetchIntents"]);r.useEffect((function(){t(),n()}),[t,n]);var c=Object(d.g)().push,o=Object(d.h)(),l=Object(d.i)();return Object(i.jsx)(io,Object(s.a)({onNavigate:c,location:o,match:l},a))})),bo=n(43);function fo(e){var t=e.responsePrefix,n=e.onSetNewTemplateName,a=e.forwardedRef,c=e.onClose,o=e.template,l=Object(v.a)(e,["responsePrefix","onSetNewTemplateName","forwardedRef","onClose","template"]),u=r.useState(o||""),d=Object(S.a)(u,2),b=d[0],f=d[1],j=r.useCallback((function(){n(b),f("")}),[n,b,f]);return Object(i.jsxs)(w.Flex,Object(s.a)(Object(s.a)({flexDirection:"column",sx:{backgroundColor:"neutral_1"},p:3,ref:a,flex:1},l),{},{children:[Object(i.jsx)(x.l,{prefix:t,placeholder:"response_name",value:b,onChangeValue:f,onReturn:j}),Object(i.jsxs)(w.Flex,{mt:2,flexDirection:"row-reverse",children:[Object(i.jsx)(x.d,{ml:2,onClick:j,disabled:""===b,children:o?"Save":"Next"}),Object(i.jsx)(x.d,{variant:"secondary",onClick:c,children:"Cancel"})]})]}))}function jo(e){var t=e.responsePrefix,n=e.showTemplatesAdd,r=e.setShowTemplatesAdd,a=e.onSetNewTemplateName,c=e.disableAddButton,o=Object(v.a)(e,["responsePrefix","showTemplatesAdd","setShowTemplatesAdd","onSetNewTemplateName","disableAddButton"]),l=Object(R.d)(),u=Object(S.a)(l,2),d=u[0],b=u[1].height;return Object(i.jsxs)(w.Flex,Object(s.a)(Object(s.a)({flexDirection:"column",sx:{borderBottom:"1px solid",borderColor:"neutral_3"}},o),{},{children:[Object(i.jsxs)(w.Flex,{justifyContent:"space-between",alignItems:"center",height:56,pl:4,children:[Object(i.jsx)(x.i,{variant:"h4",children:"Responses"}),Object(i.jsx)(Ue.a,{content:"Add a new response",offset:[-10,0],disabled:n,children:Object(i.jsx)(x.d,{variant:"secondaryHeaderIcon",onClick:function(){return!c&&r((function(e){return!e}))},active:n,children:Object(i.jsx)(x.j,{icon:"plus",fontSize:"16px"})})})]}),Object(i.jsx)(w.Box,{sx:{transition:"all ease 0.2s",height:n?"".concat(b,"px"):0,overflow:"hidden"},children:Object(i.jsx)(fo,{responsePrefix:t,onClose:function(){return r(!1)},forwardedRef:d,onSetNewTemplateName:a})})]}))}function po(e){var t=e.onEditResponse,n=e.response,a=e.onClose,c=r.useState(""),o=Object(S.a)(c,2),l=o[0],u=o[1],d=r.useCallback((function(){t(Object(s.a)(Object(s.a)({},n),{},{image:l}))}),[t,l,n]);return r.useEffect((function(){u((function(e){return n.image?n.image!==e?n.image:e:""}))}),[n]),Object(i.jsxs)(w.Flex,{p:5,flexDirection:"column",width:412,className:"response-editor-image",children:[Object(i.jsx)(x.i,{variant:"h2",mb:3,children:"Add an image to this response variation"}),Object(i.jsx)(nt.a,{text:"Image URL",children:Object(i.jsx)(x.l,{placeholder:"Enter image url..",fullWidth:!0,value:l,onChangeValue:u})}),Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",mt:4,flex:1,children:[Object(i.jsx)(x.d,{large:!0,ml:2,onClick:function(){d(),a()},children:"Add image"}),Object(i.jsx)(x.d,{large:!0,variant:"secondary",onClick:function(){return a()},children:"Cancel"})]})]})}var ho={title:"",payload:""};function Oo(e){var t=e.onEditResponse,n=e.response,a=e.onClose,c=e.setYamlModalExpanded,o=r.useContext(l.ThemeContext),u=r.useRef(null),d=r.useState([ho]),b=Object(S.a)(d,2),f=b[0],j=b[1],p=r.useMemo((function(){return 0===f.filter((function(e){return e.title.length>0})).length}),[f]);r.useEffect((function(){j((function(e){return n.buttons&&0!==n.buttons.length?n.buttons!==e?n.buttons:e:[ho]}))}),[n]);var h=r.useCallback((function(){t((function(e){return Object(s.a)(Object(s.a)({},e),!p&&{buttons:f.filter((function(e){return e.title.length>0}))})})),a()}),[t,a,p,f]),O=r.useCallback((function(){var e;j((function(e){return 0===e.length?[ho]:0===e[e.length-1].title.length?e:[].concat(Object(C.a)(e),[ho])})),null===u||void 0===u||null===(e=u.current)||void 0===e||e.focus()}),[j,u]),m=r.useCallback((function(e,t,n){var r=Object(C.a)(f),a=Object(s.a)(Object(s.a)({},r[n]),{},{[e]:t});r[n]=a,j(r)}),[f]),g=r.useCallback((function(e,t){return Object(i.jsxs)(w.Flex,{ml:-1,flexDirection:"row",alignItems:"flex-end",mb:3,sx:{width:"calc(100% + ".concat(o.space[1],"px)")},children:[Object(i.jsx)(w.Flex,{width:.5,px:1,children:Object(i.jsx)(x.l,{ref:u,autoFocus:!0,onChangeValue:function(e){return m("title",e,t)},value:e.title,placeholder:"Enter button title...",fullWidth:!0})}),Object(i.jsx)(w.Flex,{width:.5,pl:1,children:Object(i.jsx)(x.l,{onChangeValue:function(e){return m("payload",e,t)},value:e.payload,placeholder:"Select intent",fullWidth:!0})})]},t)}),[m,o.space]);return Object(i.jsxs)(w.Flex,{flexDirection:"column",className:"response-editor-buttons",children:[Object(i.jsxs)(w.Flex,{flexDirection:"column",px:5,pt:4,pb:7,width:480,children:[Object(i.jsxs)(w.Flex,{flexDirection:"row",mb:1,children:[Object(i.jsx)(x.y,{width:.5,variant:"bodySecondary",as:"label",fontWeight:700,mr:1,children:"Button title"}),Object(i.jsx)(x.y,{as:"label",width:.5,variant:"bodySecondary",fontWeight:700,children:Object(i.jsxs)(w.Flex,{flexDirection:"row",alignItems:"center",as:"span",children:["Payload",Object(i.jsx)(He,{ml:1,content:Object(i.jsxs)(i.Fragment,{children:["To add entities to the payload, use the"," ",Object(i.jsx)(x.d,{variant:"plain",large:!0,onClick:function(){h(),c(!0)},children:"YAML editor"})]})})]})})]}),f.map((function(e,t){return g(e,t)})),Object(i.jsxs)(x.d,{fullWidth:!0,variant:"secondaryDashed",onClick:O,large:!0,disabled:f.some((function(e){return""===e.title})),children:[Object(i.jsx)(x.j,{icon:"plus",fontSize:"16px"})," Add another button"]})]}),Object(i.jsx)(w.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_2"},children:Object(i.jsxs)(w.Flex,{px:4,py:3,flexDirection:"row-reverse",children:[Object(i.jsx)(x.d,{onClick:h,large:!0,ml:2,disabled:p,children:"Done"}),Object(i.jsx)(x.d,{onClick:function(){a(),j([ho])},large:!0,variant:"secondary",children:"Cancel"})]})})]})}function xo(e){var t=e.open,n=e.onClose,a=e.response,c=e.onUpdate,o=r.useState([]),l=Object(S.a)(o,2)[1],u=r.useState(Object(Ut.omit)(a,["id","response_name"])),d=Object(S.a)(u,2),b=d[0],f=d[1],j=r.useState(xn.a.dump(b)),p=Object(S.a)(j,2),h=p[0],O=p[1];r.useEffect((function(){O(xn.a.dump(Object(Ut.omit)(a,["id","response_name"])))}),[a]),r.useEffect((function(){try{f(xn.a.load(h)),l([])}catch(e){l((function(t){return t.filter((function(t){return t!==e.mark.line})).concat([e.mark.line])}))}}),[h,a]);var m=r.useCallback((function(){n(),O(xn.a.dump(b))}),[n,b]),g=r.useCallback((function(){c(Object(s.a)(Object(s.a)({},b),{},{id:a.id||void 0,response_name:a.response_name})),n()}),[c,n,a,b]);return Object(i.jsx)(it,{open:t,onClose:m,style:{width:"864px",height:"600px",maxWidth:"fit-content"},title:Object(i.jsxs)(w.Flex,{alignItems:"center",children:["Edit Response Text"," ",Object(i.jsx)(He,{content:Object(i.jsxs)(w.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"},children:["Edit response text and add buttons, images and more."," ",Object(i.jsx)(w.Box,{as:"a",color:"neutral_0",target:"_blank",href:"https://rasa.com/docs/rasa/core/domains/#images-and-buttons",children:"Learn more"})]})})]}),px:0,py:0,onBackgroundClick:function(){},footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{large:!0,ml:2,onClick:g,children:"Done"}),Object(i.jsx)(x.d,{large:!0,variant:"secondary",onClick:m,children:"Cancel"})]}),children:Object(i.jsxs)(w.Flex,{sx:{flexGrow:1,overflow:"auto"},children:[Object(i.jsx)(w.Box,{pt:2,width:522,style:{borderRight:"solid 1px #f2f4fa"},children:Object(i.jsx)(Ba,{language:"yaml",value:h,onChange:O})}),Object(i.jsxs)(w.Flex,{sx:{flexGrow:1,overflow:"auto"},flexDirection:"column",children:[Object(i.jsx)(x.i,{pt:3,pl:3,variant:"h5",color:"neutral_6",children:"Preview"}),Object(i.jsx)(w.Flex,{alignItems:"center",flex:1,style:{width:"264px"},mr:7,ml:6,pb:3,children:Object(i.jsx)(Tn,{data:b&&{attachment:"",buttons:b.buttons||[],image:b.image},last:!0,onMessageButtonClick:function(){},text:b&&b.text})})]})]})})}function mo(e){var t=e.onConfirm,n=e.onClose,r=e.responseName;return Object(i.jsxs)(w.Flex,{p:5,flexDirection:"column",alignItems:"start",width:412,sx:{textAlign:"left"},children:[Object(i.jsx)(x.i,{variant:"h2",mb:3,children:"Discard this response?"}),Object(i.jsxs)(w.Box,{width:1,children:[Object(i.jsxs)(x.y,{children:["Responses cannot exist without at least one response variation. Canceling this process will delete the recently created response ",Object(i.jsx)("strong",{children:r})]}),Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",mt:5,children:[Object(i.jsx)(x.d,{onClick:t,large:!0,ml:2,children:"Yes, discard"}),Object(i.jsx)(x.d,{onClick:n,large:!0,variant:"secondary",children:"No, keep creating"})]})]})]})}function go(e){var t=e.onEditResponse,n=e.response,a=e.forwardedRef,c=void 0===a?r.createRef():a,o=e.onConfirm,u=e.onCancel,d=e.confirmDiscard,b=void 0!==d&&d,f=e.persistent,j=void 0!==f&&f,p=Object(v.a)(e,["onEditResponse","response","forwardedRef","onConfirm","onCancel","confirmDiscard","persistent"]),h=r.useContext(l.ThemeContext),O=r.useState(!1),m=Object(S.a)(O,2),g=m[0],y=m[1],E=r.useState(!1),k=Object(S.a)(E,2),T=k[0],A=k[1],_=r.useState(!1),I=Object(S.a)(_,2),F=I[0],N=I[1],U=r.useState(!1),L=Object(S.a)(U,2),D=L[0],M=L[1],P=r.useCallback((function(e){t((function(t){return Object(s.a)(Object(s.a)({},t),{},{text:e})}))}),[t]);Object(R.a)(c,(function(e){g||T||F||D||!j||(e.preventDefault(),e.stopPropagation(),M(!0))}),(function(e){return Object(C.a)(e.classList).find((function(e){return e.startsWith("response-editor-")}))}));var B=r.useCallback((function(e){var r=Object(C.a)(n.buttons);if(r.length<=1){n.buttons;var a=Object(v.a)(n,["buttons"]);t(a)}else r.splice(e,1),t(Object(s.a)(Object(s.a)({},n),{},{buttons:r}))}),[t,n]);return Object(i.jsxs)(w.Flex,Object(s.a)(Object(s.a)({flexDirection:"column",sx:{backgroundColor:"neutral_1"},p:3,ref:c},p),{},{children:[Object(i.jsx)(w.Flex,{flex:"1 0 auto",sx:{height:"107px"},flexDirection:"column",children:Object(i.jsx)(x.l,{value:n.text,onChangeValue:P,onReturn:o,textarea:!0,fullWidth:!0,fullHeight:!0,affixBottom:Object(i.jsx)(w.Flex,{flexDirection:"row",pb:"16px",children:n.buttons&&n.buttons.map((function(e,t){return Object(i.jsx)(x.r,{color:"neutral_6",bg:"neutral_3",children:Object(i.jsxs)(w.Flex,{justifyContent:"center",children:[e.title,Object(i.jsx)(x.d,{variant:"plain",ml:2,color:"inherit",onClick:function(){return B(t)},children:Object(i.jsx)(x.j,{icon:"times"})})]})},t)}))}),placeholder:"Create response variation...",customPrefix:n.image?Object(i.jsxs)(w.Box,{m:2,mr:"16px",onClick:function(){n.image;var e=Object(v.a)(n,["image"]);t(e)},sx:{backgroundColor:"neutral_1",position:"relative",overflow:"hidden",width:"148px",height:"calc(100% - ".concat(2*h.space[2],"px)"),borderRadius:"normal","&:hover > .deleteDimmable":{opacity:1}},children:[Object(i.jsx)(w.Flex,{className:"deleteDimmable",flex:1,alignItems:"center",justifyContent:"center",sx:{background:"rgba(37, 45, 64, 0.8)",zIndex:2,position:"relative",height:"100%",color:"neutral_0",cursor:"pointer",transition:"all ease .2s",opacity:0},children:Object(i.jsx)(x.j,{icon:"trash-alt",fontSize:"16px"})}),Object(i.jsx)(x.k,{src:n.image,sx:{zIndex:1,width:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]}):null})}),Object(i.jsxs)(w.Flex,{mt:2,flexDirection:"row",flex:1,justifyContent:"space-between",children:[Object(i.jsxs)(w.Flex,{children:[Object(i.jsx)(Ge,{content:Object(i.jsx)(po,{response:n,onEditResponse:t,onClose:function(){return y(!1)}}),placement:"bottom-start",visible:g,onClose:function(){return y(!1)},children:Object(i.jsx)(Ue.a,{content:"Add an image to this response variation",children:Object(i.jsx)(x.d,{hover:g,variant:"icon",onClick:function(){return y((function(e){return!e}))},mr:1,active:!!n.image,children:Object(i.jsx)(x.j,{icon:"image"})})})}),Object(i.jsx)(Ge,{title:Object(i.jsx)(x.i,{variant:"h2",children:"Add buttons to this response variation"}),content:Object(i.jsx)(Oo,{response:n,onEditResponse:t,setYamlModalExpanded:N,onClose:function(){return A(!1)}}),placement:"bottom-start",visible:T,onClose:function(){return A(!1)},children:Object(i.jsx)(Ue.a,{content:"Add buttons to this response variation",children:Object(i.jsx)(x.d,{hover:T,variant:"icon",onClick:function(){return A((function(e){return!e}))},active:n.buttons&&n.buttons.length>0,mr:1,children:Object(i.jsx)(x.j,{icon:"mouse-pointer"})})})}),Object(i.jsx)(Ue.a,{content:"Edit response in YAML format",children:Object(i.jsx)(x.d,{variant:"icon",hover:F,onClick:function(){return N((function(e){return!e}))},children:Object(i.jsx)(x.j,{icon:"code"})})}),Object(i.jsx)(xo,{open:F,onClose:function(){return N(!1)},response:n,onUpdate:t})]}),Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",children:[Object(i.jsx)(x.d,{large:!0,ml:2,onClick:o,children:"Save"}),Object(i.jsx)(Ge,{content:Object(i.jsx)(mo,{responseName:n.response_name,onConfirm:function(){u(),M(!1)},onClose:function(){return M(!1)}}),offset:[0,8],onClose:function(){return M(!1)},visible:D,disabled:!b,children:Object(i.jsx)(x.d,{large:!0,variant:"secondary",onClick:function(){b?M(!0):u()},children:"Cancel"})})]})]})]}))}var vo={text:"",response_name:""};function yo(e){var t=e.response,n=e.setResponse,a=e.showResponseAdd,c=e.setShowResponseAdd,o=e.onSaveResponse,l=e.selectedTemplate,u=e.setSelectedTemplate,d=Object(v.a)(e,["response","setResponse","showResponseAdd","setShowResponseAdd","onSaveResponse","selectedTemplate","setSelectedTemplate"]),b=Object(R.d)(),f=Object(S.a)(b,2),j=f[0],p=f[1].height,h=r.useState(t),O=Object(S.a)(h,2),m=O[0],g=O[1],y=r.useMemo((function(){return""!==t.response_name}),[t.response_name]),C=r.useMemo((function(){return y?t.response_name:l}),[y,t.response_name,l]),E=r.useCallback((function(){var e=""!==m.text||m.buttons||m.image||m.elements;C&&e&&(o(Object(s.a)(Object(s.a)({},m),{},{response_name:C})),g(vo),n(vo))}),[n,o,m,g,C]),k=r.useCallback((function(){g(vo),n(vo),y&&u(null),c(!1)}),[n,g,c,u,y]);return C?Object(i.jsxs)(w.Flex,Object(s.a)(Object(s.a)({flexDirection:"column",sx:{borderBottom:"1px solid",borderColor:"neutral_3"}},d),{},{children:[Object(i.jsxs)(w.Flex,{justifyContent:"space-between",alignItems:"center",height:56,pl:4,children:[Object(i.jsxs)(x.i,{variant:"h4",children:[a?"Create a response variant":"Response variants"," for ",C]}),!y&&Object(i.jsx)(Ue.a,{maxWidth:600,content:Object(i.jsxs)(w.Box,{sx:{textAlign:"center"},children:["Add a new response variation for ",C]}),offset:[-10,0],disabled:a,children:Object(i.jsx)(x.d,{variant:"secondaryHeaderIcon",onClick:function(){return c((function(e){return!e}))},active:a,children:Object(i.jsx)(x.j,{icon:"plus",fontSize:"16px"})})})]}),Object(i.jsx)(w.Box,{sx:{transition:"all ease 0.2s",height:a?"".concat(p,"px"):0,overflow:"hidden"},children:Object(i.jsx)(go,{onEditResponse:g,onConfirm:E,onCancel:k,response:m,forwardedRef:j,confirmDiscard:y,persistent:a&&y})})]})):null}function Co(e){var t=e.response,n=e.index,a=e.highlighted,c=e.handleReset,o=e.editIndex,s=e.setEditIndex,u=e.deleteResponses,d=e.onUpdate,b=r.useRef(!0),f=r.useRef(),j=r.useContext(l.ThemeContext),p=r.useMemo((function(){return Object(Ut.omit)(t,["annotator_id","annotated_at","project_id","edited_since_last_training"])}),[t]),h=r.useState(p),O=Object(S.a)(h,2),m=O[0],g=O[1];return r.useEffect((function(){b.current?b.current=!1:c()}),[t,c,b]),t?Object(i.jsx)(w.Box,{ref:f,sx:{height:"100%"},children:o===n?Object(i.jsx)(w.Box,{sx:{width:"calc(100% + ".concat(2*j.space[4],"px)")},ml:-4,children:Object(i.jsx)(go,{onEditResponse:g,onConfirm:function(){d(m),s(null)},onCancel:function(){s(null),c()},response:m})}):Object(i.jsxs)(w.Flex,{flexDirection:"row",justifyContent:"space-between",sx:{height:"100%"},children:[Object(i.jsx)(w.Flex,{alignItems:"center",sx:{flexGrow:1},children:Object(i.jsxs)(w.Flex,{flexDirection:"row",alignItems:"center",onClick:function(e){return e.stopPropagation()},sx:{flexGrow:1},children:[t.image&&Object(i.jsx)(w.Flex,{alignItems:"center",mr:3,my:"14px",sx:{alignSelf:"flex-start",backgroundColor:a?"neutral_0":"neutral_2",flexShrink:0,width:"55px",height:"36px",borderRadius:"small",boxShadow:"0 6px 21px 0 rgba(152, 152, 152, 0.06)",overflow:"hidden"},children:Object(i.jsx)(x.k,{src:t.image})}),Object(i.jsxs)(x.y,{as:"div",py:3,mr:2,variant:"bodySecondary",sx:{display:"inline-block"},children:[t.text&&Object(i.jsx)(w.Box,{as:"span",mr:2,children:t.text}),t.buttons&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("b",{children:"Buttons: "})," ",t.buttons.map((function(e,n){var r=e.title;return"".concat(r).concat(t.buttons&&t.buttons.length!==n+1?", ":"")}))]})]})]})}),Object(i.jsxs)(w.Flex,{sx:{flexShrink:0,transition:"opacity ease .2s",opacity:a?1:0,pointerEvents:"none",".table-row:hover &":{opacity:1,pointerEvents:"auto"}},flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-start",my:"12px",children:[Object(i.jsx)(xe.a,{resource:me.d.Responses,action:me.a.Update,yes:Object(i.jsx)(Ue.a,{content:"Edit response variation",inline:!0,children:Object(i.jsx)(x.d,{mx:1,variant:"icon",onClick:function(){s(n),g(p),c()},children:Object(i.jsx)(x.j,{icon:"edit"})})})}),Object(i.jsx)(xe.a,{resource:me.d.Responses,action:me.a.Delete,yes:Object(i.jsx)(Ue.a,{content:"Delete response variation",inline:!0,children:Object(i.jsx)(x.d,{ml:1,onClick:function(){u([t])},variant:"icon",children:Object(i.jsx)(x.j,{icon:"trash-alt"})})})})]})]})}):null}function So(e){var t=e.isSearch,n=e.onAddClick,r=e.addingActive;return t?Object(i.jsx)(ga,{heading:"No results found",pt:3,pb:3,image:Oa,body:"There are no responses or variations that match that search query. Please try again"}):Object(i.jsx)(ga,{heading:"You have no responses or response variations",imageWidth:125,pb:5,image:gc,body:Object(i.jsxs)(w.Box,{width:128,children:["To learn more about responses and response variations,"," ",Object(i.jsx)(w.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:"//rasa.com/docs/rasa/core/responses/",target:"_blank",children:"go here"}),"."," "]}),actions:Object(i.jsx)(x.d,{large:!0,disabled:r,onClick:n,children:"Create new response"})})}var wo="utter_",Eo={response_name:"",text:""};function ko(e){var t=e.onDelete,n=e.onSaveResponse,a=e.onLoadSuggestions,c=e.onSearchPillClick,o=e.onSearchReturn,l=e.onSearchFocus,u=e.onSearchBlur,d=e.onUpdate,b=e.onUpdateResponseName,f=e.searchQuery,j=e.searchPill,p=e.total,h=e.groupedResponses,O=e.groupedResponseNames,m=e.responsesLoading,g=e.selectedTemplate,v=e.setSelectedTemplate,y=r.useState(null),E=Object(S.a)(y,2),k=E[0],T=E[1],R=r.useState(!1),A=Object(S.a)(R,2),_=A[0],I=A[1],F=r.useState(!1),N=Object(S.a)(F,2),U=N[0],L=N[1],D=r.useState(Eo),M=Object(S.a)(D,2),P=M[0],B=M[1];r.useEffect((function(){L(P.response_name===g),I(!1)}),[g,I,L,P.response_name]);var H=r.useMemo((function(){return""!==P.response_name?[{response_name:P.response_name,responses:[]}].concat(Object(C.a)(h)):h}),[h,P.response_name]),q=r.useMemo((function(){return""!==P.response_name?[P.response_name].concat(Object(C.a)(O)):O}),[O,P.response_name]),G=r.useCallback((function(e){var t=h.find((function(t){return t.response_name===e}));return t?t.responses.length:0}),[h]),V=r.useCallback((function(e){if(0!==e.length){var n=e[0].response_name;if(h.find((function(e){return e.response_name===n})).responses.length===e.length){var r=O.indexOf(n);r<=0&&v(null),v(O[r-1])}t(e)}}),[h,O,t,v]),z=r.useState(f),W=Object(S.a)(z,2),Y=W[0],K=W[1],Q=!j||j&&!f;return Object(i.jsx)(Kc,{children:Object(i.jsxs)(w.Box,{sx:{minWidth:"790px",width:"100%",height:"100%"},children:[Object(i.jsx)(x.t,{count:p,query:Y,label:function(e){return"Search responses..."},onChange:function(e){K(e),a(e)},onReturn:o,onFocus:l,onBlur:u,children:!Q&&Object(i.jsx)(w.Flex,{flex:1,alignItems:"center",children:Object(i.jsxs)(x.r,{bg:"primary_1",color:"neutral_0",onClick:function(){K(""),null===c||void 0===c||c()},ml:3,children:[f,Object(i.jsx)(x.j,{icon:"times",ml:2,color:"neutral_0"})]})})}),Object(i.jsx)(Yc,{data:H,list:q,listElementAddRenderer:function(e){var t=e.handleUpdate,n=e.newTabName,r=e.setEditIndex;return Object(i.jsx)(fo,{responsePrefix:wo,onClose:function(){return r(null)},template:n.replace(new RegExp("^".concat(wo),"i"),""),onSetNewTemplateName:function(e){var n="".concat(wo).concat(e);e.length>0&&-1===q.indexOf(n)&&t(n)}})},listElementRenderer:function(e){return e},listElementCount:G,groupedTotal:p,selectedListElement:g,setSelectedListElement:v,unselectGroups:_,blockGroupSelection:""!==P.response_name,dataProp:"responses",onEditListElement:b,loading:m,absolutePlaceholderPosition:0===f.length,noRowsPlaceholder:Object(i.jsx)(So,{isSearch:f.length>0,addingActive:_,onAddClick:function(){return I(!0)}}),groupsHeader:Object(i.jsx)(jo,{responsePrefix:wo,showTemplatesAdd:_,setShowTemplatesAdd:I,disableAddButton:""!==P.response_name,onSetNewTemplateName:function(e){var t="".concat(wo).concat(e);e.length>0&&-1===q.indexOf(t)&&B((function(e){return Object(s.a)(Object(s.a)({},e),{},{response_name:t})})),v(t)}}),elementsHeader:Object(i.jsx)(yo,{selectedTemplate:g||q[0],showResponseAdd:U,setShowResponseAdd:L,response:P,setResponse:B,onSaveResponse:n,setSelectedTemplate:v}),children:function(e){return Object(i.jsx)(x.g,{title:"",width:"100%",alignSelf:"stretch",children:function(t,n){var r=n.highlighted,a=n.index;return Object(i.jsx)(Co,{editIndex:k,setEditIndex:T,index:a,response:t,highlighted:r,handleReset:e,deleteResponses:V,onUpdate:d})}})}})]})})}var To=Object(l.default)(w.Box).withConfig({displayName:"TableSuggestions__SuggestionsContainer",componentId:"sc-1gy9s2n-0"})(["position:relative;width:100%;"]),Ro=Object(l.default)(w.Box).withConfig({displayName:"TableSuggestions__SuggestionsBox",componentId:"sc-1gy9s2n-1"})(["background:",";height:auto;padding-bottom:12px;width:100%;max-height:500px;overflow-y:scroll;position:absolute;z-index:3;margin-top:56px;border-radius:0 0 10px 10px;box-shadow:0px 0px 4px ",";"],Object(cr.a)("colors.neutral_0"),Object(cr.a)("colors.neutral_6")),Ao=Object(l.default)(w.Flex).withConfig({displayName:"TableSuggestions__Suggestion",componentId:"sc-1gy9s2n-2"})(["flex:1;padding-top:16px;padding-bottom:16px;cursor:pointer;&:hover,&:active,&:focus-within{","}&:last-child{border:0;}"],Ce.b),_o=Object(l.default)(x.y).withConfig({displayName:"TableSuggestions__SuggestionTextToken",componentId:"sc-1gy9s2n-3"})(["white-space:pre;font-weight:",";"],(function(e){return e.highlight?600:400}));function Io(e){var t=e.textTokens,n=e.suggestionsQuery;return Object(i.jsx)(i.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(i.jsx)(_o,{as:"span",variant:"bodySecondary",highlight:e.toLowerCase()===n.toLowerCase(),children:e},"suggestion_text_"+t)}))})}function Fo(){return Object(i.jsx)(ga,{heading:"No results found",pt:3,pb:3,image:Oa,body:"There are no responses or variations that match that search query. Please try again"})}function No(e){var t=e.suggestions,n=e.suggestionsQuery,r=e.onSuggestionClick,a=Object(v.a)(e,["suggestions","suggestionsQuery","onSuggestionClick"]),c=null===t||void 0===t?void 0:t.map((function(e,t){return Object(i.jsxs)(Ao,{px:4,bgActive:"neutral_1",style:{height:"100%"},onMouseDown:function(){null===r||void 0===r||r(e.key)},children:[Object(i.jsx)(x.j,{icon:"search",color:"neutral_6"}),Object(i.jsx)(w.Flex,{width:340,alignSelf:"stretch",px:3,children:Object(i.jsx)(x.y,{variant:"bodySecondary",children:Object(i.jsx)(Io,{suggestionsQuery:n,textTokens:e.text})})}),Object(i.jsx)(w.Flex,{flex:"1",alignSelf:"stretch",children:Object(i.jsxs)(x.y,{variant:"bodySecondary",children:['"',Object(i.jsx)(Io,{suggestionsQuery:n,textTokens:e.description}),'"']})})]},"suggestion_"+t)}));return Object(i.jsx)(To,Object(s.a)(Object(s.a)({},a),{},{children:Object(i.jsxs)(Ro,{children:[c,(!t||0===t.length)&&Object(i.jsx)(Fo,{})]})}))}function Uo(e){var t=e.total,n=e.responseNames,a=e.responseNameFilter,c=e.suggestionsQuery,o=e.suggestions,s=e.responsesLoading,l=e.suggestionsLoading,u=e.onSaveResponse,d=e.onFetchResponsesSuggestions,b=e.onFetchGroupedResponses,f=e.onUpdateResponse,j=e.onUpdateResponseName,p=e.onDeleteResponses,h=e.groupedResponses,O=Object(R.l)(),x=r.useState(!1),m=Object(S.a)(x,2),g=m[0],v=m[1],y=r.useState(null),C=Object(S.a)(y,2),E=C[0],k=C[1];r.useEffect((function(){O("view:responses:loaded")}),[O]);var T=r.useCallback((function(e){d({search:e})}),[d]),A=r.useCallback((function(e){v(!1),b({search:e,offset:0,limit:20}),k(null)}),[b]),_=!a&&c&&g&&(!l||o&&o.length>0);return Object(i.jsx)(ma.a,{title:"Responses",children:Object(i.jsxs)(w.Box,{height:"100%",width:"100%",children:[_&&Object(i.jsx)(No,{suggestions:o,suggestionsQuery:c,onSuggestionClick:A}),Object(i.jsx)(ko,{groupedResponses:h,groupedResponseNames:n,total:t,onUpdate:f,onDelete:p,onUpdateResponseName:j,searchQuery:a,searchPill:!0,onLoadSuggestions:T,onSaveResponse:u,onSearchPillClick:function(){return A("")},selectedTemplate:E,setSelectedTemplate:k,responsesLoading:s,onSearchReturn:function(e){A(e)},onSearchFocus:function(){return v(!0)},onSearchBlur:function(){v(!1)}})]})})}var Lo={onDeleteResponses:bo.a.request,onFetchGroupedResponses:bo.b.request,onFetchResponsesSuggestions:bo.c.request,onSaveResponse:bo.d.request,onUpdateResponse:bo.f.request,onUpdateResponseName:bo.g.request};var Do=Object(u.b)((function(e){return{groupedResponses:e.responses.groupedResponses,role:e.auth.role,responseNameFilter:e.responses.searchQuery,responseNames:e.responses.responseNames,total:e.responses.total,suggestionsQuery:e.responses.suggestionsQuery,suggestions:e.responses.suggestions,suggestionsLoading:e.responses.loading.fetchResponsesSuggestions,responsesLoading:e.responses.loading.fetchGroupedResponses}}),Lo)((function(e){var t=e.responseNameFilter,n=e.onFetchGroupedResponses;return r.useEffect((function(){n({search:t,offset:0,limit:20})}),[n,t]),Object(i.jsx)(Uo,Object(s.a)({},e))})),Mo=n(44);function Po(){var e=Object(F.a)(["\n  "," "," ","\n  cursor: pointer;\n  transition: all ease 0.2s;\n"]);return Po=function(){return e},e}var Bo=l.default.li(Po(),A.space,Ce.d,A.color);function Ho(e){var t=e.options;return Object(i.jsx)("ul",{style:{listStyle:"none",paddingLeft:0,textAlign:"left"},children:t.map((function(e){var t=Object(i.jsx)(Bo,{onClick:e.onClick,color:"neutral_8",children:e.label},e.label);return e.render?Object(i.jsx)("div",{children:e.render(t)},e.label):t}))})}function qo(e){var t=e.isRulesType,n=e.name,r=e.selected,a=e.totalSelected,c=e.onSingleSelect,o=e.onMultiSelect,l=Object(v.a)(e,["isRulesType","name","selected","totalSelected","onSingleSelect","onMultiSelect"]);return Object(i.jsx)("div",Object(s.a)(Object(s.a)({onClick:function(e){return c&&c(e,!r)}},l),{},{children:Object(i.jsxs)(fn,{sx:{height:"100%",cursor:"pointer",position:"relative","&:after":{content:"",width:"4px",height:"100%",position:"absolute",right:"0px",transform:"scaleY(".concat(r?1:0,")"),opacity:r?1:0,transition:"transform cubic-bezier(0.51, 0.92, 0.24, 1.15) 0.2s",bg:"primary_2"},"&:hover":{bg:"neutral_1"}},px:4,bg:r?"neutral_1":"transparent",alignItems:"center",justifyContent:"space-between",children:[Object(i.jsx)(Yt,{title:n,flex:"1",children:Object(i.jsx)(x.y,{variant:"bodySecondary",children:n})}),(a>1||1===a&&!r)&&Object(i.jsx)(ln,{show:r&&a>1,children:Object(i.jsx)(Ue.a,{content:"Compare multiple ".concat(t?"rules":"stories"),children:Object(i.jsx)(x.d,{active:r,fontSize:15,variant:"plainIcon",onClick:function(e){e.stopPropagation(),o(!r)},children:Object(i.jsx)(x.j,{icon:"sitemap"})})})})]})}))}Bo.defaultProps={px:4,py:"14px",bgHover:"neutral_1"};var Go=r.memo((function(e){var t=e.isRulesType,n=e.onLoadMoreRows,a=e.onSelect,c=e.searchQuery,o=e.selected,s=e.stories,l=e.total,u=ee().addToast,d=r.useCallback((function(e){var t=e.startIndex,r=e.stopIndex;return n?n({search:c,offset:t,limit:r-t+1}):new Promise((function(e){return e()}))}),[c,n]),b=r.useCallback((function(e){var n=e.key,r=e.index,c=e.style,l=s[r];return l?Object(i.jsx)(qo,{isRulesType:t,name:l.name,selected:o.indexOf(r)>=0,totalSelected:o.length,onSingleSelect:function(e,t){e.ctrlKey?a(t?[].concat(Object(C.a)(o),[r]):o.filter((function(e){return e!==r}))):e.shiftKey?u({key:"no-shift-select",head:"Good idea!",content:"We don't support Shift select just yet - try using Ctrl for now."}):a([r])},onMultiSelect:function(e){return a(e?[].concat(Object(C.a)(o),[r]):o.filter((function(e){return e!==r})))},style:c},n):null}),[t,s,o,a,u]);return Object(i.jsx)(zt.a,{children:function(e){return Object(i.jsx)(zt.e,{isRowLoaded:function(e){var t=e.index;return void 0!==s[t]},loadMoreRows:d,rowCount:l,children:function(t){var n=t.onRowsRendered,r=t.registerChild;return Object(i.jsx)(zt.f,{ref:r,onRowsRendered:n,height:e.height,width:e.width-1,overscanRowCount:20,rowCount:l,rowHeight:48,rowRenderer:b})}})}})}));function Vo(e){var t=e.story,n=e.onCancelAdd,a=e.onSave,c=e.onDelete,o=e.format,l=void 0===o?"yaml":o,u=e.isRulesType,d=ee().addToast,b=r.useState(t.story),f=Object(S.a)(b,2),j=f[0],p=f[1];r.useLayoutEffect((function(){p(t.story)}),[t.story]);var h=r.useMemo((function(){if("name"in t&&j.length===t.story.length)return t.name;if("yaml"===l){var e=/^\s*- (story|rule): (.+)/gm.exec(j);return null===e?null:e[2]}var n=/^\s*#+ (.+)/gm.exec(j);return null===n?null:n[1]}),[l,t,j]),O=r.useCallback((function(){"id"in t||n(),p(t.story)}),[n,t]),m="markdown"===l,g=r.useCallback((function(){return a(Object(s.a)(Object(s.a)({},t),{},{story:j}),m)}),[m,a,t,j]),v=r.useCallback((function(){return"id"in t&&c(t)}),[c,t]),y=r.useCallback((function(e){"Tab"!==e.key&&(d({content:"You can edit the title of the ".concat(u?"rule":"story"," from within the ").concat(m?"markdown":"yaml"),key:"EditStoryTitle"}),e.preventDefault())}),[d,m,u]);return Object(i.jsxs)(w.Flex,{style:{height:"100%"},flexDirection:"column",children:[Object(i.jsx)(mn.a,{flex:"0 0 48px",bottom:!0,children:Object(i.jsxs)(w.Flex,{style:{height:"100%"},px:4,alignItems:"center",children:[Object(i.jsx)(x.i,{sx:{cursor:"default",caretColor:"transparent"},contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:y,variant:"h4",children:h||""}),Object(i.jsxs)(w.Flex,{flex:"1",flexDirection:"row-reverse",mr:-1,alignItems:"center",children:["id"in t&&Object(i.jsx)(xe.a,{resource:me.d.Stories,action:me.a.Delete,yes:Object(i.jsx)(Ue.a,{content:"Delete ".concat(u?"rule":"story"),children:Object(i.jsx)(x.d,{mx:1,variant:"icon",onClick:v,disabled:!h,children:Object(i.jsx)(x.j,{icon:"trash-alt"})})})}),(!("id"in t)||j!==t.story)&&Object(i.jsx)(xe.a,{resource:me.d.Stories,action:me.a.Update,yes:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ue.a,{content:"A ".concat(u?"rule":"story"," needs a name before it can be saved"),disabled:!!h,children:Object(i.jsx)(x.d,{mx:1,variant:"primary",onClick:g,disabled:!h||0===j.length,children:"Save"})}),Object(i.jsx)(x.d,{mx:1,variant:"secondary",onClick:O,children:"Cancel"})]})})]})]})}),Object(i.jsx)(w.Box,{flex:"1",style:{overflow:"auto "},children:Object(i.jsx)(Ba,{value:j,onChange:p,language:"markdown"})})]})}var zo=n(417),Wo=n(753),Yo=n.n(Wo),Ko=n(754),Qo=n.n(Ko),Xo=n(92),Zo=n(384);n(147);function Jo(e){var t=e.onReset,n=e.onZoomIn,r=e.onZoomOut;return Object(i.jsxs)(w.Flex,{flexDirection:"column",width:"40px",children:[t&&Object(i.jsx)(w.Card,{bg:"neutral_0",sx:{borderRadius:"normal",boxShadow:"0 2px 6px 0 rgba(42, 51, 72, 0.22)",overflow:"hidden"},mb:3,children:Object(i.jsx)(Ue.a,{content:"Reset zoom and panning",placement:"left",children:Object(i.jsx)(x.d,{onClick:t,variant:"icon",block:!0,children:Object(i.jsx)(x.j,{icon:"location"})})})}),Object(i.jsx)(w.Card,{sx:{borderRadius:"normal",boxShadow:"0 2px 6px 0 rgba(42, 51, 72, 0.22)",overflow:"hidden"},bg:"neutral_0",children:Object(i.jsxs)(w.Flex,{flexDirection:"column",children:[Object(i.jsx)(w.Box,{children:Object(i.jsx)(Ue.a,{content:"Zoom in",placement:"left",children:Object(i.jsx)(x.d,{onClick:n,variant:"icon",block:!0,children:Object(i.jsx)(x.j,{icon:"plus"})})})}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(Ue.a,{content:"Zoom out",placement:"left",children:Object(i.jsx)(x.d,{onClick:r,variant:"icon",block:!0,children:Object(i.jsx)(x.j,{icon:"minus"})})})})]})})]})}function $o(){var e=Object(F.a)(["\n  position: absolute;\n  bottom: 24px;\n  right: 24px;\n"]);return $o=function(){return e},e}function es(){var e=Object(F.a)(["\n  background: linear-gradient(90deg, "," 6px, transparent 1%) center,\n    linear-gradient("," 6px, transparent 1%) center,\n    ",";\n  background-size: 8px 8px;\n\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n\n  & g.edgePath {\n    & .path {\n      stroke: ",";\n    }\n    & marker {\n      fill: ",";\n    }\n  }\n\n  & g.node {\n    & .label-container {\n      filter: drop-shadow(0 5px 10px rgba(153, 165, 214, 0.38));\n      fill: ",";\n      stroke-width: 1;\n      stroke: ",";\n    }\n\n    & .label {\n      font-size: 11px;\n      fill: ",";\n    }\n\n    &.intent {\n      & .label-container {\n        fill: ",";\n        stroke: ",";\n      }\n      & .label {\n        fill: ",";\n      }\n    }\n\n    &.start .label-container,\n    &.end .label-container {\n      fill: ",";\n    }\n  }\n"]);return es=function(){return e},e}var ts=l.default.svg(es(),Object(cr.b)("colors.neutral_0"),Object(cr.b)("colors.neutral_0"),(function(e){return Object(ae.e)(.39,Object(cr.b)("colors.neutral_5")(e))}),Object(cr.b)("colors.neutral_5"),Object(cr.b)("colors.neutral_5"),Object(cr.b)("colors.neutral_1"),Object(cr.b)("colors.neutral_4"),Object(cr.b)("colors.neutral_8"),Object(cr.b)("colors.primary_3"),Object(cr.b)("colors.primary_2"),Object(cr.b)("colors.neutral_0"),Object(cr.b)("colors.neutral_0")),ns=l.default.div($o());function rs(e){var t=e.speed,n=void 0===t?250:t,a=e.dot,c=e.width,o=e.height,u=r.useContext(l.ThemeContext),d=r.useState(null),b=Object(S.a)(d,2),f=b[0],j=b[1],p=u.radii.normal.replace("px",""),h=r.useState(null),O=Object(S.a)(h,2),m=O[0],g=O[1],v=r.useState(null),y=Object(S.a)(v,2),C=y[0],E=y[1],k=r.useState(null),T=Object(S.a)(k,2),R=T[0],A=T[1],_=r.useCallback((function(e){return g(Xo.k(e))}),[]),I=r.useCallback((function(e){return E(Xo.k(e))}),[]);r.useEffect((function(){if(C&&a){var e=new Qo.a.render;try{var t=Yo.a.read(a);t.setGraph({nodesep:32,ranksep:32}),t.nodes().forEach((function(e){var n=t.node(e);""===n.class&&(n.class="action");var r,a=n.class.split(" ");(a.includes("start")||a.includes("end"))&&(n=Object(s.a)(Object(s.a)({},n),{},{label:(r=n.label,r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()),shape:"circle",height:30,width:30})),"rect"!==n.shape&&void 0!==n.shape||(n=Object(s.a)(Object(s.a)({},n),{},{ry:p,rx:p})),t.setNode(e,n)})),e(C,t),j(!1)}catch(n){j(!0)}A(a)}}),[C,a,p]);var F=r.useMemo((function(){return C?Zo.a().on("zoom",(function(){return C.attr("transform",Xo.e.transform)})):null}),[C]),N=r.useCallback((function(e){return function(){if(F&&m){var t=e>0?e:1/Math.abs(e);F.scaleBy(m.transition().duration(n),t)}}}),[n,F,m]),U=r.useMemo((function(){return R&&C&&m?function(e,t){var n=e.getBoundingClientRect(),r=n.width,a=n.height,c=t.getBBox(),o=c.width,s=c.height,i=(r-o)/2,l=s>a?16:(a-s)/2;return Zo.b.translate(i,l)}(m.node(),C.node()):null}),[m,C,R]),L=r.useCallback((function(){U&&m&&F&&F.transform(m.transition().duration(n),U)}),[n,F,m,U]);return r.useEffect((function(){m&&F&&U&&(m.call(F),m.call(F.transform,U))}),[U,m,F]),Object(i.jsxs)(w.Box,{style:{height:"100%"},children:[!0===f&&Object(i.jsx)(x.a,{variant:"error",children:Object(i.jsx)(x.y,{variant:"metadata",lineHeight:"initial",inheritColor:!0,children:"This visualization cannot be rendered."})}),Object(i.jsx)(ts,{style:{visibility:!0===f?"hidden":"visible"},ref:_,width:c,height:o,children:Object(i.jsx)("g",{ref:I})}),Object(i.jsx)(ns,{children:Object(i.jsx)(Jo,{onReset:L,onZoomIn:N(1.3),onZoomOut:N(-1.3)})})]})}var as={markdown:"## Untitled Story",yaml:"stories:\n- story: Untitled Story\n  steps:\n  - "},cs="rules:\n- rule: Untitled Rule\n  steps:\n  - ";function os(e){var t=e.onDeleteStory,n=e.onDownloadStories,a=e.onFetchStories,c=e.onFetchVisualization,o=e.onLoadMoreRows,s=e.onSaveStory,l=e.onUpdateStory,u=e.onReplaceStories,b=e.searchQuery,f=e.stories,j=e.total,p=e.visualization,h=e.isRulesType,O=Object(R.l)(),m=r.useState(!1),g=Object(S.a)(m,2),v=g[0],y=g[1],E=r.useState("yaml"),k=Object(S.a)(E,2),T=k[0],A=k[1];r.useEffect((function(){O(h?"view:rules:loaded":"view:stories:loaded")}),[h,O]);var _=Object(d.g)().push,I=r.useCallback((function(e){a({search:e,offset:0,limit:20}),L([0])}),[a]);r.useEffect((function(){I(b)}),[I,b]);var F=r.useState([0]),N=Object(S.a)(F,2),U=N[0],L=N[1];r.useEffect((function(){var e=function(e){return"Escape"===e.key&&L([0])};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var D=r.useState(f[U[0]]),M=Object(S.a)(D,2),P=M[0],B=M[1];r.useEffect((function(){if(P&&"filename"in P&&P.filename){var e=".md"===Object(St.b)(null===P||void 0===P?void 0:P.filename)?"markdown":"yaml";A(e)}}),[P]);var H=r.useCallback((function(){L(U.slice(0,1))}),[U]);r.useEffect((function(){if(0!==Object.keys(f).length||v){if(Object.keys(f).length>0&&U.length>0){var e=U.map((function(e){return f[e].id}));c(e),1===U.length?B(f[U[0]]):B(null)}}else B(null)}),[v,c,U,f]);var q=r.useCallback((function(e,t){return y(!1),"id"in e?l({story:e,isMarkdown:t}):(L([0]),s({story:e,isMarkdown:t}))}),[l,s]),G=r.useCallback((function(e){return j<=1?B(null):L([0]),t(e)}),[t,j]),V=r.useCallback((function(){L([0]),y(!1)}),[]),z=r.useState(!1),W=Object(S.a)(z,2),Y=W[0],K=W[1],Q=r.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yaml";K(!1),U.length>0?(y(!0),B({story:h?cs:as[e]}),A(e),L([]),c([])):V()}),[V,h,c,U.length]),X=r.useCallback((function(){return Q()}),[Q]),Z=r.useCallback((function(e){var t=e.target.files&&e.target.files[0];if(t){var n=new FileReader;n.onload=function(){"string"===typeof n.result&&u({stories:n.result,fileName:t.name}),K(!1)},n.readAsText(t)}}),[u]),J=[{label:"Create new ".concat(h?"rule":"story"),onClick:function(){return Q()}}].concat(Object(C.a)(h?[]:[{label:"Create new story (Markdown)",onClick:function(){return Q("markdown")}}]),[{label:"Create with interactive learning",onClick:function(){return _("/interactive/strict")}},{label:"Upload ".concat(h?"rules":"stories"),render:function(e){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(w.Box,{as:"label",htmlFor:"stories-upload-handler",children:e}),Object(i.jsx)(w.Box,{as:"input",id:"stories-upload-handler",accept:".json, .md, .yaml, .yml",type:"file",onChange:Z,sx:{display:"none"}})]})}}]),$=[Object(i.jsx)(xe.a,{resource:h?me.d.Rules:me.d.Stories,action:me.a.Create,yes:Object(i.jsx)(Ge,{content:Object(i.jsx)(Ho,{options:J}),offset:[0,8],visible:Y,onClose:function(){return K(!1)},children:Object(i.jsx)(x.d,{variant:"headerIcon",active:Y,onClick:function(){return K((function(e){return!e}))},children:Object(i.jsx)(x.j,{icon:"plus"})})})}),Object(i.jsx)(xe.a,{resource:h?me.d.Rules:me.d.Stories,action:me.a.Read,yes:Object(i.jsx)(Ue.a,{content:"Export ".concat(h?"rules":"stories"),children:Object(i.jsx)(x.d,{variant:"headerIcon",onClick:n,children:Object(i.jsx)(x.j,{icon:"arrow-to-bottom"})})})})],ee=Object(i.jsx)(mn.a,{sx:{height:"100%"},left:!0,children:Object(i.jsx)(zo.a,{style:{height:"100%"},resource:h?me.d.Rules:me.d.Stories,total:j,searchQuery:b,onSearch:I,buttons:$})}),te=U.length>1,ne=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(mn.a,{right:!0,flex:"0 0 300px",children:Object(i.jsx)(Go,{isRulesType:h||!1,total:j,stories:f,searchQuery:b,selected:U,onSelect:L,onLoadMoreRows:o})}),P&&Object(i.jsx)(mn.a,{right:!0,sx:{overflow:"hidden"},flex:"1",children:Object(i.jsx)(Vo,{story:P,onSave:q,onCancelAdd:V,onDelete:G,format:T,isRulesType:h||!1})}),0!==j&&""!==p&&Object(i.jsxs)(w.Flex,{flexDirection:"column",flex:"1",children:[Object(i.jsx)(mn.a,{flex:"0 0 48px",bottom:!0,children:Object(i.jsxs)(w.Flex,{sx:{height:"100%"},px:4,alignItems:"center",children:[te&&Object(i.jsx)(x.j,{mr:2,color:"neutral_6",icon:"sitemap",fontSize:"16px"}),Object(i.jsx)(w.Box,{flex:"1",children:Object(i.jsx)(x.i,{variant:"h4",children:te?"Compare":"Flow"})}),te&&Object(i.jsx)(x.d,{variant:"plainIcon",onClick:H,children:Object(i.jsx)(x.j,{icon:"times",fontSize:"16px"})})]})}),Object(i.jsx)(ha,{message:"Visualization has failed. Please refresh the page.",children:Object(i.jsx)(rs,{dot:p,width:"100%",height:"100%"})})]})]}),re=Object(i.jsx)(ga,{heading:"You have no ".concat(h?"rules":"stories"," yet!"),body:Object(i.jsxs)(i.Fragment,{children:["To learn more about ",h?"rules":"stories",", go"," ",Object(i.jsx)(w.Box,{as:"a",color:"primary_1",style:{textDecoration:"none"},href:h?"//rasa.com/docs/rasa/rules/":"//rasa.com/docs/rasa/stories/",target:"_blank",children:"here"}),"."," "]}),image:gc,actions:Object(i.jsxs)(x.d,{onClick:X,large:!0,children:["Create new ",h?"rule":"story"]})});return Object(i.jsx)(ma.a,{title:Object(i.jsx)(w.Box,{width:251,children:h?"Rules":"Stories"}),content:ee,noPadding:!0,children:Object(i.jsx)(w.Flex,{bg:"neutral_0",style:{height:"100%",overflow:"hidden"},children:0!==j||v?ne:re})})}var ss={onFetchStories:Mo.f.request,onFetchVisualization:Mo.g.request,onChangeStorySelection:Mo.c,onChangeStory:Mo.b,onUpdateStory:Mo.j.request,onSaveStory:Mo.i.request,onDeleteStory:Mo.d.request,onDownloadStories:Mo.e,onReplaceStories:Mo.h.request};var is=Object(u.b)((function(e){return{stories:e.rules.rules,selectedStories:e.rules.selectedRules,searchQuery:e.rules.searchQuery,role:e.auth.role,total:e.rules.total,visualization:e.rules.visualization}}),ss)((function(e){return Object(i.jsx)(cc.a,{listener:g.b,start:Object(ac.getType)(Mo.f.request),resolve:Object(ac.getType)(Mo.f.success),reject:Object(ac.getType)(Mo.f.failure),children:function(t){return Object(i.jsx)(os,Object(s.a)(Object(s.a)({},e),{},{isRulesType:!0,onLoadMoreRows:t}))}})})),ls={onFetchStories:Ht.f.request,onFetchVisualization:Ht.g.request,onChangeStorySelection:Ht.c,onChangeStory:Ht.b,onUpdateStory:Ht.m.request,onSaveStory:Ht.i.request,onDeleteStory:Ht.d.request,onDownloadStories:Ht.e,onReplaceStories:Ht.h.request};var us=Object(u.b)((function(e){return{stories:e.stories.stories,selectedStories:e.stories.selectedStories,searchQuery:e.stories.searchQuery,role:e.auth.role,total:e.stories.total,visualization:e.stories.visualization}}),ls)((function(e){return Object(i.jsx)(cc.a,{listener:g.b,start:Object(ac.getType)(Ht.f.request),resolve:Object(ac.getType)(Ht.f.success),reject:Object(ac.getType)(Ht.f.failure),children:function(t){return Object(i.jsx)(os,Object(s.a)(Object(s.a)({},e),{},{onLoadMoreRows:t}))}})}));function ds(e){var t=e.config,n=e.error,a=e.onSave,c=Object(R.l)();r.useEffect((function(){c("view:config:loaded")}),[c]);var o=r.useState(t),s=Object(S.a)(o,2),l=s[0],u=s[1],b=r.useState(n),f=Object(S.a)(b,2),j=f[0],p=f[1],h=ee().addToast;r.useEffect((function(){j&&h({head:j.name,content:j.message,variant:"error"})}),[j,h]),r.useEffect((function(){u(t)}),[t]),r.useEffect((function(){p(n)}),[n]);var O=l!==t;return Object(i.jsx)(ma.a,{title:Object(i.jsxs)(w.Flex,{alignItems:"center",children:["Model Configuration"," ",Object(i.jsx)(He,{content:Object(i.jsxs)(w.Box,{style:{cursor:"default",maxWidth:"240px",textAlign:"left"},children:["Edit the"," ",Object(i.jsx)(w.Box,{as:"a",color:"neutral_0",target:"_blank",href:"http://yaml.org/start.html",children:"yaml"})," ","configuration file for your Rasa model. You can learn more about the available options in"," ",Object(i.jsx)(w.Box,{as:"a",color:"neutral_0",target:"_blank",href:"https://rasa.com/docs/",children:"the Rasa documentation"})]})})]}),scrollable:!0,rightContent:Object(i.jsx)(xe.a,{resource:me.d.Models,attributes:["settings"],action:me.a.Update,yes:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{onClick:function(){u(t)},variant:"secondary",large:!0,mr:2,disabled:!O,children:"Discard"}),Object(i.jsx)(x.d,{onClick:function(){a(l)},large:!0,mr:3,disabled:!O,children:"Save changes"})]})}),children:Object(i.jsxs)(w.Box,{children:[O&&Object(i.jsx)(d.a,{message:"Are you sure you want to navigate away before saving the new configuration file?"}),Object(i.jsx)(x.e,{p:4,sx:{boxShadow:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",border:0,borderRadius:"large"},children:Object(i.jsx)(Ba,{language:"yaml",value:l,onChange:function(e){return u(e)}})})]})})}var bs={onFetchConfig:Ra.a.request,onSave:Ra.d.request};var fs=Object(u.b)((function(e){return{config:e.projects.config,error:e.projects.error}}),bs)((function(e){var t=e.onFetchConfig,n=Object(v.a)(e,["onFetchConfig"]);return r.useEffect((function(){t()}),[t]),Object(i.jsx)(ds,Object(s.a)({},n))})),js=n(115),ps=Object(Nt.a)([function(e){return e.models}],(function(e){var t=Object.keys(e).find((function(t){return e[t].tags.some((function(e){return"production"===e||"Active"===e}))}));return t?e[t]:null})),hs=(Object(Nt.a)([function(e){return e.evaluation},function(e){return e.confusionValues},function(e){return e.evaluationFilter}],(function(e,t,n){if(!e)return[];var r=e.intent_evaluation.predictions;if(!n)return[];var a=Object(S.a)(n,2),c=a[0],o=a[1],s=t[c],i=t[o];return r.filter((function(e){return e.intent===s&&e.predicted===i}))})),Object(Nt.a)([function(e){return e.loading},function(e){return e.parsedMessage},function(e){return e.predictedActions}],(function(e,t,n){return e.parseMessage||e.confirmPrediction||e.saveEvent?js.a.Loading:t?js.a.ClassifyingIntent:n.length>0?js.a.ConfirmingAction:js.a.Ready}))),Os=n.p+"static/media/chat_placeholder.af401b9d.svg";function xs(e){var t=e.conversationId,n=Object(u.c)(),a=Object(u.d)((function(e){return e.interactiveLearning.parsedMessage})),c=Object(u.d)((function(e){return e.examples.intents})),o=r.useCallback((function(e){n(Pt.k.request({conversationId:t,event:{event:"user",text:e.user_input.text,parse_data:e.user_input}}))}),[n,t]),l=r.useCallback((function(e){return a&&n(Object(Pt.b)(Object(s.a)(Object(s.a)({},a),{},{user_input:Object(s.a)(Object(s.a)({},a.user_input),{},{intent:e})})))}),[n,a]),d=r.useCallback((function(){return n(Object(Pt.a)())}),[n]);return a?Object(i.jsxs)(w.Flex,{mt:1,flex:"0 0 72px",children:[Object(i.jsx)(mn.a,{top:!0,width:.5,children:Object(i.jsx)(w.Flex,{ml:4,style:{height:"100%"},alignItems:"center",children:Object(i.jsx)(x.y,{variant:"bodySecondary",children:a.user_input.text})})}),Object(i.jsx)(w.Flex,{flex:"1",children:Object(i.jsx)(tn,{autoFocus:!0,block:!0,fullHeight:!0,intent:a.user_input.intent.name,intents:c,onChange:l,onReturn:function(){return a.user_input.intent.name&&o(a)},onEscape:d,rankedIntents:a.user_input.intent_ranking,fullWidth:!0})}),Object(i.jsx)(x.d,{onClick:function(){return a.user_input.intent.name&&o(a)},active:!0,variant:"headerIcon",children:Object(i.jsx)(x.j,{icon:"check-circle"})})]}):null}var ms=function(){return{text:"",id:k()()}};function gs(e){var t=e.value,n=e.onChange,r=Object(S.a)(t,3),a=r[0],c=r[1],o=r[2],l=c.length>0?c:[ms()];return Object(i.jsx)(q.d,{children:Object(i.jsxs)(q.a,{width:504,style:{height:"374px",overflow:"auto"},children:[Object(i.jsx)(nt.a,{text:"Action name",children:Object(i.jsxs)(q.d,{alignItems:"center",children:[Object(i.jsx)(q.a,{sx:{maxWidth:o?0:"100px",transition:"all ease 0.1s"},children:Object(i.jsx)(x.y,{mr:1,children:"utter_"})}),Object(i.jsx)(q.a,{children:Object(i.jsx)(x.l,{placeholder:"Response name",fullWidth:!0,value:a.name,onChangeValue:function(e){return n([Object(s.a)(Object(s.a)({},a),{},{name:e}),c,o])}})})]})}),Object(i.jsxs)(q.d,{mt:3,as:"label",flexDirection:"row",alignItems:"start",children:[Object(i.jsx)(x.f,{mt:"2px",mr:2,checked:o,onChange:function(){n([a,[],!o])}}),Object(i.jsxs)(x.y,{as:"span",variant:"bodySecondary",style:{display:"inline-flex"},children:["This is a custom action",o&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("br",{}),"Your action server needs to implement this custom action."]})]})]}),!o&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.v,{mt:5,mb:4}),Object(i.jsx)(q.a,{children:Object(i.jsx)(nt.a,{text:"Response Text",children:l.map((function(e,t){return Object(i.jsxs)(q.d,{mb:3,children:[Object(i.jsx)(x.l,{value:e.text,onChangeValue:function(t){return n([a,l.map((function(n){return n.id===e.id?Object(s.a)(Object(s.a)({},n),{},{text:t}):n})),!1])},placeholder:"Add response text",fullWidth:!0}),t<c.length-1?Object(i.jsx)(x.d,{variant:"icon",onClick:function(){return n([a,c.filter((function(t){return t.id!==e.id})),!1])},children:Object(i.jsx)(x.j,{icon:"times"})}):Object(i.jsx)(x.d,{variant:"icon",onClick:function(){return n([a,[].concat(Object(C.a)(c),[ms()]),!1])},children:Object(i.jsx)(x.j,{icon:"plus"})})]},e.id)}))})})]})]})})}function vs(e){var t=e.action,n=e.actions,a=e.onChange,c=Object(v.a)(e,["action","actions","onChange"]),o=n.map((function(e){return{label:e.action,value:e.action,data:e}})),l=t&&o.find((function(e){return e.value===t.action})),u=r.useCallback((function(e){return e&&!Array.isArray(e)&&a(e.data)}),[a]);return Object(i.jsx)(x.u,Object(s.a)({prefix:Object(i.jsx)("b",{children:"Next Action: "}),value:l,items:o,onChange:u},c))}function ys(e){var t=e.conversationId,n=Object(u.c)(),a=Object(u.d)((function(e){return e.interactiveLearning.predictedAction})),c=Object(u.d)((function(e){return e.interactiveLearning.predictedActions})),o=r.useCallback((function(e){return n(Object(Pt.c)(e))}),[n]),l=r.useCallback((function(e){return n(Pt.f.request({conversationId:t,confirmedAction:e}))}),[n,t]),d=r.useCallback((function(e){return n(Pt.g.request(e))}),[n]),b=r.useState(!1),f=Object(S.a)(b,2),j=f[0],p=f[1],h=r.useState([{name:""},[],!1]),O=Object(S.a)(h,2),m=O[0],g=O[1],v=r.useCallback((function(){p(!1),g([{name:""},[],!1])}),[p,g]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(w.Flex,{style:{height:"72px"},children:[Object(i.jsx)(w.Box,{flex:"1",children:Object(i.jsx)(vs,{action:a,actions:c,autoFocus:!0,block:!0,fullWidth:!0,height:"72px",onChange:o,onCreate:function(){return p(!0)},onReturn:function(){return a&&l(a)}})}),Object(i.jsx)(x.d,{variant:"headerIcon",active:!0,onClick:function(){return a&&l(a)},children:Object(i.jsx)(x.j,{icon:"check-circle"})})]}),Object(i.jsx)(it,{open:j,onClose:v,title:"Create new action",footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.d,{large:!0,onClick:function(){var e=Object(S.a)(m,3),n=e[0],r=e[1],a=e[2];d({action:Object(s.a)(Object(s.a)({},n),{},{name:a?n.name:"utter_".concat(n.name)}),responses:r,conversationId:t}),v()},disabled:""===m[0].name||m[2]&&m[0].name.startsWith("utter_"),children:"Create Action"}),Object(i.jsx)(x.d,{variant:"secondary",large:!0,mr:2,onClick:v,children:"Cancel"})]}),children:Object(i.jsx)(gs,{value:m,onChange:function(e){return g(e)}})})]})}function Cs(e){var t=e.onSendMessage,n=Object(u.c)(),a=Object(u.d)((function(e){return e.interactiveLearning.strictMode})),c=r.useCallback((function(e){return n(Pt.d(e))}),[n]),o=r.useCallback((function(e){null!==e&&c("false"!==e)}),[c]);return Object(R.j)("strict",o),Object(i.jsx)(w.Card,{sx:{borderTop:"1px solid",borderColor:"neutral_4"},children:Object(i.jsxs)(w.Flex,{children:[Object(i.jsx)(w.Box,{flex:"1",children:Object(i.jsx)(Bn,{onSendMessage:t})}),Object(i.jsx)(w.Box,{children:Object(i.jsx)(Ue.a,{content:a?"Switch off interactive learning mode and talk to your bot normally.":"Switch on interactive learning mode to validate every step of the conversation. Guide your bot as it classifies and responds to your messages.",children:Object(i.jsx)(x.d,{variant:"headerIcon",active:a,onClick:function(){return c(!a)},children:Object(i.jsx)(x.j,{icon:"highlighter"})})})})]})})}function Ss(e){var t=e.conversationId,n=e.chatState,r=e.onSendMessage;if(!t)return null;switch(n){case js.a.Loading:return Object(i.jsx)(w.Card,{sx:{height:"72px",borderTop:"1px solid",borderColor:"neutral_4"},children:Object(i.jsx)(Zt,{})});case js.a.ClassifyingIntent:return Object(i.jsx)(xs,{conversationId:t});case js.a.ConfirmingAction:return Object(i.jsx)(ys,{conversationId:t});default:return Object(i.jsx)(Cs,{onSendMessage:r})}}function ws(e){var t=e.awaitingResponse,n=e.conversationEvents,a=e.conversationId,c=e.environment,o=e.loading,s=e.onClearStory,l=e.onCreateConversation,b=e.onUndoConversation,f=e.onFetchEntities,j=e.onFetchIntents,p=e.onFetchModels,h=e.onParseMessage,O=e.onSaveStory,g=e.onSendMessage,v=e.onStartPolling,y=e.onStopPolling,C=e.savedStoryId,S=e.storyName,E=e.strictMode,k=e.onSaveE2ETest,T=e.saveE2ETestLoading,A=e.activeGitRepository,_=ee().addToast,I=Object(R.l)(),F=Object(u.c)();r.useEffect((function(){I("view:interactive:loaded")}),[I]),r.useEffect((function(){a&&F(Ft.p.request({conversationId:a}))}),[n,a,F]),r.useEffect((function(){j(),f()}),[j,f]),r.useEffect((function(){p({search:"",offset:0,limit:0,tag:"production"})}),[p]),r.useEffect((function(){!o.saveStory&&C&&_({content:"Story saved"})}),[o.saveStory,C,_]);var N=Object(u.d)((function(e){return hs(e.interactiveLearning)})),U=Object(u.d)((function(e){return!ps(e.models)})),L=Object(d.g)().push;r.useEffect((function(){null==a&&l({data:{interactive:!0}})}),[a,l]),r.useEffect((function(){return a?(v({conversationId:a,environment:c}),function(){return y()}):function(){}}),[a,c,v,y]);var D=r.useMemo((function(){return function(e){if(E)"/restart"===e?s():h(e);else{if(!a)return;g({senderId:a,text:e,environment:c})}}}),[s,h,g,E,a,c]),M=a&&n[a]||[];return Object(i.jsx)(ma.a,{title:"Talk to your bot (Interactive Learning)",noPadding:!0,children:Object(i.jsx)(w.Card,{sx:{height:"100%",borderTop:"1px solid",borderColor:"neutral_5"},children:U?Object(i.jsx)(ga,{heading:"There are no active models",body:m.a?"To try out your assistant, train a model and promote it to production":"To try out your assistant, train a model and make it active",image:fc,actions:Object(i.jsx)(x.d,{onClick:function(){return L("/models")},large:!0,children:"View models"}),bg:"neutral_0"}):Object(i.jsxs)(w.Flex,{bg:"neutral_0",sx:{height:"100%"},flexDirection:"row",children:[Object(i.jsx)(w.Card,{width:.5,sx:{borderRight:"1px solid",borderColor:"neutral_4"},children:a&&Object(i.jsxs)(w.Flex,{flexDirection:"column",sx:{height:"100%"},children:[Object(i.jsx)(w.Box,{flex:"1",sx:{overflow:"auto"},children:Object(i.jsx)(Hn,{awaitingResponse:t,username:a,conversation:M,placeholder:Object(i.jsx)(ga,{heading:"Interactive Learning",body:"Talk to your assistant and hit the strict mode button to validate\u2028 every step of the conversation.",image:Os}),onUndoMessage:function(e){b({createPayload:{data:{conversation_id_to_copy_from:a,interactive:!0,until:e},strictMode:E},events:M})},userAvatar:Object(i.jsx)(x.j,{icon:["fas","user"]}),noInteract:!0,onSendMessage:N===js.a.Ready?D:void 0})}),Object(i.jsx)(Ss,{chatState:N,conversationId:a,onSendMessage:D})]})}),Object(i.jsx)(w.Box,{width:.5,sx:{overflow:"hidden"},children:Object(i.jsx)(lr,{activeGitRepository:A,saveE2ETestLoading:T,onSaveE2ETest:k,editable:!0,onClearStory:s,onSaveStory:O,storyName:S,conversation:M})})]})})})}var Es={onClearStory:Pt.e,onCreateConversation:Pt.h.request,onUndoConversation:Pt.l,onFetchEntities:Bt.f.request,onFetchIntents:Bt.i.request,onFetchModels:je.f.request,onParseMessage:Pt.j.request,onSaveStory:Ht.i.request,onSendMessage:Ft.y.request,onStartPolling:Ft.A,onStopPolling:Ft.B,onSaveE2ETest:Ft.w.request};var ks=Object(u.b)((function(e){return{awaitingResponse:e.messages.awaitingResponse,conversationEvents:e.messages.conversationEvents,conversationId:e.interactiveLearning.conversationId,environment:e.interactiveLearning.environment,loading:e.interactiveLearning.loading,savedStoryId:e.interactiveLearning.savedStoryId,storyName:e.interactiveLearning.storyName,strictMode:e.interactiveLearning.strictMode,saveE2ETestLoading:e.messages.loading.e2eTest,activeGitRepository:e.gitRepositories.activeGitRepository}}),Es)((function(e){return Object(i.jsx)(ws,Object(s.a)({},e))})),Ts=n(280);function Rs(e){var t,n=e.suggestion,r=e.onDelete,a=e.onMarkCorrect,c=e.hasIntent,o=e.highlight,s=e.buttonVariant,l=void 0===s?"icon":s,u=e.canCreate,d=e.canDelete,b=c||!!(null===n||void 0===n||null===(t=n.user_input.intent)||void 0===t?void 0:t.name),f=(null===n||void 0===n?void 0:n.conversation_id)&&(null===n||void 0===n?void 0:n.event_id),j="context"===o,p="delete"===o,h="correct"===o;return Object(i.jsx)("div",{className:"inbox-table",children:Object(i.jsxs)(w.Flex,{flexDirection:"row-reverse",alignItems:"flex-start",sx:{visibility:o?"visible":"hidden",".table-row:hover &":{visibility:"visible"}},children:[d&&Object(i.jsx)(Ue.a,{content:"Delete",children:Object(i.jsx)(x.d,{mx:1,onClick:function(){r(n)},hover:p,variant:l,children:Object(i.jsx)(x.j,{icon:"trash-alt"})})}),u&&Object(i.jsx)(Ue.a,{content:b?"Mark Correct":"You need to define an intent before marking this correct",children:Object(i.jsx)(x.d,{mx:1,onClick:function(){a(n)},disabled:!b,hover:h,variant:l,children:Object(i.jsx)(x.j,{icon:"check-circle"})})}),n&&f&&Object(i.jsx)(Ue.a,{content:"See Conversation Context",children:Object(i.jsx)(x.d,{as:"a",target:"_blank",href:"/conversations/".concat(n.conversation_id,"#").concat(n.event_id),rel:"noopener,noreferrer",mx:1,hover:j,variant:l,onClick:function(){},children:Object(i.jsx)(x.j,{icon:"comments"})})})]})})}var As=r.memo(Rs);function _s(e){var t=e.intents,n=e.suggestion,a=e.onChangeIntent,c=e.onDelete,o=e.onMarkCorrect,s=r.useCallback((function(e){return a(n,e)}),[a,n]);return n?Object(i.jsx)(w.Flex,{width:"100%",alignItems:"flex-start",children:Object(i.jsx)(tn,{intent:n.user_input.intent.name,rankedIntents:n.user_input.intent_ranking,onChange:s,intents:t,onReturn:function(){return o(n)},onEscape:function(){return c(n)},fullWidth:!0})}):null}var Is=r.memo(_s);function Fs(e){var t=e.suggestion,n=e.onChange,a=e.onFetchSynonymByMappedValue,c=Object(v.a)(e,["suggestion","onChange","onFetchSynonymByMappedValue"]),o=r.useCallback((function(e,r){return n(Object(s.a)(Object(s.a)({},t),{},{user_input:Object(s.a)(Object(s.a)({},t.user_input),{},{text:e,entities:r})}))}),[t,n]);return Object(i.jsx)(Ac,Object(s.a)({onPopupShow:function(){return a({suggestionId:t.id,entities:t.user_input.entities})},text:t.user_input.text,entities:t.user_input.entities,onChange:o},c))}function Ns(e){var t=e.collapsed,n=e.onCollapse,r=e.entityTypes,a=e.selected,c=e.suggestion,o=e.synonyms,s=e.onChange,l=e.onChangeSelected,u=e.onFetchSynonymByMappedValue;return c?Object(i.jsxs)(w.Flex,{alignItems:"center",justifyContent:"space-between",children:[Object(i.jsx)(w.Box,{as:"label",flex:"0 0 auto",width:"32px",children:Object(i.jsx)(x.f,{checked:a,onChange:function(e){return l("shiftKey"in e&&e.shiftKey)}})}),Object(i.jsx)(w.Box,{flex:"1 1 auto",alignSelf:"flex-start",pr:"1",children:Object(i.jsx)(ha,{children:Object(i.jsx)(Fs,{suggestion:c,onChange:s,entityTypes:r,synonyms:o,onFetchSynonymByMappedValue:u,collapsed:t,onCollapse:n})})})]}):null}var Us=r.memo(Ns);function Ls(e){var t=e.entityTypes,n=e.fetchSynonym,a=e.highlightedRow,c=e.setHighlightedRow,o=e.intents,s=e.items,l=e.loadMore,u=e.metadata,d=e.acceptInboxItem,b=e.deleteInboxItem,f=e.updateInboxItem,j=e.updateIntent,p=e.updateItemSelection,h=e.synonyms,O=Object(R.g)(me.d.Examples,me.a.Create),m=Object(R.g)(me.d.Logs,me.a.Delete),g=r.useCallback((function(e,r){var a=r.index,c=r.metadata.selectedItemsIndices,o=r.collapsed,s=r.onCollapse;return Object(i.jsx)(Us,{collapsed:o,entityTypes:t,onChange:f,onChangeSelected:function(e){return p(a,e)},onCollapse:s,onFetchSynonymByMappedValue:n,selected:c.includes(a),suggestion:e,synonyms:h})}),[t,h,f,p,n]);return Object(i.jsxs)(x.x,{variant:"flattened",rows:s,total:s.length,metadata:u,onLoadMore:l,highlight:a,getKey:function(e){return e.id},setHighlightedRow:c,stripeSelection:!0,children:[Object(i.jsx)(x.g,{title:"Sentence",width:"50%",children:g}),Object(i.jsx)(x.g,{title:"Predicted Intent and Confidence",width:"35%",children:function(e){return Object(i.jsx)(Is,{suggestion:e,intents:o,onChangeIntent:j,onDelete:b,onMarkCorrect:d},e.id)}}),Object(i.jsx)(x.g,{width:"15%",children:function(e,t){var n=t.highlighted,r=t.metadata.highlightAction;return Object(i.jsx)(As,{suggestion:e,highlight:n&&(r||"hover")||void 0,onDelete:b,onMarkCorrect:d,canCreate:O,canDelete:m})}})]})}var Ds=r.memo(Ls);function Ms(e){var t=e.sortBy,n=e.sortOrder,r=e.updateSorting,a=e.onClick,c=Object(R.p)(!1),o=Object(S.a)(c,2),s=o[0],l=o[1],u=function(e,t,n){return Object(i.jsxs)(w.Flex,{width:"100%",alignItems:"center",sx:{"&:hover":{bg:"neutral_1"}},children:[Object(i.jsx)(w.Box,{ml:4,width:"13px",children:t&&Object(i.jsx)(x.j,{icon:["fas","check"],color:"primary_2",width:"13px"})}),Object(i.jsxs)(x.y,{width:1,as:"div",variant:"bodySecondary",lineHeight:"48px",pl:3,pr:4,children:[e,n&&Object(i.jsx)(x.y,{as:"span",display:"inline",pl:1,color:"neutral_6",children:"(default)"})]})]})},d=[{label:"Sort by:",customLabel:function(e){return Object(i.jsx)(x.y,{width:1,as:"div",variant:"bodySecondary",fontWeight:"bold",sx:{cursor:"auto"},lineHeight:"48px",px:4,children:"Sort by:"})}},{label:"Newest first",action:function(){r("time","desc")},customLabel:function(e){return u("Newest first","time"===t&&"desc"===n,!0)}},{label:"Oldest first",action:function(){r("time","asc")},customLabel:function(e){return u("Oldest first","time"===t&&"asc"===n)}},{label:"Confidence - low to high",action:function(){r("confidence","asc")},customLabel:function(e){return u("Confidence - low to high","confidence"===t&&"asc"===n)}},{label:"Confidence - high to low",action:function(){r("confidence","desc")},customLabel:function(e){return u("Confidence - high to low","confidence"===t&&"desc"===n)}}];return Object(i.jsx)(Dr,{animation:"shift-toward",offset:[0,-8],options:d,onClose:l,visible:s,children:Object(i.jsx)(x.d,{variant:"headerIcon",onClick:function(){l(),a&&a()},active:s,children:Object(i.jsx)(x.j,{icon:["fal","sort-amount-down"]})})})}var Ps=r.memo(Ms);function Bs(e){var t=e.checked,n=e.item,a=e.onChange,c=r.useCallback((function(){return a(n)}),[n,a]);return Object(i.jsx)(w.Box,{as:"label",width:"25%",sx:{display:"block",marginBottom:"16px"},children:Object(i.jsxs)(x.w,{spacing:12,children:[Object(i.jsx)(x.f,{onChange:c,checked:t}),Object(i.jsx)(x.y,{children:n})]})},n)}var Hs=r.memo(Bs);function qs(e){var t=e.show,n=e.items,a=e.label,c=e.selected,o=e.onCancel,s=e.onApply,l=r.useState(c),u=Object(S.a)(l,2),d=u[0],b=u[1];r.useEffect((function(){t||b(c)}),[t,c]);var f=r.useCallback((function(e){b((function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))}),[b]);return Object(i.jsx)(x.h,{height:"455px",show:t,overlay:!0,children:Object(i.jsxs)(w.Flex,{height:"100%",flexDirection:"column",py:3,sx:{backgroundColor:"neutral_0",boxShadow:"rgba(37, 49, 70, 0.3) 0px 2px 6px 0px"},children:[Object(i.jsxs)(x.i,{variant:"h4",px:4,children:[a," (",n.length,")"]}),Object(i.jsx)(w.Flex,{flexWrap:"wrap",sx:{overflowY:"scroll",padding:"24px"},children:n.map((function(e){return Object(i.jsx)(Hs,{item:e,onChange:f,checked:d.has(e)},e)}))}),Object(i.jsx)(x.v,{}),Object(i.jsx)(w.Box,{px:4,pt:3,alignSelf:"flex-end",children:Object(i.jsxs)(x.w,{spacing:8,children:[Object(i.jsx)(x.d,{onClick:o,variant:"secondary",large:!0,children:"Cancel"}),Object(i.jsx)(x.d,{onClick:function(){return s(d)},large:!0,children:"Apply Filters"})]})})]})})}var Gs=n(758);function Vs(e){var t=e.label,n=e.pluralLabel,a=e.total,c=e.onClearSelection,o=e.children,s=r.useContext(l.ThemeContext),u=1===a?t:n;return Object(i.jsxs)(w.Flex,{width:"100%",height:"64px",color:"neutral_0",backgroundColor:"primary_2",justifyContent:"space-between",alignItems:"center",pl:4,pr:Object(Gs.a)()+s.space[4]+"px",sx:{position:"absolute",top:"56px",left:0,zIndex:1},children:[Object(i.jsxs)(w.Flex,{width:.5,children:[Object(i.jsx)(w.Box,{as:"label",flex:"0 0 auto",width:"32px",children:Object(i.jsx)(x.f,{checked:!0,partial:!0,variant:"primary",onChange:c})}),Object(i.jsx)(w.Box,{flex:"1 1 auto",alignSelf:"flex-start",children:Object(i.jsxs)(x.y,{variant:"inverse",children:[a," ",u]})})]}),o]})}function zs(e){var t=e.intent,n=e.total,r=e.onClearSelection,a=e.onDelete,c=e.onMarkCorrect,o=e.onChangeIntent,s=e.intents,l=Object(R.g)(me.d.Examples,me.a.Create),u=Object(R.g)(me.d.Logs,me.a.Delete);return Object(i.jsxs)(Vs,{label:"item selected",pluralLabel:"items selected",total:n,onClearSelection:r,children:[Object(i.jsx)(w.Box,{width:"35%",children:Object(i.jsx)(w.Flex,{width:"100%",alignItems:"flex-start",children:Object(i.jsx)(tn,{intent:t||"Multiple intents selected",onChange:o,intents:s,fullWidth:!0,variant:"inverse"})})}),Object(i.jsx)(w.Box,{width:"15%",children:Object(i.jsx)(As,{highlight:"hover",hasIntent:!0,onDelete:a,onMarkCorrect:c,canCreate:l,canDelete:u,buttonVariant:"iconInverse"})})]})}var Ws={fetchInboxItems:ge.d.request,fetchEntityTypes:Bt.f.request,fetchIntents:Bt.i.request,fetchSynonyms:Dc.b.request,fetchSynonym:ge.e.request,updateInboxItem:ge.a,acceptInboxItem:Bt.m.request,deleteInboxItem:ge.c.request};var Ys=Object(u.b)((function(e){return{items:e.suggestions.suggestions,intents:e.examples.intents,entityTypes:e.examples.entityTypes,synonyms:e.synonyms.synonyms,total:e.suggestions.total,searchQuery:e.suggestions.searchQuery}}),Ws)((function(e){var t=e.fetchInboxItems,n=e.fetchEntityTypes,a=e.fetchIntents,c=e.fetchSynonyms,o=e.fetchSynonym,l=e.updateInboxItem,u=e.acceptInboxItem,d=e.deleteInboxItem,b=e.items,f=e.intents,j=e.entityTypes,p=e.synonyms,h=e.total,O=e.searchQuery,m=r.useState("time"),g=Object(S.a)(m,2),v=g[0],C=g[1],E=r.useState("desc"),k=Object(S.a)(E,2),T=k[0],A=k[1],_=Z().currentOnboardingStep,I=r.useCallback((function(e){e&&u(e)}),[u]),F=r.useCallback((function(e){e&&d(e)}),[d]),N=r.useState(O),U=Object(S.a)(N,2),L=U[0],D=U[1];Object(R.b)((function(){L===O&&"nlu_message_annotated"!==_||t({search:L,offset:0,limit:50,sortBy:v,sortOrder:T})}),200,[t,O,L,v,T,_]);var M=r.useCallback((function(e){t({search:O,offset:Math.max(1,e-50),limit:e,sortBy:v,sortOrder:T})}),[t,O,v,T]);r.useEffect((function(){n()}),[n]),r.useEffect((function(){a()}),[a]),r.useEffect((function(){c({search:""})}),[c]);var P=r.useCallback((function(e,t){return l(Object(s.a)(Object(s.a)({},e),{},{user_input:Object(s.a)(Object(s.a)({},e.user_input),{},{intent:t})}))}),[l]),B=Object(R.k)(b),H=B.updateItemSelection,q=B.clearItemSelection,G=B.idArray,V=B.selectedItems,z=B.selectedItemsIndices,W=r.useMemo((function(){var e=null;if(0!==V.size){var t,n=Object(y.a)(V);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,c=null===(r=b[G.indexOf(a)])||void 0===r?void 0:r.user_input.intent.name;if(null===e)e=c;else if(c!==e)return null}}catch(o){n.e(o)}finally{n.f()}}return e}),[V,G,b]),Y=z.length>0,K=Object(R.p)(!1),Q=Object(S.a)(K,2),X=Q[0],J=Q[1],$=r.useCallback((function(){I(z.map((function(e){return b[e]}))),q()}),[z,q,b,I]),ee=r.useCallback((function(){F(z.map((function(e){return b[e]}))),q()}),[z,q,b,F]),te=r.useCallback((function(e){z.forEach((function(t){P(b[t],e)}))}),[z,b,P]),ne=r.useState(0),re=Object(S.a)(ne,2),ae=re[0],ce=re[1],oe=Object(R.o)(200),se=Object(S.a)(oe,2),ie=se[0],le=se[1],ue=Object(R.o)(200),de=Object(S.a)(ue,2),be=de[0],fe=de[1],je=Object(R.o)(200),pe=Object(S.a)(je,2),he=pe[0],Oe=pe[1],xe=(ie?"correct":he&&"context")||be&&"delete"||void 0;Object(Ts.a)("j",(function(){return ce((function(e){return Math.min(e+1,b.length)}))}),[b]),Object(Ts.a)("k",(function(){return ce((function(e){return Math.max(e-1,0)}))}),[]),Object(Ts.a)("s",(function(){return le((function(){return I(b[ae])}))}),[le,I,b,ae]),Object(Ts.a)("d",(function(){return fe((function(){return F(b[ae])}))}),[fe,F,b,ae]),Object(Ts.a)("c",(function(){return Oe((function(){var e=b[ae];e.conversation_id&&e.event_id&&Object(St.c)("/conversations/".concat(e.conversation_id,"#").concat(e.event_id))}))}),[Oe,F,b,ae]);var me=r.useState(new Set),ge=Object(S.a)(me,2),ve=ge[0],ye=ge[1],Ce=r.useMemo((function(){return{highlightAction:xe,selectedItemsIndices:z}}),[xe,z]),Se=r.useCallback((function(e){return"Search ".concat(e," items")}),[]),we=r.useCallback((function(e){ye(e),ce(0);var t=Array.from(e);D(t.length?"intent:".concat(t.join(",")):"")}),[ye,D]);Object(R.b)((function(){var e=O.match(/intent:([^\s]*)/);if(e){var t=Object(S.a)(e,2)[1];ye((function(){return new Set(t.split(","))}))}}),200,[O,ve,ye]);var Ee=Object(i.jsx)(x.d,{variant:"headerIcon",onClick:J,active:X,children:Object(i.jsx)(x.j,{icon:"sliders-h"})}),ke=Object(i.jsx)(Ps,{sortBy:v,sortOrder:T,updateSorting:function(e,n){C(e),A(n),ce(0),t({search:L,offset:0,limit:50,sortBy:e,sortOrder:n})},onClick:function(){return X&&J()}});return Object(i.jsx)(Kc,{children:Object(i.jsxs)(w.Box,{sx:{minWidth:"790px",width:"100%",height:"100%"},children:[Object(i.jsx)(x.t,{buttons:[ke,Ee],count:h,query:L,label:Se,onChange:D}),Object(i.jsx)(w.Flex,{sx:{position:"absolute",top:"72px",left:0,zIndex:1},width:"100%",children:Object(i.jsx)(qs,{items:f,label:"Intents",selected:ve,onApply:function(e){we(e),J()},onCancel:J,show:X})}),Y&&Object(i.jsx)(zs,{intent:W,total:z.length,onClearSelection:q,onDelete:ee,onMarkCorrect:$,onChangeIntent:te,intents:f}),Object(i.jsx)(Ds,{entityTypes:j,fetchSynonym:o,highlightedRow:ae,setHighlightedRow:ce,intents:f,items:b,loadMore:M,metadata:Ce,acceptInboxItem:I,deleteInboxItem:F,updateInboxItem:l,updateIntent:P,updateItemSelection:H,synonyms:p})]})})}));function Ks(e){return Object(i.jsx)(ma.a,{title:"NLU Inbox",noPadding:!0,children:Object(i.jsx)(w.Box,{height:"100%",width:"100%",px:7,pt:10,children:Object(i.jsx)(Ys,{})})})}Object(x.C)();var Qs=m.a&&O()({loader:function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,1896))},loading:function(e){return Object(i.jsx)(Zt,Object(s.a)(Object(s.a)({},e),{},{pt:7,children:"Loading Analytics"}))}}),Xs=m.a&&O()({loader:function(){return n.e(5).then(n.bind(null,1895))},loading:function(e){return Object(i.jsx)(Zt,Object(s.a)(Object(s.a)({},e),{},{pt:7,children:"Loading Roles"}))}}),Zs=m.a&&O()({loader:function(){return n.e(6).then(n.bind(null,1897))},loading:function(e){return Object(i.jsx)(Zt,Object(s.a)(Object(s.a)({},e),{},{pt:7,children:"Loading Users"}))}}),Js=Object(f.createBrowserHistory)({basename:""}),$s=Object(g.a)(Js),ei=$s.store,ti=$s.persistor,ni=Object(l.default)(j.BaseModalBackground).attrs((function(){return{"data-e2e":"ModalBackground"}})).withConfig({displayName:"App__StyledModalBackground",componentId:"t51pt2-0"})(["z-index:110;opacity:0;transition:all cubic-bezier(0.46,0.1,0.52,0.98) 250ms;"]);function ri(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(le,{}),Object(i.jsx)(u.a,{store:ei,children:Object(i.jsx)(b.a,{persistor:ti,children:Object(i.jsx)(be,{children:Object(i.jsx)(d.d,{history:Js,children:Object(i.jsx)(x.z,{children:Object(i.jsx)(l.ThemeProvider,{theme:x.D,children:Object(i.jsx)(ne,{children:Object(i.jsx)(X,{children:Object(i.jsx)($,{children:Object(i.jsx)(j.ModalProvider,{backgroundComponent:ni,children:Object(i.jsxs)(d.e,{children:[Qs&&Object(i.jsx)(It,{authRequired:!0,path:"/analytics",component:Qs}),Object(i.jsx)(It,{authRequired:!0,path:"/interactive",component:ks}),Object(i.jsx)(d.b,{from:"/talk",to:"/interactive"}),Object(i.jsx)(It,{authRequired:!0,path:"/conversations/:conversationId?/:timestamp?",component:Ta}),Object(i.jsx)(It,{authRequired:!0,path:"/nlu-inbox",component:Ks}),Object(i.jsx)(It,{authRequired:!0,path:"/data",component:uo}),Object(i.jsx)(It,{authRequired:!0,path:"/models",component:hc}),Object(i.jsx)(It,{authRequired:!0,path:"/responses",component:Do}),Object(i.jsx)(It,{authRequired:!0,path:"/config",component:fs}),Object(i.jsx)(It,{authRequired:!0,path:"/domain",component:Ga}),Object(i.jsx)(It,{authRequired:!0,path:"/rules",component:is}),Object(i.jsx)(It,{authRequired:!0,path:"/stories",component:us}),Zs&&Object(i.jsx)(It,{authRequired:!0,path:"/users",component:Zs}),Xs&&Object(i.jsx)(It,{authRequired:!0,path:"/roles",component:Xs}),Object(i.jsx)(d.b,{from:"/data/settings",to:"/config"}),Object(i.jsx)(d.c,{path:"/guest/conversations/:environment/:chatToken",component:rc}),Object(i.jsx)(d.c,{path:"/login",component:Qa}),Object(i.jsx)(d.c,{path:"/enterprise-login/:singleUseToken",component:Qa}),Object(i.jsx)(d.b,{to:"/conversations"})]})})})})})})})})})})})]})}var ai=document.getElementById("root");ai&&o.a.render(r.createElement(ri),ai)},148:function(e,t,n){"use strict";var r=n(14),a=n(4),c=n(20),o=Object(r.default)(a.Flex).withConfig({displayName:"Menu",componentId:"hqn2o1-0"})([""," list-style:none;"],c.height);o.defaultProps={as:"ul",m:0,pl:0,flexDirection:"row"},t.a=o},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(7),a=n(28);function c(e){var t=e.response;if(!t)return Object(r.c)();if(401===t.status&&t.data.reasons){var n=t.data.reasons;if(n.includes("Signature has expired."))return Object(r.f)(Object(a.h)("Authentication token expired"));if(n.includes("Auth required."))return Object(r.f)(Object(a.h)("Authentication token invalid"))}return Object(r.c)()}},201:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(2),a=n(15),c=n(8),o=n(0),s=n(14),i=n(1),l=n(61),u=(n(640),n(42)),d=n(35),b=n(4);function f(){var e=Object(d.a)(["\n  &:after {\n    content: '';\n    opacity: 0.9;\n    background-color: #f6f7fb;\n    position: absolute;\n    width: 100%;\n    height: 100vw;\n    z-index: 99;\n    top: 100%;\n  }\n"]);return f=function(){return e},e}function j(){var e=Object(d.a)(["\n  transition: filter 0.2s linear;\n  filter: brightness(1);\n  background-color: #fffffe; /* Slightly off-white so it is always darkened by the filter*/\n"]);return j=function(){return e},e}var p=Object(s.css)(j()),h=(Object(s.css)(f()),n(23)),O=n(417),x=n(165),m=n.n(x),g=n(41),v=n(3);function y(e){var t=e.actions,n=e.onChangeSelected,r=e.resource,a=e.selected,c=e.total;return Object(o.jsxs)(b.Flex,{bg:"primary_2",width:"100%",alignItems:"center",alignSelf:"stretch",children:[Object(o.jsx)(b.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"0 1 auto",children:Object(o.jsxs)(b.Flex,{alignItems:"center",children:[Object(o.jsx)(b.Box,{flex:"0 1 auto",mr:3,children:Object(o.jsx)("label",{children:Object(o.jsx)(v.f,{variant:"primary",checked:!0,partial:a<c,onChange:function(){return n([])}})})}),Object(o.jsx)(b.Box,{flex:"1",children:Object(o.jsxs)(v.y,{variant:"bodySecondary",fontWeight:1,color:"neutral_0",children:[Object(g.toLower)(Object(g.startCase)(m()(r.toString(),a,!0)))," selected"]})})]})}),Object(o.jsx)(b.Box,{flex:"1 0"}),Object(o.jsx)(b.Box,{className:"ReactVirtualized__Table__rowColumn",flex:"0 1 auto",children:t})]})}function C(e){var t=e.add,n=e.tableDimensions,a=e.adding,c=e.bulkActions,s=e.buttons,u=void 0===s?[]:s,d=e.disableLabels,f=e.filters,j=void 0===f?function(){return null}:f,p=e.filtersOpen,x=e.highlightAddRenderer,m=e.onChangeFiltersOpen,g=e.onChangeSelected,v=e.onSearch,C=e.onSearchPillClick,S=e.onSearchReturn,w=e.onSearchFocus,E=e.onSearchBlur,k=e.onSetAdding,T=e.quickFilters,R=e.resource,A=e.suggestionsQuery,_=e.searchQuery,I=void 0===_?"":_,F=e.searchPill,N=void 0!==F&&F,U=e.selected,L=e.title,D=e.total,M=e.hideTotal,P=Object(h.a)(e,["add","tableDimensions","adding","bulkActions","buttons","disableLabels","filters","filtersOpen","highlightAddRenderer","onChangeFiltersOpen","onChangeSelected","onSearch","onSearchPillClick","onSearchReturn","onSearchFocus","onSearchBlur","onSetAdding","quickFilters","resource","suggestionsQuery","searchQuery","searchPill","selected","title","total","hideTotal"]),B=P.className,H=P.style,q=i.useCallback((function(e){return U.length>0?Object(o.jsx)(b.Box,Object(r.a)(Object(r.a)({},e),{},{style:Object(r.a)(Object(r.a)({},e.style),{},{height:"64px"}),children:Object(o.jsx)(y,{total:D,selected:U.length,onChangeSelected:g,resource:R,actions:c})})):t&&a?Object(o.jsx)(b.Box,Object(r.a)(Object(r.a)({},e),{},{style:Object(r.a)(Object(r.a)(Object(r.a)({},x&&{backgroundColor:"#F6F7FB"}),e.style),{},{height:"auto",minHeight:e.style.height,overflow:"visible"},d?{position:"absolute",top:"unset",zIndex:1,display:"flex"}:{}),children:t((function(){return k(!1)}),n)})):d?null:Object(l.h)(e)}),[U,D,g,R,c,t,n,a,k,d,x]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(O.a,{adding:a,buttons:u,className:B,filters:j,filtersOpen:p,onChangeFiltersOpen:m,onSearch:v,onSearchPillClick:C,onSearchReturn:S,onSearchFocus:w,onSearchBlur:E,resource:R,suggestionsQuery:A,searchQuery:I,searchPill:N,setAdding:t&&k,style:Object(r.a)(Object(r.a)({},H),{},{height:56}),title:L,total:D,hideTotal:M,quickFilters:T,quickFiltersStyle:Object(r.a)(Object(r.a)({},H),{},{height:"auto"})}),Object(o.jsx)(q,Object(r.a)(Object(r.a)({},P),{},{style:Object(r.a)(Object(r.a)({},H),{},{height:64}),className:"".concat(P.className," ReactVirtualized__Dimmable").concat(p?"_Dim":"")}))]})}var S=i.memo(Object(s.default)(l.g).withConfig({displayName:"Table__StyledTable",componentId:"sc-1s86f98-0"})(["& .ReactVirtualized{&__Dimmable{&,&_Dim{","}&_Dim{filter:brightness(0.5);}}&__Table{&__header{&Row{&:first-of-type{border-radius:"," "," 0 0;}padding:0 !important;background-color:",";text-transform:none;}&TruncatedText{text-transform:none;font-size:","px;color:",";}}&__headerRow,&__row{background-color:",";box-sizing:border-box;border:1px solid transparent;border-bottom:1px solid ",";&:focus-within{border:1px solid ",";}}&__Grid{background-color:",";outline:none;border-radius:0 0 "," ",";}&__headerColumn:first-of-type,&__rowColumn:first-of-type{margin-left:","px;}&__headerColumn:last-of-type,&__rowColumn:last-of-type{margin-right:","px;}&__row{transition:all ease 0.2s;&ColumnOnHover{visibility:hidden;}&Column_overflow{overflow:visible !important;}&:hover{background-color:",";}&_focused{background-color:"," !important;}&_focused,&:hover{& .ReactVirtualized__Table__rowColumnOnHover{visibility:visible;}}}}}"],p,Object(u.b)("radii.large"),Object(u.b)("radii.large"),Object(u.b)("colours.neutral_0"),Object(u.b)("fontSizes.2"),Object(u.b)("colours.neutral_8"),Object(u.b)("colours.neutral_0"),Object(u.b)("colours.neutral_2"),Object(u.b)("colours.primary_2"),Object(u.b)("colours.neutral_1"),Object(u.b)("radii.large"),Object(u.b)("radii.large"),Object(u.b)("space.4"),Object(u.b)("space.4"),Object(u.b)("colours.neutral_1"),Object(u.b)("colours.neutral_0")));function w(e){var t=e.addRenderer,n=e.autoHeight,s=e.bulkActionsRenderer,u=e.buttons,d=void 0===u?[]:u,b=e.children,f=e.clearCache,j=e.data,p=e.deferredMeasurementCache,h=e.disableDimmable,O=e.disableHeader,x=e.disableLabels,m=e.filtersRenderer,g=e.focused,v=e.gridStyle,y=e.groupedTotal,w=e.headerHeight,E=e.headerStyle,k=e.highlightAddRenderer,T=e.noRowsRenderer,R=e.onLoadMoreRows,A=e.onSearch,_=e.onSearchPillClick,I=e.onSearchReturn,F=e.onSearchFocus,N=e.onSearchBlur,U=e.overscanRowCount,L=e.quickFilters,D=e.resource,M=e.rowHeight,P=e.rowStyle,B=e.suggestionsQuery,H=e.searchQuery,q=e.searchPill,G=e.scrollToIndex,V=e.title,z=e.total,W=e.hideTotal,Y=e.forwardedRef,K=i.useRef(null),Q=i.useState(!1),X=Object(c.a)(Q,2),Z=X[0],J=X[1],$=i.useState([]),ee=Object(c.a)($,2),te=ee[0],ne=ee[1],re=i.useState(!1),ae=Object(c.a)(re,2),ce=ae[0],oe=ae[1],se=i.useCallback((function(e,t){ne((function(n){return t?[].concat(Object(a.a)(n),[e]):n.filter((function(t){return t!==e}))}))}),[ne]),ie=i.useMemo((function(){return te.map((function(e){return j[e]}))}),[te,j]),le=i.useCallback((function(e){var t=e.startIndex,n=e.stopIndex;return R?R({search:H||"",offset:t,limit:n-t+1}):new Promise((function(e){return e()}))}),[H,R]),ue=i.useCallback((function(){K.current&&K.current.resetLoadMoreRowsCache()}),[K]),de=i.useMemo((function(){return s&&s({setSelected:ne,selected:te,dataSelected:ie})}),[s,ne,te,ie]),be=i.useMemo((function(){return void 0!==w?w:(L?56:0)+(A||de?56:0)+64}),[w,L,A,de]),fe=i.useMemo((function(){return h||!ce&&!Z?"ReactVirtualized__Dimmable":"ReactVirtualized__Dimmable_Dim"}),[h,ce,Z]),je=i.useCallback((function(){return T&&T(ce,oe)}),[T,ce,oe]);return Object(o.jsx)(l.a,{onResize:f,children:function(e){return Object(o.jsx)(l.e,{isRowLoaded:function(e){var t=e.index;return void 0!==j[t]},loadMoreRows:le,rowCount:z,ref:K,children:function(a){var c=a.onRowsRendered,s=a.registerChild;return Object(o.jsx)(S,Object(r.a)(Object(r.a)({},e),{},{gridStyle:v,disableHeader:!!O,headerHeight:be,rowHeight:M||64,ref:Y||s,rowGetter:function(e){var t=e.index;return j[t]},rowCount:z,scrollToIndex:G,overscanRowCount:U,autoHeight:n,onRowsRendered:c,noRowsRenderer:je,gridClassName:fe,rowClassName:function(e){var t=e.index;return te.includes(t)?"ReactVirtualized__Table__row_selected":g===t?"ReactVirtualized__Table__row_focused":void 0},rowStyle:function(e){var t=e.index;return E&&-1===t?E:P&&-1!==t?P({index:t}):void 0},headerRowRenderer:function(n){return Object(o.jsx)(C,Object(r.a)({add:t,tableDimensions:e,bulkActions:de,buttons:d,highlightAddRenderer:k,filters:m,filtersOpen:Z,onChangeFiltersOpen:J,onChangeSelected:ne,onSearch:A,onSearchPillClick:_,onSearchReturn:I,onSearchFocus:F,onSearchBlur:N,quickFilters:L,resource:D,suggestionsQuery:B,searchQuery:H,searchPill:q,selected:te,title:V,total:y||z,hideTotal:W,adding:ce,disableLabels:x,onSetAdding:oe},n))},children:b({onChangeSelected:se,selected:te,dataSelected:ie,onResetCache:ue,cache:p})}))}})}})}},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5),a=Object(r.createAsyncAction)("FETCH ANALYTICS","FETCH ANALYTICS SUGGEST","FETCH ANALYTICS FAILURE")();Object(r.createStandardAction)("SET ANALYTICS RANGE")()},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5),a=Object(r.createAsyncAction)("FETCH VERSION","FETCH VERSION SUCCESS","FETCH VERSION FAILURE")()},21:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"m",(function(){return i})),n.d(t,"l",(function(){return l})),n.d(t,"o",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"p",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"n",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return m}));var r=n(5),a=Object(r.createAsyncAction)("FETCH EXAMPLES","FETCH EXAMPLES SUCCESS","FETCH EXAMPLES FAILURE")(),c=Object(r.createAsyncAction)("FETCH EXAMPLE","FETCH EXAMPLE SUCCESS","FETCH EXAMPLE FAILURE")(),o=Object(r.createAsyncAction)("FETCH INTENTS","FETCH INTENTS SUCCESS","FETCH INTENTS FAILURE")(),s=Object(r.createAsyncAction)("SAVE EXAMPLE","SAVE EXAMPLE SUCCESS","SAVE EXAMPLE FAILURE")(),i=Object(r.createAsyncAction)("SAVE EXAMPLE FROM SUGGESTION","SAVE EXAMPLE FROM SUGGESTION SUCCESS","SAVE EXAMPLE FROM SUGGESTION FAILURE")(),l=Object(r.createAsyncAction)("SAVE EXAMPLE FROM CORRECTION","SAVE EXAMPLE FROM CORRECTION SUCCESS","SAVE EXAMPLE FROM CORRECTION FAILURE")(),u=Object(r.createAsyncAction)("UPDATE EXAMPLE","UPDATE EXAMPLE SUCCESS","UPDATE EXAMPLE FAILURE")(),d=Object(r.createAsyncAction)("DELETE EXAMPLE","DELETE EXAMPLE SUCCESS","DELETE EXAMPLE FAILURE")(),b=Object(r.createAsyncAction)("UPLOAD EXAMPLES","UPLOAD EXAMPLES SUCCESS","UPLOAD EXAMPLES FAILURE")(),f=Object(r.createAsyncAction)("FETCH WARNINGS","FETCH WARNINGS SUCCESS","FETCH WARNINGS FAILURE")(),j=Object(r.createAsyncAction)("FETCH ENTITY TYPES","FETCH ENTITY TYPES SUCCESS","FETCH ENTITY TYPES FAILURE")(),p=Object(r.createAsyncAction)("CHECK DRAFT EXAMPLE","CHECK DRAFT EXAMPLE SUCCESS","CHECK DRAFT EXAMPLE FAILURE")(),h=Object(r.createStandardAction)("DOWNLOAD EXAMPLES")(),O=Object(r.createStandardAction)("SEARCH EXAMPLES")(),x=Object(r.createStandardAction)("CHANGE EXAMPLE")(),m=Object(r.createStandardAction)("CHANGE CORRECTION")()},24:function(e,t,n){"use strict";n.d(t,"n",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return C})),n.d(t,"j",(function(){return S})),n.d(t,"p",(function(){return w})),n.d(t,"e",(function(){return E})),n.d(t,"q",(function(){return k})),n.d(t,"o",(function(){return T})),n.d(t,"c",(function(){return R})),n.d(t,"f",(function(){return A})),n.d(t,"h",(function(){return _})),n.d(t,"d",(function(){return I})),n.d(t,"k",(function(){return F}));var r=n(132),a=n(8),c=n(1),o=n(5),s=n(18),i=n(72),l=n(389),u=n(149),d=n(738),b=n(9),f=Object(u.b)(u.c,(function(e,t){return e.length===t.length}))((function(e){return e.permissions}),(function(e){var t=new d.AccessControl(e);return t.grant(b.f),t})),j=n(111),p=n(209),h=n(101),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=c.useRef(0),a=c.useRef(null),o=c.useCallback((function(){e.apply(null,n),r.current=Date.now()}),[r,e,n]);c.useEffect((function(){a.current&&clearTimeout(a.current);var e=Date.now()-r.current;return e>=t?o():a.current=setTimeout(o,t-e),function(){a.current&&clearTimeout(a.current)}}),[t,o])},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=c.useRef(null);c.useEffect((function(){return r.current&&clearTimeout(r.current),r.current=setTimeout(e.bind(null,n),t),function(){r.current&&clearTimeout(r.current)}}),[n,e,t])},m=function(e,t,n){c.useEffect((function(){if(t){var r=function(r){if(e.current){var a=r.target;if(!e.current.contains(a)){if(n)for(var c=a;null!==c.parentElement;){if(n(c))return;c=c.parentElement}t(r)}}};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}}),[t,n,e])};function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object(s.d)((function(e){return f(e.auth)}));return c.useMemo((function(){return!e&&!t||(Array.isArray(e)?e:[e]).some((function(e){var a=r.permission({role:"current",action:t,resource:e}),c=a.attributes.includes("*")||n.every((function(e){return a.attributes.includes(e)}));return a.granted&&c}))}),[r,e,t,n])}function v(e){var t=c.useMemo((function(){return j.b.createAsyncFunction({start:Object(o.getType)(e.request),resolve:Object(o.getType)(e.success),reject:Object(o.getType)(e.failure)})}),[e.request,e.success,e.failure]),n=t.asyncFunction,r=t.unsubscribe;return c.useEffect((function(){return function(){return r()}}),[r]),n}function y(){var e=Object(s.c)();c.useEffect((function(){e(h.a.request())}),[e]);var t=Object(s.d)((function(e){return e.telemetry}));return{userGroups:t.user_groups,userId:t.user_id}}function C(){var e=Object(s.c)();return c.useCallback((function(t,n){return e(h.c.request({event:t,payload:n}))}),[e])}function S(e,t){var n=Object(i.h)(),r=c.useMemo((function(){return new URLSearchParams(n.search).get(e)}),[n.search,e]);c.useEffect((function(){t(r)}),[t,r])}function w(e){var t=c.useState(e),n=Object(a.a)(t,2),r=n[0],o=n[1],s=c.useCallback((function(){return o((function(e){return!e}))}),[o]);return c.useMemo((function(){return[r,s]}),[r,s])}function E(e){var t=c.useState(!!window.matchMedia(e).matches),n=Object(a.a)(t,2),r=n[0],o=n[1];return c.useEffect((function(){var t=window.matchMedia(e),n=function(){return o(!!t.matches)};return t.addListener(n),n(),function(){t.removeListener(n)}}),[e]),r}function k(){var e=Object(s.c)();c.useEffect((function(){e(p.a.request())}),[e]);var t=Object(s.d)((function(e){return e.application.version}));if(!t)return{};var n=t["rasa-x"],r=t.updates?t.updates["rasa-x"].version:n;return{currentVersion:n,latestVersion:r,changelog:t.updates?t.updates["rasa-x"].changelog_url:void 0,updateAvailable:n!==r}}function T(e){var t=c.useState(!1),n=Object(a.a)(t,2),r=n[0],o=n[1];return[r,c.useCallback((function(t){o(!0),setTimeout((function(){t(),o(!1)}),e)}),[o,e])]}function R(e){var t=c.useState(0),n=Object(a.a)(t,2),r=n[0],o=n[1],s=c.useRef(null),i=c.useCallback((function(e){s.current=e}),[]);return c.useEffect((function(){var e=s.current;if(e){var t=window.getComputedStyle(e),n=t.fontSize,r=t.lineHeight,a=t.paddingBottom,c=t.paddingTop,i=e.rows;e.rows=1;var l="normal"===r?1.2*parseFloat(n):parseFloat(r),u=e.scrollHeight-(parseFloat(a)+parseFloat(c)),d=Math.floor(u/l);e.rows=i,o(d)}}),[e]),{rows:r,setTextarea:i,textarea:s}}function A(e,t){c.useEffect((function(){if(t){var n=new l.default(e);return n.observe(t),function(){return n.unobserve(t)}}}),[t])}function _(e){var t=c.useRef();return c.useEffect((function(){t.current=e}),[e]),t.current}function I(){var e=c.useRef(),t=c.useState({height:0,width:0,x:0,y:0}),n=Object(a.a)(t,2),o=n[0],s=n[1];return A((function(e){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;s(a.target.getBoundingClientRect())}}catch(c){n.e(c)}finally{n.f()}}),e.current),[e,o]}function F(e){var t=c.useState(new Set),n=Object(a.a)(t,2),r=n[0],o=n[1],s=c.useState(null),i=Object(a.a)(s,2),l=i[0],u=i[1],d=c.useCallback((function(t,n){o((function(r){var a=new Set(r);if(n&&null!==l&&l!==t){var c=Math.min(l,t),o=Math.max(l,t)+1;Array(o-c).fill(0).forEach((function(t,n){return a.add(e[n+c].id)}))}else a.has(e[t].id)?a.delete(e[t].id):(u(t),a.add(e[t].id));return a}))}),[o,l,e]),b=c.useRef();c.useEffect((function(){var t=new Set;if(b.current!==e){b.current=e;for(var n=0;n<e.length&&(void 0!==e[n]&&r.has(e[n].id));n++)t.add(e[n].id);o(t)}}),[o,e,r]);var f=c.useCallback((function(){o(new Set)}),[o]),j=c.useMemo((function(){var t=[];if(0!==e.length)for(var n=0;n<e.length&&void 0!==e[n];n++)t.push(e[n].id);return t}),[e]),p=c.useMemo((function(){return Array.from(r).map((function(e){return j.indexOf(e)}))}),[r,j]);return{updateItemSelection:d,clearItemSelection:f,idArray:j,selectedItems:r,selectedItemsIndices:p}}},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),a=n(0),c=(n(1),n(98));function o(e){var t=Object.assign({},e);return Object(a.jsx)(c.a,Object(r.a)({},t))}o.defaultProps={px:3,py:2,maxWidth:320}},27:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"k",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return p}));var r=n(5),a=Object(r.createAsyncAction)("FETCH MODELS","FETCH MODELS SUCCESS","FETCH MODELS FAILURE")(),c=Object(r.createAsyncAction)("FETCH HEALTH","FETCH HEALTH SUCCESS","FETCH HEALTH FAILURE")(),o=Object(r.createAsyncAction)("TRAIN MODEL","TRAIN MODEL SUCCESS","TRAIN MODEL FAILURE")(),s=Object(r.createAsyncAction)("DELETE MODEL","DELETE MODEL SUCCESS","DELETE MODEL FAILURE")(),i=Object(r.createAsyncAction)("ADD MODEL ENVIRONMENT","ADD MODEL ENVIRONMENT SUCCESS","ADD MODEL ENVIRONMENT FAILURE")(),l=Object(r.createAsyncAction)("REMOVE MODEL ENVIRONMENT","REMOVE MODEL ENVIRONMENT SUCCESS","REMOVE MODEL ENVIRONMENT FAILURE")(),u=Object(r.createAsyncAction)("UPLOAD MODEL","UPLOAD MODEL SUCCESS","UPLOAD MODEL FAILURE")(),d=Object(r.createStandardAction)("START POLLING HEALTH")(),b=Object(r.createAsyncAction)("FETCH EVALUATION","FETCH EVALUATION SUCCESS","FETCH EVALUATION FAILURE")(),f=Object(r.createStandardAction)("START EVALUATUION")(),j=Object(r.createStandardAction)("FILTER EVALUATION")(),p=Object(r.createAsyncAction)("FETCH ENVIRONMENTS","FETCH ENVIRONMENTS SUCCESS","FETCH ENVIRONMENTS FAILURE")()},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return b}));var r=n(5),a=Object(r.createAsyncAction)("CREATE ENTERPRISE USER","CREATE ENTERPRISE USER SUCCESS","CREATE ENTERPRISE USER FAILURE")(),c=Object(r.createAsyncAction)("CHANGE PASSWORD","CHANGE PASSWORD SUCCESS","CHANGE PASSWORD FAILURE")(),o=Object(r.createAsyncAction)("FETCH FEATURES","FETCH FEATURES SUCCESS","FETCH FEATURES FAILURE")(),s=Object(r.createAsyncAction)("SAVE FEATURE","SAVE FEATURE SUCCESS","SAVE FEATURE FAILURE")(),i=Object(r.createAsyncAction)("LOGIN","LOGIN SUCCESS","LOGIN FAILURE")(),l=Object(r.createAsyncAction)("FETCH SSO URL","FETCH SSO URL SUCCESS","FETCH SSO URL FAILURE")(),u=Object(r.createAsyncAction)("FETCH ENTERPRISE TOKEN","FETCH ENTERPRISE TOKEN SUCCESS","FETCH ENTERPRISE TOKEN FAILURE")(),d=Object(r.createAsyncAction)("FETCH TEMPORARY ACCESS TOKEN","FETCH TEMPORARY ACCESS TOKEN SUCCESS","FETCH TEMPORARY ACCESS TOKEN FAILURE")(),b=Object(r.createStandardAction)("LOGOUT")()},3:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return C})),n.d(t,"m",(function(){return E})),n.d(t,"y",(function(){return R})),n.d(t,"x",(function(){return U})),n.d(t,"g",(function(){return N})),n.d(t,"t",(function(){return V})),n.d(t,"u",(function(){return te})),n.d(t,"p",(function(){return ce})),n.d(t,"e",(function(){return P})),n.d(t,"a",(function(){return ie})),n.d(t,"c",(function(){return de})),n.d(t,"h",(function(){return je})),n.d(t,"i",(function(){return Oe})),n.d(t,"n",(function(){return ge})),n.d(t,"o",(function(){return ve})),n.d(t,"q",(function(){return Se})),n.d(t,"v",(function(){return ke})),n.d(t,"w",(function(){return Te})),n.d(t,"A",(function(){return _e})),n.d(t,"B",(function(){return Ne})),n.d(t,"l",(function(){return G})),n.d(t,"r",(function(){return Pe})),n.d(t,"s",(function(){return qe})),n.d(t,"f",(function(){return Ke})),n.d(t,"z",(function(){return lt})),n.d(t,"D",(function(){return it})),n.d(t,"C",(function(){return pt}));var r=n(1),a=n(16),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var s=function(e){var t,n=e.sx,s=e.variant,i=void 0===s?"medium":s,l=e.children,u=e.username,d=o(e,["sx","variant","children","username"]);return r.createElement(a.d,c({variant:"avatar."+i,justifyContent:"center",alignItems:"center",fontSize:4,color:"neutral_0",bg:"cyan_2"},d,{sx:c({textAlign:"center",borderRadius:"50%",lineHeight:"1em"},n||{})}),l||((t=u)?t.split(" ").slice(0,2).map((function(e){return e.slice(0,1).toUpperCase()})).join(""):null)||null)},i=n(325),l=n.n(i),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},b=r.forwardRef((function(e,t){var n=e.showWhenDisabled,c=e.active,o=e.hover,s=e.fullWidth,i=e.large,b=e.block,f=e.variant,j=void 0===f?"primary":f,p=d(e,["showWhenDisabled","active","hover","fullWidth","large","block","variant"]),h=["icon","headerIcon","secondaryHeaderIcon"].includes(j)&&!n,O=p.disabled||!p.onClick&&!p.href;return r.createElement(a.b,u({as:"button",variant:"button."+j,className:l()({active:c,hover:o,large:i,disabled:p.disabled}),ref:t,sx:u(u({},b?{borderRadius:0}:{}),{alignSelf:"center",cursor:O?"not-allowed":"pointer",letterSpacing:0,outline:0,position:"relative",transition:"all .2s ease","&:disabled, &.disabled":{boxShadow:"none",display:h?"none":void 0},width:s?"100%":null})},p))})),f=n(233),j=n(726),p=n(20),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},x=Object(f.default)((function(e){e.color,e.fontSize,e.opacity;var t=O(e,["color","fontSize","opacity"]);return r.createElement(j.a,h({},t))}))(Object(p.compose)(p.space,p.color,p.fontSize));function m(e){var t=e.icon,n=O(e,["icon"]),a="string"===typeof t?["fal",t]:t;return r.createElement(x,h({icon:a,style:{width:"1em"}},n))}m.defaultProps={color:"inherit",fontSize:"inherit"};var g=m,v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var C=function(e){e.ref;var t=e.src,n=e.placeholder,c=y(e,["ref","src","placeholder"]),o=r.useState(!1),s=o[0],i=o[1];return r.useEffect((function(){var e,n=new Image;t&&(e=[t,function(){return i(!0)},function(){return i(!1)}],n.src=e[0],n.onerror=e[1],n.onload=e[2])}),[t]),r.createElement(r.Fragment,null,s&&n?n:r.createElement(a.f,v({src:t},c)))},S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var E=function(e){var t=e.loading,n=void 0===t||t,c=e.onClick,o=e.children,s=w(e,["loading","onClick","children"]);return r.createElement(b,S({onClick:n?void 0:c},s),r.createElement(a.a,{sx:{visibility:n?"hidden":"visible"}},o),n&&r.createElement(a.d,{alignItems:"center",justifyContent:"center",sx:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}},r.createElement(g,{icon:"spinner-third",spin:!0,ml:1,fontSize:"16px"})))},k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},R=r.forwardRef((function(e,t){var n=e.sx,c=e.loading,o=e.inheritColor,s=e.variant,i=void 0===s?"bodyPrimary":s,l=T(e,["sx","loading","inheritColor","variant"]);return r.createElement(a.g,k({as:"code"===i?"code":"p",variant:"text."+i},l,{ref:t,sx:k(k(k({display:"block",fontWeight:400,letterSpacing:c?"0px important":0,m:0,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},o?{color:"inherit !important"}:{}),c?{color:function(e){return e.colours.neutral_1+" !important"}}:{}),n||{})}))})),A=n(728),_=n(727),I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},F=r.memo((function(e){var t=e.forwardRef,n=e.columns,c=e.data,o=e.metadata,s=e.highlighted,i=e.setUpdateByMouse,l=e.index,u=e.start,d=e.setHighlightedRow,b=e.rowHeight,f=(e.size,e.stripeSelected),j=r.useState(!0),p=j[0],h=j[1],O=r.Children.map(n,(function(e){return r.cloneElement(e,{asHeader:!1,data:c,highlighted:s,index:l,metadata:o,collapsed:p,onCollapse:h})})),x=r.useCallback((function(e,t){e(l),t(!0)}),[l]),m=r.useRef(null);return r.useEffect((function(){t(m.current)}),[m.current,p]),r.createElement(a.d,{ref:m,className:"table-row",onClick:function(){x(d,i)},px:4,sx:I(I({position:"absolute",width:"100%",left:0,top:0,transform:"translateY("+u+"px)",minHeight:b,boxSizing:"border-box",borderBottomStyle:"solid",borderWidth:"1px",borderColor:"neutral_2","&:hover":{backgroundColor:"neutral_1"}},f&&{"&:before":I({content:'""',width:"4px",height:"100%",backgroundColor:"primary_2",position:"absolute",left:"0",borderRadius:"2px"},s?{}:{display:"none"})}),{"&:after":I({content:'""',width:"100%",height:"100%",position:"absolute",left:"0",zIndex:"-1",backgroundColor:"neutral_1"},s?{}:{display:"none"})})},O)}));function N(e){var t=e.alignSelf,n=void 0===t?"center":t,c=e.asHeader,o=e.children,s=e.collapsed,i=e.data,l=e.highlighted,u=e.index,d=e.metadata,b=e.onCollapse,f=e.title,j=e.width;return c?r.createElement(a.a,{width:j},f):void 0==i||void 0==u||void 0==l||void 0==s||void 0==b?(console.warn("Do not use <Column /> outside of <TableRow />"),null):r.createElement(a.a,{width:j,alignSelf:n},o(i,{index:u,highlighted:l,metadata:d,collapsed:s,onCollapse:b}))}var U=function(e){var t=e.rows,n=e.rowHeight,c=void 0===n?64:n,o=e.metadata,s=e.children,i=e.variant,l=void 0===i?"default":i,u=e.onLoadMore,d=e.highlight,b=void 0===d?0:d,f=e.total,j=e.getKey,p=e.setHighlightedRow,h=e.stripeSelection,O=void 0!==h&&h;f||(f=t.length);var x=r.useMemo((function(){var e,t;return(null===(e=s)||void 0===e?void 0:e.type)===r.Fragment?null===(t=s)||void 0===t?void 0:t.props.children:s}),[s]),m=r.useRef(null),g=r.useState(!0),v=g[0],y=g[1],C=Object(A.a)({size:f,parentRef:m,estimateSize:r.useCallback((function(){return c}),[c])});r.useEffect((function(){if(u){var e=t.filter((function(e){return e})).pop(),n=e&&t.indexOf(e),r=C.virtualItems.slice(-1)[0];r&&n&&r.index>=n&&u(n+50)}}),[C.virtualItems,t.length]),r.useEffect((function(){m.current&&!v&&C.scrollToIndex(b,{align:"center"}),y(!1)}),[m.current,b]);var S=r.useMemo((function(){return r.Children.map(x,(function(e){return r.cloneElement(e,{asHeader:!0})}))}),[x]),w=r.useMemo((function(){return!!S&&S.some((function(e){return""!==e.props.title}))}),[S]);return r.createElement(a.a,{sx:{color:"neutral_8",fontSize:2,backgroundColor:"neutral_0",height:"100%",width:"100%"},variant:"table."+l},w&&r.createElement(a.d,{p:4,sx:{fontWeight:"bold",borderBottomStyle:"solid",borderWidth:"1px",borderColor:"neutral_2"}},S),r.createElement(_.a,null,(function(e){var n=e.height,s=e.width;return r.createElement(a.a,{ref:m,sx:{height:w?n-c:n,width:s,overflow:"auto"}},r.createElement(a.a,{sx:{height:C.totalSize+"px",width:"100%",position:"relative"}},C.virtualItems.map((function(e){var n=e.index,a=e.measureRef,s=e.start,i=e.size;return t[n]&&r.createElement(F,{key:j?j(t[n]):n,forwardRef:a,index:n,stripeSelected:O,highlighted:b===n,setUpdateByMouse:y,columns:x,data:t[n],metadata:o,start:s,setHighlightedRow:p,rowHeight:c,size:i})}))))})))},L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},D=Object(f.default)(a.c)(Object(p.compose)(p.borderRadius,p.boxShadow)),M=r.forwardRef((function(e,t){return r.createElement(D,L({ref:t},e))}));M.defaultProps={bg:"neutral_0",borderRadius:"normal",boxShadow:"card",p:3};var P=M,B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},H=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},q=B({border:"1px solid",borderRadius:"normal",boxSizing:"border-box",outline:0,"input&":{minHeight:"40px"},"& input":{minHeight:"38px"},px:3,resize:"none",transition:"all ease .2s","&.block":{borderRadius:0},"&.darkenPlaceholder::placeholder, &.darkenPlaceholder input::placeholder":{color:"inherit !important",opacity:"1 !important"},"&.noBorder":{bg:"transparent",border:"none"},"&.widthAuto":{minWidth:"208px"},"&.fullHeight, & .fullHeight":{height:"100%"},"textarea&":{overflowY:"auto",py:2,"&:not(.fullHeight)":{maxHeight:"60px"}}},Object.fromEntries(Object.entries({default:{bg:"neutral_0",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"primary_2"},"&::placeholder, & input::placeholder":{color:"neutral_6"},"&:hover":{borderColor:"neutral_6"},"&:invalid, &.invalid":{borderColor:"secondary_2"},"&:disabled, &.disabled":{bg:"neutral_1",color:"neutral_6"}},search:{color:"neutral_8",border:"none",bg:"transparent","&.active":{bg:"neutral_1"}},inverse:{color:"neutral_0",bg:"primary_2",borderColor:"neutral_5","&:focus-within:not(:disabled):not(.disabled), &:focus:not(:disabled):not(.disabled)":{borderColor:"neutral_0"},"&::placeholder, & input::placeholder":{color:"neutral_5"},"&:hover":{borderColor:"neutral_3"},"&:invalid, &.invalid":{borderColor:"secondary_3"},"&:disabled, &.disabled":{color:"neutral_5"}}}).map((function(e){return["&.variant--"+e[0],e[1]]})))),G=r.forwardRef((function(e,t){var n,c=e.active,o=e.affixBottom,s=e.block,i=e.containerProps,u=e.customPrefix,d=e.darkenPlaceholder,b=e.fullHeight,f=e.fullWidth,j=e.invalid,p=e.noBorder,h=e.onChange,O=e.onChangeValue,x=e.onKeyDown,m=e.onReturn,g=e.placeholder,v=e.prefix,y=e.rows,C=e.suffix,S=e.value,w=e.variant,E=void 0===w?"default":w,k=e.width,T=H(e,["active","affixBottom","block","containerProps","customPrefix","darkenPlaceholder","fullHeight","fullWidth","invalid","noBorder","onChange","onChangeValue","onKeyDown","onReturn","placeholder","prefix","rows","suffix","value","variant","width"]),A=B({as:T.textarea?"textarea":"input"},T.textarea?{rows:void 0===y?1:y}:{}),_=f?"100%":k,I=l()(((n={active:c,block:s,invalid:j,disabled:T.disabled,widthAuto:!_,fullHeight:b,noBorder:p,darkenPlaceholder:d})["variant--"+E]=!!E,n)),F=T.p,N=T.px,U=T.py,L=T.pt,D=T.pr,M=T.pb,P=T.pl,G=T.m,V=T.mx,z=T.my,W=T.mt,Y=T.mr,K=T.mb,Q=T.ml,X=H(T,["p","px","py","pt","pr","pb","pl","m","mx","my","mt","mr","mb","ml"]),Z=B({m:G,mx:V,my:z,mt:W,mr:Y,mb:K,ml:Q,p:F,px:N,py:U,pt:L,pr:D,pb:M,pl:P,className:I,width:_,sx:q},i),J={py:2},$=B(B(B(B(B({},J),X),{ref:t,value:S}),A),{onChange:function(e){h&&h(e),O&&O(e.currentTarget.value)},onKeyDown:function(e){var t;x&&x(e),m&&(t=m,function(e){t&&"Enter"===e.key&&(e.preventDefault(),t(e.currentTarget.value))})(e)}});if(!v&&!C&&!u&&!o)return r.createElement(R,B({},Z,$,{placeholder:g,variant:"bodySecondary"}));var ee="string"!==typeof g;return r.createElement(R,B({as:"div",display:"inline-block"},Z,{variant:"bodySecondary"},u&&{pl:0}),r.createElement(a.d,{alignItems:"center",sx:{height:"100%"}},r.createElement(a.d,{flex:"1 1",flexWrap:"wrap",alignItems:"center",sx:B({},b&&{height:"100%"})},v&&r.createElement(a.d,{alignSelf:"stretch",alignItems:"center",pr:1,mr:2,sx:{borderRight:"1px solid",borderColor:"neutral_5"}},v),u&&u,r.createElement(a.a,{flex:"1 1",sx:B({position:"relative"},b&&{height:"100%"})},ee&&""==S&&r.createElement(R,B({},J,{as:"div",children:g,sx:{position:"absolute",height:"100%",width:"100%",zIndex:1,whiteSpace:"nowrap"}})),r.createElement(a.d,{flexDirection:"column",sx:{height:"100%"}},r.createElement(R,B({placeholder:ee?void 0:g,flex:"1 1",sx:B({position:"relative",zIndex:2,border:"0 none",bg:"transparent",color:"inherit",fontSize:"inherit",outline:0,width:"100%",resize:"none"},b&&{height:"100%"})},$)),o&&o))),C&&r.createElement(a.d,{flex:"0 0 auto"},C)))}));var V=r.memo((function(e){var t=e.buttons,n=e.count,c=e.query,o=e.label,s=e.onChange,i=e.onFocus,l=e.onBlur,u=e.onReturn,d=e.children,b=r.useMemo((function(){return o(n)}),[o,n]),f=r.useCallback((function(e){return s(e.target.value)}),[s]),j=r.useCallback((function(){return null===i||void 0===i?void 0:i()}),[i]),p=r.useCallback((function(){return null===l||void 0===l?void 0:l()}),[l]),h=r.useCallback((function(e){return null===u||void 0===u?void 0:u(e)}),[u]);return r.createElement(a.d,{alignItems:"center",justifyContent:"space-between",sx:{width:"100%",height:"56px",borderTopLeftRadius:"large",borderTopRightRadius:"large",borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",borderBottomColor:"neutral_2",backgroundColor:"neutral_0",overflow:"hidden","&:focus-within":{borderColor:"primary_2"}}},r.createElement(a.d,{alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%",sx:{paddingLeft:"24px"}},r.createElement(g,{icon:"search",color:"neutral_6"}),!d&&r.createElement(G,{fullWidth:!0,fullHeight:!0,variant:"search",placeholder:b,width:"100%",value:c,onChange:f,onFocus:j,onBlur:p,onReturn:h}),d),t&&t.map((function(e,t){return r.createElement(P,{p:0,key:t,sx:{borderColor:"neutral_4",borderLeftStyle:"solid",borderLeftWidth:"1px",minWidth:"auto"}},e)})))})),z=n(94),W=n(322),Y=n(1431),K=n(729),Q=function(){return(Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},X=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Z=W.a.stateChangeTypes,J=r.forwardRef((function(e,t){return r.createElement(b,Q({variant:"plainDropdown",ref:t},e),r.createElement(g,{icon:"chevron-down",fontSize:"12px"}))})),$=r.forwardRef((function(e,t){return r.createElement(P,Q({p:0,m:0,boxShadow:"selectBox",sx:{overflow:"hidden",border:0,zIndex:99999,display:"inline-block"},ref:t},e))})),ee=function(e){var t=e.onClick,n=e.onHover,a=e.children;return r.createElement(r.Fragment,null,r.createElement(ke,null),r.createElement(Se,{onClick:t,onMouseMove:n,tabIndex:0,variant:"primary"},a))};var te=function(e){var t=e.block,n=e.createNewText,c=void 0===n?"Create new":n,o=e.disabled,s=e.fullWidth,i=e.fullHeight,l=e.hideSelected,u=e.invalid,d=e.items,b=void 0===d?[]:d,f=e.itemsAreEqual,j=void 0===f?function(e,t){return e&&t?e.value===t.value:e===t}:f,p=e.itemToString,h=void 0===p?function(e){return e?e.label:""}:p,O=e.menuIsOpen,x=e.onBackspaceEmpty,m=e.onChange,g=e.onCreate,v=e.onEscape,y=e.onMenuOpen,C=e.onReturn,S=e.placeholder,w=e.portalRef,E=e.prefix,k=e.renderItem,T=void 0===k?function(e,t){return t}:k,R=e.suffix,A=e.toggleButtonProps,_=void 0===A?{}:A,I=e.value,F=X(e,["block","createNewText","disabled","fullWidth","fullHeight","hideSelected","invalid","items","itemsAreEqual","itemToString","menuIsOpen","onBackspaceEmpty","onChange","onCreate","onEscape","onMenuOpen","onReturn","placeholder","portalRef","prefix","renderItem","suffix","toggleButtonProps","value"]),N=r.useState(b),U=N[0],L=N[1],D=r.useState(""),M=D[0],P=D[1],B=r.useState(I||void 0),H=B[0],q=B[1];r.useEffect((function(){var e=new RegExp((M||"").replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i");L(b.filter((function(t){return h(t).match(e)})))}),[M,b]);var V=r.useState(null),te=V[0],ne=V[1],re=r.useState(null),ae=re[0],ce=re[1],oe=Object(Y.a)(te,ae,{placement:"bottom-start",modifiers:[{name:"flip",options:{fallbackPlacements:["bottom-end","top-start","top-end","right","left"]}},{name:"offset",options:{offset:[0,8]}}]}),se=oe.styles,ie=oe.attributes,le=oe.update,ue=Object(W.a)({items:U,inputValue:M,itemToString:h,selectedItem:H,onStateChange:function(e){switch(e.type){case Z.InputChange:return le&&le(),void P(e.inputValue||"");case Z.InputKeyDownEnter:case Z.ItemClick:case Z.FunctionSelectItem:P("");var t=e.selectedItem?e.selectedItem:b.find((function(t){return h(t)==e.inputValue}));return m(t||null),q(t),void de();case Z.FunctionOpenMenu:return void(e.isOpen&&(le&&le(),y&&y()))}}}),de=ue.closeMenu,be=ue.getComboboxProps,fe=ue.getInputProps,je=ue.getItemProps,pe=ue.getMenuProps,he=ue.getToggleButtonProps,Oe=ue.highlightedIndex,xe=ue.isOpen,me=ue.openMenu,ge=ue.selectItem,ve=ue.setHighlightedIndex,ye=r.createElement(r.Fragment,null,R,r.createElement(J,Q({},he(Q(Q(Q({},_),{disabled:o}),"inverse"===F.variant?{variant:"plain"}:{})),{ml:3}))),Ce=z.createPortal(r.createElement($,Q({},pe({ref:Object(K.a)([ce,w||null])}),ie.popper,{style:se.popper}),(xe||O)&&r.createElement(r.Fragment,null,r.createElement(a.a,{sx:{maxHeight:"240px",overflow:"auto",display:"grid",width:((null===te||void 0===te?void 0:te.clientWidth)||0)+"px",minWidth:"240px"}},U.map((function(e,t){var n=j(H,e),a=Oe===t;if(n&&l)return null;var c=h(e);return r.createElement(Se,Q({isSelected:n,isFocused:a,key:""+c+t,children:T(e,c)},je({item:e,index:t,disabled:o,onMouseDown:function(){return ge(e)}})))}))),g&&r.createElement(ee,{onClick:function(){return g(M)},onHover:function(){return ve(-1)}},c))),document.body);return r.createElement(r.Fragment,null,r.createElement(G,Q({block:t,prefix:E,suffix:ye,containerProps:be({ref:ne}),fullWidth:s,fullHeight:i,invalid:u,placeholder:I?T(I,h(I)):S,darkenPlaceholder:!!I},fe({disabled:o,onKeyDown:function(e){switch(e.key){case"Enter":return void(!xe&&C&&C());case"Escape":return void(!xe&&v&&v());case"Backspace":return void(""===M&&x&&x())}},onFocus:me}),F)),Ce)},ne=function(){return(ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},re=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ae=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var c=arguments[t],o=0,s=c.length;o<s;o++,a++)r[a]=c[o];return r};var ce=function(e){var t=e.itemsAreEqual,n=void 0===t?function(e,t){return e&&t?e.value===t.value:e===t}:t,a=e.itemToString,c=void 0===a?function(e){return e?e.label:""}:a,o=e.items,s=void 0===o?[]:o,i=e.value,l=e.onChange,u=re(e,["itemsAreEqual","itemToString","items","value","onChange"]),d=Object(W.b)({selectedItems:i}),b=d.getSelectedItemProps,f=d.getDropdownProps,j=r.useCallback((function(e){return e&&l(ae(i,[e]))}),[l]),p=r.useCallback((function(){return l(i.slice(0,-1))}),[l]),h=r.useMemo((function(){return s.filter((function(e){return!i.find((function(t){return n(e,t)}))}))}),[i,s]),O=i.length>0?i.map((function(e,t){return r.createElement(qe,ne({active:!0,color:"neutral_8",bg:"neutral_2",key:"selected-item-"+t,py:"6px",my:"2px",flex:"0 0 120px",label:c(e)},b({selectedItem:e,index:t,onChange:function(){return l(i.filter((function(e,n){return n!=t})))}})))})):null;return r.createElement(te,ne({itemToString:c,onChange:j,prefix:O,toggleButtonProps:f(),onBackspaceEmpty:p,items:h},u))},oe=function(){return(oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},se=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var ie=function(e){var t=e.block,n=e.variant,c=void 0===n?"primary":n,o=se(e,["block","variant"]);return r.createElement(a.d,oe({sx:{m:3,px:3,py:"12px",fontSize:2,letterSpacing:0,lineHeight:"normal",borderRadius:t?0:"normal"}},o,{variant:"alert."+c}))},le=function(){return(le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var de=function(e){var t=e.sx,n=ue(e,["sx"]);return r.createElement(a.g,le({as:"span"},n,{sx:le({display:"flex",justifyContent:"center",alignItems:"center",width:"16px",height:"16px",borderRadius:"8px",fontSize:"11px",lineHeight:"normal",textAlign:"center",bg:"primary_1",color:"neutral_0"},t||{})}))},be=n(515),fe=function(){return(fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var je=function(e){var t=e.children,n=e.height,a=e.show,c=(e.overlay,Object(be.b)(a,null,{from:{height:"0px"},enter:{height:n},leave:{height:"0px"}}));return r.createElement(r.Fragment,null," ",c.map((function(e){var n=e.item,a=e.key,c=e.props;return n&&r.createElement(be.a.div,{key:a,style:fe({width:"100%",position:"absolute",top:0,left:0,zIndex:1,overflow:"hidden"},c)},t)}))," ")},pe=function(){return(pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},he=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var Oe=function(e){var t=e.sx,n=e.inheritColor,c=e.variant,o=void 0===c?"h3":c,s=e.loading,i=he(e,["sx","inheritColor","variant","loading"]);return r.createElement(a.e,pe({as:o,variant:"heading."+o},i,{sx:pe(pe(pe({fontFamily:"Lato",fontWeight:1,letterSpacing:0,lineHeight:"normal",m:0,color:"neutral_8"},t||{}),n?{color:"inherit !important"}:{}),s?{letterSpacing:"0px",color:"neutral_2 !important"}:{})}))};var xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},me=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var ge=function(e){var t=e.sx,n=e.reverseAlign,c=void 0!==n&&n,o=e.variant,s=void 0===o?"primary":o,i=e.borderRadius,l=me(e,["sx","reverseAlign","variant","borderRadius"]);return r.createElement(a.a,xe({maxWidth:"408px",width:[0,"stretch"],fontSize:2,variant:"messageBubble."+s,sx:xe(xe(xe({letterSpacing:0,lineHeight:"normal",overflowWrap:"break-word"},t||{}),c?{alignSelf:"flex-end"}:{alignSelf:"flex-start"}),i?{borderRadius:i}:c?{borderRadius:"20px 4px 20px 20px"}:{borderRadius:"4px 20px 20px 20px"})},l))};var ve=function(e){var t=e.onClick,n=e.buttons,c=void 0===n?[]:n;return c&&0!==c.length?r.createElement(r.Fragment,null,Array.isArray(c)&&r.createElement(a.d,{mt:2,px:"12px",flexWrap:"wrap"},c.map((function(e,n){return r.createElement(b,{disabled:!t,key:e&&e.payload||"new-button-"+n,onClick:function(n){n.stopPropagation(),t&&t(e?e.payload:"")},mr:1,mb:1,variant:"primary"},e&&e.title||"New Button")})))):null},ye=function(){return(ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Se=r.forwardRef((function(e,t){var n=e.isSelected,c=e.isFocused,o=e.hideSelected,s=e.variant,i=void 0===s?"default":s,l=Ce(e,["isSelected","isFocused","hideSelected","variant"]);return r.createElement(a.b,ye({ref:t,py:"14px",px:4,bg:n||c?"neutral_1":"transparent",tabIndex:0,variant:"option."+i},l,{sx:{border:"none",borderRadius:0,cursor:"pointer",display:o&&n?"none":null,fontSize:"13px",lineHeight:"normal",outline:0,textAlign:"left",transition:"all ease .2s",width:"100%"}}))})),we=function(){return(we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var ke=function(e){var t=e.barColor,n=void 0===t?"neutral_4":t,c=e.variant,o=void 0===c?"center":c,s=Ee(e,["barColor","variant"]),i={bg:n,content:'" "',height:"1px",display:"block",flex:"1 1 auto"};return r.createElement(a.d,we({variant:"separator."+o,m:0},s,{sx:{width:"100%",alignItems:"center",whiteSpace:"nowrap","&::before":i,"&::after":i}}))};var Te=function(e){var t,n=e.children,c=e.spacing,o=e.variant,s=void 0===o?"row":o,i=e.fullSize,l=void 0!==i&&i,u="row"===s,d=r.useMemo((function(){var e,t;return{margin:u?"0 "+c/2+"px":c/2+"px 0","&:first-of-type":(e={},e[u?"marginLeft":"marginTop"]=0,e),"&:last-of-type":(t={},t[u?"marginRight":"marginBottom"]=0,t.flexGrow=l?1:0,t)}}),[c]),b=l?((t={})[u?"width":"height"]="100%",t):{};return r.createElement(a.d,{alignItems:"center",flexDirection:s,sx:b},r.Children.map(n,(function(e){return r.createElement(a.a,{sx:d},e)})))},Re=n(731),Ae=n.n(Re);var _e=function(e){var t=e.accept,n=void 0===t?"*":t,c=e.id,o=void 0===c?Ae()():c,s=e.onUpload,i=e.width,l=e.children;return r.createElement(r.Fragment,null,r.createElement(a.a,{as:"label",htmlFor:o,width:i},l),r.createElement(a.a,{as:"input",id:o,accept:n,type:"file",onChange:s,sx:{display:"none"}}))},Ie=function(){return(Ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Fe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var Ne=function(e){var t=e.accept,n=void 0===t?"*":t,a=e.id,c=e.onUpload,o=e.width,s=Fe(e,["accept","id","onUpload","width"]);return r.createElement(r.Fragment,null,r.createElement(_e,{accept:n,id:a,onUpload:c,width:o},r.createElement(b,Ie({as:"span",onClick:function(){}},s))))},Ue=function(){return(Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Le=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},De=Object(f.default)(a.c)(Object(p.compose)(p.border,p.maxWidth)),Me=r.forwardRef((function(e,t){var n=e.as,a=e.fontSize,c=e.fontWeight,o=e.children,s=e.color,i=(e.tooltipContent,e.onClick),l=Le(e,["as","fontSize","fontWeight","children","color","tooltipContent","onClick"]);return r.createElement(De,Ue({sx:{display:"inline-block",borderRadius:"100px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",cursor:i?"pointer":void 0},onClick:i},l,{ref:t}),r.createElement(R,{as:n,color:s,fontWeight:c,fontSize:a},o))}));Me.defaultProps={px:3,py:2,mr:2,fontSize:"12px",fontWeight:"bold"};var Pe=r.memo(Me),Be=function(){return(Be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},He=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},qe=r.forwardRef((function(e,t){var n=e.active,c=e.label,o=e.content,s=e.onChange,i=e.onClick,l=e.permanent,u=e.total,d=e.bg,b=void 0===d?"primary_2":d,f=e.color,j=void 0===f?"neutral_0":f,p=He(e,["active","label","content","onChange","onClick","permanent","total","bg","color"]);if(!l&&!n&&0===u)return null;var h=c+(void 0!==u?" ("+u+")":""),O=r.createElement(a.a,{flex:"1",style:{textOverflow:"ellipsis",overflow:"hidden"}},r.createElement("b",null,h),o&&" "+o);return r.createElement(Pe,Be({ref:t,display:"inline-block",bg:n?b:"transparent",color:n?j:b,maxWidth:"250px",borderColor:n?"transparent":b,borderWidth:"1px",borderStyle:"solid",fontWeight:"normal",onClick:function(e){s&&s(!n),i&&i(e)}},p),r.createElement(a.d,{alignItems:"center"},O,s&&n&&r.createElement(a.a,{ml:2},r.createElement(g,{icon:"times"}))))})),Ge=n(755),Ve=function(){return(Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},We=Object(Ge.a)();function Ye(e){var t=e.checked,n=e.disabled,c=e.fontSize,o=e.icon,s=void 0===o?"check":o,i=e.m,l=e.mb,u=e.ml,d=e.mr,b=e.mt,f=e.mx,j=e.my,p=e.onChange,h=e.partial,O=(e.ref,e.variant),x=void 0===O?"default":O,m=e.width,v=ze(e,["checked","disabled","fontSize","icon","m","mb","ml","mr","mt","mx","my","onChange","partial","ref","variant","width"]),y=r.useCallback((function(e){e.shiftKey&&p(e)}),[p]),C=Object.fromEntries(Object.entries({m:i,mb:l,ml:u,mr:d,mt:b,mx:f,my:j}).filter((function(e){e[0];return void 0!==e[1]}))),S=s;"radio"==x?S="circle":h&&(S="minus");var w=c||("radio"==x?"10px":"6px");return r.createElement(a.a,{sx:Ve(Ve(Ve({},C),void 0!==m?{width:m,height:m}:{}),{position:"relative",zIndex:0})},r.createElement(a.a,{as:"input",type:"checkbox",sx:We,checked:t,onChange:p,disabled:n}),r.createElement(a.a,Ve({variant:"checkbox."+x,fontSize:w,onClick:y},v,{sx:Ve({userSelect:"none",bg:"neutral_0",border:"1px solid",borderColor:"neutral_4",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,transition:"all 150ms",width:m,height:m,cursor:"pointer","& > svg":{visibility:"hidden"},"input:checked + & > svg":{visibility:"visible"}},n?{pointerEvents:"none"}:{})}),r.createElement(g,{icon:["fas",S]})))}Ye.defaultProps={width:"16px"};var Ke=Ye,Qe=n(732),Xe=function(){return(Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ze={bg:"primary_2",border:"none",borderRadius:"normal",boxShadow:"button",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"},"&:hover":{bg:"primary_1"},"&:disabled, &.disabled":{color:"neutral_6",bg:"neutral_3",boxShadow:"none"}},Je={borderRadius:"normal",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"5px","&.large":{fontSize:2,py:"9px"},"&:hover, &.hover":{borderColor:"primary_1",color:"primary_1"},"&:disabled, &.disabled":{borderColor:"neutral_5",color:"neutral_6"}},$e={bg:"transparent",border:"none",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"small",p:0,"&.large":{fontSize:2}},et={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"10px",lineHeight:0,p:2,"&:hover":{color:"neutral_7"},"&.active":{color:"primary_1"}},tt={bg:"transparent",border:"none",borderRadius:"normal",color:"neutral_6",fontSize:"16px",lineHeight:0,p:"12px","&.active":{bg:"transparent",color:"primary_2"},"&:hover, &.hover":{bg:"primary_2",color:"neutral_0"}},nt={primary:Ze,primaryDark:Xe(Xe({},Ze),{boxShadow:"none"}),login:Xe(Xe({},Ze),{letterSpacing:"1.1px !important",lineHeight:"28px"}),secondary:Xe(Xe({},Je),{bg:"neutral_0",border:"1px solid",borderColor:"primary_2",color:"primary_2"}),secondaryDashed:Xe(Xe({},Je),{bg:"neutral_1",border:"1px dashed",borderColor:"neutral_5",color:"neutral_6"}),dark:{bg:"neutral_8",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},inverse:{bg:"transparent",border:"1px solid",borderColor:"neutral_0",borderRadius:"normal",color:"neutral_0",fontSize:1,fontWeight:1,lineHeight:"normal",px:3,py:"6px","&.large":{fontSize:2,py:"10px"}},plain:$e,plainDropdown:Xe(Xe({},$e),{color:"neutral_8","&:disabled, &.disabled":{color:"neutral_6"}}),icon:tt,iconInverse:Xe(Xe({},tt),{color:"neutral_0","&:hover, &.hover":Xe(Xe({},tt["&:hover, &.hover"]),{color:"primary_1",bg:"neutral_0"})}),headerIcon:{bg:"neutral_0",border:"none",borderRadius:0,color:"neutral_6",fontSize:"16px",lineHeight:0,p:"28px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"neutral_6"}},secondaryHeaderIcon:{bg:"neutral_0",border:"none",borderRadius:0,width:"56px",height:"56px",color:"neutral_6",fontSize:"12px",lineHeight:0,"&:hover, &.hover":{color:"primary_2"},"&.active":{bg:"primary_1",color:"neutral_0"}},plainIcon:et,plainIconDark:Xe(Xe({},et),{"&:hover, &.hover":Xe(Xe({},et["&:hover"]),{color:"neutral_1"})}),barIcon:{bg:"transparent",border:"none",borderRadius:0,color:"primary_2",fontSize:"16px",lineHeight:0,p:"24px","&.active":{bg:"primary_2",color:"neutral_0"},"&:hover, &.hover":{"&.active":{bg:"primary_1",color:"neutral_0"},bg:"neutral_1",color:"primary_1"}},onboardingIcon:Xe(Xe({},Ze),{bg:"neutral_0",color:"primary_2",padding:0,border:"1px solid",borderColor:"primary_4",borderRadius:50,fontSize:"20px",width:"48px",height:"48px","&:hover, &.hover":{bg:"neutral_1",color:"neutral_7"},"&.active":{color:"primary_1"}}),smallLink:Xe(Xe({},$e),{color:"primary_2",fontSize:"11px",lineHeight:"12px",fontWeight:400})},rt=function(){return(rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},at={content:'""',borderRadius:"1000px",position:"absolute",top:"-4px",bottom:"-4px",left:"-4px",right:"-4px",zIndex:-1},ct={default:{color:"neutral_0",borderRadius:"4px","input:checked + &":{bg:"primary_2",border:"none",borderColor:"transparent"},"input:focus + &::before":rt(rt({},at),{bg:"primary_4"})},primary:{color:"primary_2",borderRadius:"4px","input:checked + &":{bg:"neutral_0"},"input:focus + &::before":rt(rt({},at),{bg:"primary_3"})},radio:{color:"primary_2",borderRadius:"20px","input:checked + &":{bg:"neutral_0",border:"1px solid",borderColor:"primary_2"}}},ot=[400,700],st={primary_1:"#4A3DD4",primary_2:"#574AE2",primary_3:"#6C5EF9",primary_4:"#DDDCF6",neutral_0:"#FFFFFF",neutral_1:"#F6F7FB",neutral_2:"#F2F4FA",neutral_3:"#ECEFF7",neutral_4:"#DDE2EF",neutral_5:"#CED5E7",neutral_6:"#979FB4",neutral_7:"#2C3951",neutral_8:"#252D40",secondary_1:"#972422",secondary_2:"#C6423F",secondary_3:"#E85653",secondary_4:"#F8CBCA",orange_1:"#EB9015",orange_2:"#FF9F1C",orange_3:"#F8DEBB",yellow_1:"#E4B912",yellow_2:"#FFD121",yellow_3:"#FBF2D1",green_1:"#48A9A6",green_2:"#4DD6D2",green_3:"#D6EBEA",blue_1:"#3158D6",blue_2:"#446FF8",blue_3:"#D0E3FC",cyan_1:"#4DD6D2",cyan_2:"#87E5E2",cyan_3:"#DEFBFA",dark_1:"#2C3951",dark_2:"#263146",grey:"#dde2ef",black:"#333333",white:"#ffffff",active:"#e6f7ff"},it={breakpoints:["0","500px","800px","1200px","1900px"],colors:st,colours:st,fontSizes:[11,12,13,14,16,20,24,32,48,64,72],fontWeights:ot,gradients:{primary_1:"linear-gradient(56deg, rgba(113, 22, 208, 0.95), #4e61e1)"},heights:[32,40,48,56,64],letterSpacings:[.6,.7,.9,1.4],lineHeights:{large:"36px",big:"24px",normal:"20px",small:"16px",tight:"12px"},space:[0,4,8,16,24,32,40,48,56,64,72,80,128,256,512],fonts:{mono:'"IBM Plex Mono", "Courier New", Courier, monospace',sansSerif:'"Lato", -apple-system, BlinkMacSystemFont, "avenir next", avenir, "helvetica neue", helvetica, ubuntu, roboto, noto, "segoe ui", arial, sans-serif'},active:{background:st.active},radii:{tiny:"2px",small:"4px",normal:"8px",large:"16px"},actions:{default:{color:st.neutral_6},incorrect:{color:st.neutral_6,textDecoration:"line-through"},correct:{color:st.primary_2,fontWeight:ot[1]}},shadows:{sm:"0 6px 21px 0 rgba(152, 152, 152, 0.06)",md:"0 3px 6px 0 rgba(96,97,149,0.20)",lg:"0 11px 43px 0 rgba(120, 119, 150, 0.1)",selectBox:"0 2px 8px 0 "+st.neutral_5,card:"0 2px 4px 0 rgba(207, 207, 207, 0.21)",button:"0 2px 4px 0 rgba(207, 207, 207, 0.67)"},menuItem:{default:{color:st.neutral_6,backgroundColor:"transparent","&:hover":{color:st.neutral_0,backgroundColor:st.dark_2}}},text:{heading:{h1:{fontSize:6},h2:{fontSize:4},h3:{fontSize:3},h4:{fontSize:2},h5:{fontSize:1}},text:{bodyPrimary:{color:"neutral_8",fontSize:3,lineHeight:"normal"},bodySecondary:{color:"neutral_8",fontSize:2,lineHeight:"normal"},captionPrimary:{color:"neutral_6",fontSize:2,lineHeight:"small"},captionSecondary:{color:"neutral_6",fontSize:0,lineHeight:"tight"},metadata:{color:"neutral_7",fontSize:0,lineHeight:"tight"},code:{color:"neutral_8",fontFamily:"IBM Plex Mono",fontSize:1,lineHeight:"normal"},inverse:{color:"neutral_0",fontSize:3,lineHeight:"normal"}}},buttons:{button:nt,option:{default:{color:"neutral_8","&:hover":{bg:"neutral_1"}},primary:{color:"primary_2","&:hover":{bg:"neutral_1",color:"primary_1","&.active":{bg:"primary_1",color:"neutral_0"}}}}},variants:{alert:{primary:{bg:"primary_2",color:"neutral_0"},error:{bg:"secondary_2",color:"neutral_0"},warning:{bg:"yellow_3",color:"yellow_1",borderColor:"yellow_2",border:"solid 1px"},success:{bg:"cyan_3",color:"#56bdba",borderColor:"cyan_2",border:"solid 1px"},alertThatUsesColoursThatArentInTheStyleguide:{bg:"#e8fff7",color:"#56bdba",border:"solid 1px",borderColor:"#88deca"}},avatar:{small:{width:"28px",height:"28px"},medium:{width:"32px",height:"32px"},large:{width:"40px",height:"40px"},xl:{width:"56px",height:"56px"}},checkbox:ct,messageBubble:{primary:{bg:"primary_2",color:"neutral_0",px:"20px",py:"10px"},secondary:{bg:"neutral_3",color:"neutral_8",px:"20px",py:"10px"},flagged:{bg:"secondary_2",color:"neutral_0",px:"20px",py:"10px"},neutral:{bg:"neutral_0",color:"neutral_8",px:"20px",py:"10px"},custom:{bg:"neutral_3",color:"neutral_8",padding:0}},separator:{left:{"& > :first-of-type":{pr:"12px"},"&:before":{display:"none"}},center:{"& > :first-of-type":{px:"12px"}},right:{"& > :first-of-type":{pl:"12px"},"&:after":{display:"none"}}},table:{default:{borderRadius:"large","& .table-row:last-of-type":{border:"none",borderBottomLeftRadius:"large",borderBottomRightRadius:"large"}},flattened:{borderRadius:0}}}},lt=function(e){var t=e.children;return r.createElement(Qe.a,{theme:it},t)},ut=n(137),dt=n(323),bt=n(37),ft=n(275),jt=[bt.a,bt.b,ut.a,bt.c,bt.d,bt.e,ut.b,bt.f,bt.g,bt.h,bt.i,dt.a,ut.d,ut.c,bt.j,ut.e,bt.k,bt.l,dt.b,bt.m,bt.n,bt.o,bt.p,bt.q,bt.r,bt.s,bt.t,bt.u,ut.f,bt.v,ut.g,dt.c,bt.w,bt.x,bt.y,bt.z,bt.A,bt.B,bt.C,bt.D,bt.E,ut.h,bt.F,bt.H,bt.G,bt.I,bt.J,bt.K,ut.i,bt.L,bt.M,bt.N,bt.O,bt.P,bt.Q,bt.R,bt.S,ut.j,bt.T,dt.d,bt.U,bt.V,bt.W,bt.X,bt.Y,bt.Z,bt.ab,ut.k];function pt(){ft.b.add.apply(ft.b,jt)}},31:function(e,t,n){"use strict";var r=n(24);t.a=function(e){var t=e.resource,n=e.action,a=e.attributes,c=void 0===a?[]:a,o=e.yes,s=void 0===o?null:o,i=e.no;return Object(r.g)(t,n,c)?s:i||null}},32:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return b}));var r=n(5),a=Object(r.createAsyncAction)("FETCH REGEX","FETCH REGEX SUCCESS","FETCH REGEX FAILURE")(),c=Object(r.createAsyncAction)("FETCH REGEXES","FETCH REGEXES SUCCESS","FETCH REGEXES FAILURE")(),o=Object(r.createAsyncAction)("CREATE REGEX","CREATE REGEX SUCCESS","CREATE REGEX FAILURE")(),s=Object(r.createAsyncAction)("UPDATE REGEX","UPDATE REGEX SUCCESS","UPDATE REGEX FAILURE")(),i=Object(r.createAsyncAction)("DELETE REGEX","DELETE REGEX SUCCESS","DELETE REGEX FAILURE")(),l=Object(r.createAsyncAction)("FETCH LOOKUP TABLES","FETCH LOOKUP TABLES SUCCESS","FETCH LOOKUP TABLES FAILURE")(),u=Object(r.createAsyncAction)("FETCH LOOKUP TABLE","FETCH LOOKUP TABLE SUCCESS","FETCH LOOKUP TABLE FAILURE")(),d=Object(r.createAsyncAction)("CREATE LOOKUP TABLE","CREATE LOOKUP TABLE SUCCESS","CREATE LOOKUP TABLE FAILURE")(),b=Object(r.createAsyncAction)("DELETE LOOKUP TABLE","DELETE LOOKUP TABLE SUCCESS","DELETE LOOKUP TABLE FAILURE")()},33:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f}));var r=n(5),a=Object(r.createAsyncAction)("FETCH GIT REPOSITORIES","FETCH GIT REPOSITORIES SUCCESS","FETCH GIT REPOSITORIES FAILURE")(),c=Object(r.createAsyncAction)("FETCH SSH KEY","FETCH SSH KEY SUCCESS","FETCH SSH KEY FAILURE")(),o=Object(r.createAsyncAction)("CONNECT GIT REPOSITORY","CONNECT GIT REPOSITORY SUCCESS","CONNECT GIT REPOSITORY FAILURE")(),s=Object(r.createAsyncAction)("UPDATE GIT REPOSITORY","UPDATE GIT REPOSITORY SUCCESS","UPDATE GIT REPOSITORY FAILURE")(),i=Object(r.createAsyncAction)("DELETE GIT REPOSITORY","DELETE GIT REPOSITORY SUCCESS","DELETE GIT REPOSITORY FAILURE")(),l=Object(r.createAsyncAction)("FETCH GIT REPOSITORY STATUS","FETCH GIT REPOSITORY STATUS SUCCESS","FETCH GIT REPOSITORY STATUS FAILURE")(),u=Object(r.createStandardAction)("START POLLING STATUS")(),d=Object(r.createStandardAction)("STOP POLLING STATUS")(),b=Object(r.createAsyncAction)("COMMIT GIT CHANGES","COMMIT GIT CHANGES SUCCESS","COMMIT GIT CHANGES FAILURE")(),f=Object(r.createAsyncAction)("DISCARD GIT CHANGES","DISCARD GIT CHANGES SUCCESS","DISCARD GIT CHANGES FAILURE")()},34:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"l",(function(){return c})),n.d(t,"j",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return j})),n.d(t,"g",(function(){return p}));var r=n(5),a=Object(r.createAsyncAction)("CREATE INTERACTIVE LEARNING CONVERSATION","CREATE INTERACTIVE LEARNING CONVERSATION SUCCESS","CREATE INTERACTIVE LEARNING CONVERSATION FAILURE")(),c=Object(r.createStandardAction)("UNDO INTERACTIVE LEARNING CONVERSATION")(),o=Object(r.createAsyncAction)("PARSE MESSAGE FOR INTERACTIVE LEARNING","PARSE MESSAGE FOR INTERACTIVE LEARNING SUCCESS","PARSE MESSAGE FOR INTERACTIVE LEARNING FAILURE")(),s=Object(r.createStandardAction)("CHANGE PARSED MESSAGE")(),i=Object(r.createStandardAction)("CANCEL PARSED MESSAGE")(),l=Object(r.createAsyncAction)("SAVE EVENT","SAVE EVENT SUCCESS","SAVE EVENT FAILURE")(),u=Object(r.createAsyncAction)("FETCH INTERACTIVE LEARNING PREDICTION","FETCH INTERACTIVE LEARNING PREDICTION SUCCESS","FETCH INTERACTIVE LEARNING PREDICTION FAILURE")(),d=Object(r.createStandardAction)("CHANGE PREDICTION")(),b=Object(r.createAsyncAction)("CONFIRM PREDICTION","CONFIRM PREDICTION SUCCESS","CONFIRM PREDICTION FAILURE")(),f=Object(r.createAction)("CLEAR INTERACTIVE LEARNING",(function(e){return function(t){return e(t)}})),j=Object(r.createStandardAction)("CHANGE STRICT MODE")(),p=Object(r.createAsyncAction)("CREATE ACTION","CREATE ACTION SUCCESS","CREATE ACTION FAILURE")()},36:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return o})),n.d(t,"m",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return j})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return h}));var r=n(5),a=Object(r.createAsyncAction)("FETCH STORIES","FETCH STORIES SUCCESS","FETCH STORIES FAILURE")(),c=Object(r.createAsyncAction)("FETCH STORY VISUALIZATION","FETCH STORY VISUALIZATION SUCCESS","FETCH STORY VISUALIZATION FAILURE")(),o=Object(r.createAsyncAction)("SAVE STORY","SAVE STORY SUCCESS","SAVE STORY FAILURE")(),s=Object(r.createAsyncAction)("UPDATE STORY","UPDATE STORY SUCCESS","UPDATE STORY FAILURE")(),i=Object(r.createAsyncAction)("DELETE STORY","DELETE STORY SUCCESS","DELETE STORY FAILURE")(),l=Object(r.createAsyncAction)("ADD STORIES","ADD STORIES SUCCESS","ADD STORIES FAILURE")(),u=Object(r.createAsyncAction)("REPLACE STORIES","REPLACE STORIES SUCCESS","REPLACE STORIES FAILURE")(),d=Object(r.createStandardAction)("SEARCH STORIES")(),b=Object(r.createStandardAction)("CHANGE STORY")(),f=Object(r.createStandardAction)("CHANGE STORY SELECTION")(),j=Object(r.createStandardAction)("DOWNLOAD STORIES")(),p=Object(r.createStandardAction)("SET SHOULD REPLACE STORIES")(),h=Object(r.createStandardAction)("SET STORIES TO CONFIRM")()},390:function(e,t,n){"use strict";var r=n(0),a=n(1),c=n(4),o=n(3);t.a=a.memo((function(e){var t=e.p,n=e.name,a=e.items,s=e.checkedItems,i=e.onChange,l=e.placeholder,u=e.header,d=e.item,b=e.stickyHeader;return Object(r.jsxs)(c.Flex,{flexDirection:"column",style:{height:"100%",overflow:"hidden"},children:[Object(r.jsx)(c.Box,{p:t,pb:0,children:u?u():Object(r.jsxs)(o.i,{variant:"h4",children:[n," (",a.length,")"]})}),Object(r.jsxs)(c.Box,{px:t,pt:1,style:{height:"100%",overflow:b?"scroll":"auto"},children:[0===a.length&&l,a.map((function(e){var t=s.indexOf(e);return Object(r.jsxs)(c.Flex,{as:"label",my:20,alignItems:"center",children:[Object(r.jsx)(o.f,{onChange:function(){return i(t>=0?s.slice(0,t).concat(s.slice(t+1)):s.concat([e]))},checked:t>=0}),d?d({item:e}):Object(r.jsx)(o.y,{ml:"12px",variant:"bodySecondary",lineHeight:"inherit",children:e})]},e)}))]})]})}))},411:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(8),a=n(6),c=n.n(a),o=n(5),s=n(7),i=n(205),l=n(67),u=n.n(l),d=n(52),b=n(11),f=n(19),j=n(12),p=n(13),h=n(64),O=n(34),x=n(112),m=c.a.mark(k),g=c.a.mark(T),v=c.a.mark(R),y=c.a.mark(_),C=c.a.mark(I),S=c.a.mark(Q),w=c.a.mark(X),E=function(e){return{isOptimistic:!0,input_channel:null,text:e,timestamp:(new Date).getTime()/1e3,event:"user",is_flagged:!1,parse_data:{entities:[],intent:{name:"",confidence:0},intent_ranking:[],text:e}}};function k(e,t){var n,r,a,o,i,l,d;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.filter,a=n.limit,o=n.offset,c.prev=1,c.next=4,Object(s.b)(j.S,e,a,o,r.date.from&&u()(r.date.from).toISOString(),r.date.to&&u()(r.date.to).toISOString(),r.coreConfidence,r.nluConfidence,r.minimumMessages,r.intents,r.entities,r.actions,r.reviewStatus,r.slots,r.tags,r.policies,r.channels,r.flaggedOnly,r.storiesNotRecognised);case 4:return i=c.sent,l=i.total,d=i.conversations,c.next=9,Object(s.f)(p.r.success({total:l,conversations:d,offset:o}));case 9:c.next=17;break;case 11:return c.prev=11,c.t0=c.catch(1),c.next=15,Object(f.a)(c.t0);case 15:return c.next=17,Object(s.f)(p.r.failure(c.t0));case 17:case"end":return c.stop()}}),m,null,[[1,11]])}function T(e,t){var n,r,a,o,i,l;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.conversationId,a=n.environment,o=n.until,i=n.since,"full_conversation",c.prev=2,c.next=5,Object(s.b)(j.R,e,r,"full_conversation",a,o,i);case 5:return l=c.sent,c.next=8,Object(s.f)(p.h.success({conversation:l}));case 8:c.next=16;break;case 10:return c.prev=10,c.t0=c.catch(2),c.next=14,Object(f.a)(c.t0);case 14:return c.next=16,Object(s.f)(p.h.failure(c.t0));case 16:case"end":return c.stop()}}),g,null,[[2,10]])}function R(e,t){var n,r,a,o,i,l,u,d;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.conversationId,a=n.environment,o=n.until,i=n.since,l="text/yaml",c.prev=2,c.next=5,Object(s.b)(j.R,e,r,void 0,a,o,i,l,!1);case 5:return u=c.sent,c.next=8,Object(s.b)(j.R,e,r,void 0,a,o,i,l,!0);case 8:return d=c.sent,c.next=11,Object(s.f)(p.p.success({story:u,testStory:d}));case 11:c.next=19;break;case 13:return c.prev=13,c.t0=c.catch(2),c.next=17,Object(f.a)(c.t0);case 17:return c.next=19,Object(s.f)(p.h.failure(c.t0));case 19:case"end":return c.stop()}}),v,null,[[2,13]])}var A=Object(h.a)(j.vb,p.t);function _(e,t){var n,r,a,o,i;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.text,a=n.senderId,o=n.environment,i=E(r),c.prev=2,c.next=5,Object(s.b)(j.Ub,e,a,i.text,o);case 5:return c.next=7,Object(s.f)(p.y.success({message:i,senderId:a,environment:o}));case 7:c.next=15;break;case 9:return c.prev=9,c.t0=c.catch(2),c.next=13,Object(f.a)(c.t0);case 13:return c.next=15,Object(s.f)(p.y.failure({error:c.t0,message:i,senderId:a}));case 15:case"end":return c.stop()}}),y,null,[[2,9]])}function I(e,t){var n,r,a,o,l,u;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.payload,r=n.conversationId,a=n.environment,o=n.timestamp,"full_conversation",c.prev=2,c.next=5,Object(s.b)(j.R,e,r,"full_conversation",a,o);case 5:l=c.sent,u=new Blob([JSON.stringify(l)],{type:"application/javascript;charset=utf-8"}),Object(i.saveAs)(u,"".concat(r,"-dump.json")),c.next=16;break;case 10:return c.prev=10,c.t0=c.catch(2),c.next=14,Object(f.a)(c.t0);case 14:return c.next=16,Object(s.f)(p.h.failure(c.t0));case 16:case"end":return c.stop()}}),C,null,[[2,10]])}var F=Object(h.b)(j.n,p.c,(function(e,t){return{conversationId:t.conversationId}}),(function(e){return[e.conversationId]})),N=Object(h.a)(j.M,p.l),U=Object(h.a)(j.L,p.k),L=Object(h.a)(j.J,p.i),D=Object(h.a)(j.N,p.m),M=Object(h.a)(j.K,p.j),P=Object(h.b)(j.I,p.g,h.c,(function(e){return[e.botName,e.description]})),B=Object(h.a)(j.H,p.f),H=Object(h.b)(j.Hb,p.u,(function(e,t){return{conversationId:t.conversationId,timestamp:t.timestamp}}),(function(e){return[e.conversationId,e.timestamp]})),q=Object(h.b)(j.jc,p.C,(function(e,t){return{conversationId:t.conversationId,timestamp:t.timestamp}}),(function(e){return[e.conversationId,e.timestamp]})),G=Object(h.b)(j.pc,p.D,(function(e,t){return{conversationId:t.conversationId,status:t.status}}),(function(e){return[e.conversationId,e.status]})),V=Object(h.a)(j.Q,p.q),z=Object(h.b)(j.Ob,p.v,(function(e,t){return{conversationId:t.conversationId,tags:e}}),(function(e){return[e.conversationId,e.tags]})),W=Object(h.b)(j.o,p.d,(function(e,t){return{conversationId:t.conversationId,tag:t.tag}}),(function(e){return[e.conversationId,e.tag]})),Y=Object(h.a)(j.O,p.n),K=Object(h.b)(j.P,p.o,h.c,(function(e){return[e.slot,e.q]}));function Q(e){var t,n,a,i,l,u,b,f,j,h,x,m,g;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.conversationId,a=t.environment,i=t.guest,c.next=3,Object(s.h)((function(e){var t=e.messages.conversationEvents[n];return t?t[t.length-1].timestamp:0}));case 3:l=c.sent,u=i?p.s:p.h.request;case 5:return c.next=8,Object(s.f)(u({conversationId:n,environment:a,since:l}));case 8:return c.next=10,Object(s.i)([Object(o.getType)(p.h.success),Object(o.getType)(p.h.failure)]);case 10:return(b=c.sent).type===Object(o.getType)(p.h.success)&&(f=b.payload.conversation.events).length>0&&(l=f[f.length-1].timestamp),c.next=14,Object(s.h)((function(e){return[e.interactiveLearning.conversationId,e.interactiveLearning.strictMode]}));case 14:if(j=c.sent,h=Object(r.a)(j,2),x=h[0],m=h[1],x!==n||!m){c.next=23;break}return c.next=21,Object(s.g)({userMessage:Object(s.i)(Object(o.getType)(p.y.success)),botMessage:Object(s.i)(Object(o.getType)(O.f.success)),refresh:Object(s.d)(d.e)});case 21:c.next=28;break;case 23:return c.next=25,Object(s.h)((function(e){return e.messages.awaitingResponse}));case 25:return g=c.sent,c.next=28,Object(s.d)(g?d.c:d.e);case 28:c.next=5;break;case 30:case"end":return c.stop()}}),S)}function X(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.g)({poll:Object(s.b)(Q,e),stop:Object(s.i)(Object(o.getType)(p.B))});case 2:case"end":return t.stop()}}),w)}var Z=Object(h.b)(j.Qb,p.w),J=[Object(b.b)(p.y.request,_),Object(b.c)(p.x,_),Object(b.b)(p.h.request,T),Object(b.b)(p.c.request,F),Object(b.c)(p.s,T),Object(b.b)(p.t.request,A),Object(b.b)(p.r.request,k),Object(b.b)(p.e,I),Object(b.b)(p.l.request,N),Object(b.b)(p.k.request,U),Object(b.b)(p.i.request,L),Object(b.b)(p.m.request,D),Object(b.b)(p.j.request,M),Object(b.b)(p.g.request,P),Object(b.c)(p.f.request,B),Object(b.b)(p.u.request,H),Object(b.b)(p.C.request,q),Object(b.b)(p.D.request,G),Object(b.b)(p.p.request,R),Object(b.b)(p.q.request,V),Object(b.b)(p.v.request,z),Object(b.b)(p.d.request,W),Object(b.b)(p.n.request,Y),Object(b.b)(p.o.request,K),Object(b.b)(p.w.request,Z),Object(b.a)(Object(o.getType)(p.A),X,!1,!0),Object(b.a)(Object(o.getType)(p.w.success),x.b)];t.b=J},415:function(e,t,n){"use strict";var r=n(35),a=n(2),c=n(0),o=n(14),s=n(1),i=n(3),l=n(95);function u(){var e=Object(r.a)(["\n            transform: scaleX(0);\n            opacity: 0;\n          "]);return u=function(){return e},e}function d(){var e=Object(r.a)(["\n            transform: scaleX(1);\n            opacity: 1;\n          "]);return d=function(){return e},e}var b=Object(o.default)((function(e){return Object(c.jsx)(i.i,Object(a.a)({as:"li"},e))})).withConfig({displayName:"Tab",componentId:"sc-15w7qyw-0"})(["position:relative;cursor:pointer;text-align:center;"," "," &:after{content:'';border-radius:2px;width:100%;height:2px;position:absolute;left:0;float:left;bottom:0;"," transition:transform cubic-bezier(0.51,0.92,0.24,1.15) 0.2s;}&:hover:after{display:block;}"],(function(e){return!e.active&&"font-weight: 400;"}),l.a,(function(e){return e.active?Object(o.css)(d()):Object(o.css)(u())}));b.defaultProps={p:3,variant:"h4",afterBg:"primary_2"},t.a=s.memo(b)},417:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(15),a=n(8),c=n(35),o=n(0),s=n(1),i=n(4),l=n(14),u=n(133),d=n.n(u),b=n(165),f=n.n(b),j=n(41),p=n(3),h=n(95),O=n(9),x=n(31),m=n(24),g=n(2),v=n(23),y=Object(l.default)(i.Box).withConfig({displayName:"Expandable__Container",componentId:"sc-1vaci0m-0"})(["position:absolute;left:0;right:0;overflow:hidden;z-index:99;display:flex;max-height:0;height:auto;transition:max-height 0.4s ease;box-shadow:rgba(37,49,70,0.3) 0px 2px 6px 0px;",""],(function(e){return e.expanded&&"\n    max-height: 456px;\n  "})),C=s.memo((function(e){e.ref;var t=Object(v.a)(e,["ref"]);return Object(o.jsx)(y,Object(g.a)({},t))})),S=s.memo((function(e){var t=e.expanded,n=e.children,r=e.onApply,a=e.onCancel;return Object(o.jsx)(C,{expanded:t,bg:"neutral_0",children:Object(o.jsx)(i.Card,{flex:"1",sx:{borderBottom:"1px solid",borderColor:"neutral_4"},children:Object(o.jsxs)(i.Flex,{flexDirection:"column",style:{maxHeight:"100%",height:"100%"},children:[Object(o.jsx)(i.Card,{flex:"1 1 auto",sx:{borderBottom:"1px solid",borderColor:"neutral_4",overflow:"hidden",display:"flex",flexDirection:"column"},children:n}),Object(o.jsxs)(i.Flex,{py:3,px:4,flex:"0 0 auto",mr:-1,flexDirection:"row-reverse",children:[Object(o.jsx)(i.Box,{mx:1,children:Object(o.jsx)(p.d,{large:!0,onClick:r,variant:"primary",children:"Apply Filters"})}),Object(o.jsx)(i.Box,{mx:1,children:Object(o.jsx)(p.d,{large:!0,variant:"secondary",onClick:a,children:"Cancel"})})]})]})})})})),w=n(25),E=n(57);function k(){var e=Object(c.a)(["\n  align-self: stretch;\n  display: flex;\n  align-items: center;\n"]);return k=function(){return e},e}function T(){var e=Object(c.a)(["\n  &:hover,\n  &:active,\n  &:focus-within {\n    ","\n  }\n"]);return T=function(){return e},e}var R=Object(l.default)(i.Flex)(T(),(function(e){return e.highlightable?h.b:null})),A=Object(l.default)(i.Box)(k());function _(e){var t=e.adding,n=e.buttons,c=void 0===n?[]:n,l=e.className,u=e.filters,b=void 0===u?function(){return null}:u,h=e.filtersOpen,g=e.onChangeFiltersOpen,v=e.onSearch,y=e.onSearchPillClick,C=e.onSearchReturn,k=e.onSearchFocus,T=e.onSearchBlur,_=e.quickFilters,I=e.resource,F=e.searchQuery,N=void 0===F?"":F,U=e.suggestionsQuery,L=e.searchPill,D=void 0!==L&&L,M=e.setAdding,P=e.quickFiltersStyle,B=e.style,H=void 0===B?{}:B,q=e.title,G=e.total,V=e.hideTotal,z=s.useState(N),W=Object(a.a)(z,2),Y=W[0],K=W[1],Q=s.useState(N),X=Object(a.a)(Q,2),Z=X[0],J=X[1];Object(m.b)((function(){v&&Y!==(U||N)&&v(Y||"")}),300,[v,Y,N,U]);var $=s.useState(d.a.parse("")),ee=Object(a.a)($,2),te=ee[0],ne=ee[1];s.useEffect((function(){ne(d.a.parse(Z))}),[Z]);var re=s.useMemo((function(){return b(te.getConditionArray(),(function(e){var t=te.clone();t.conditionArray=e,J(t.toString())}))}),[b,te]),ae=s.useCallback((function(e){return function(t){if(_){var n=_.clear?d.a.parse(""):te.clone(),r=n.getConditionArray().filter((function(e){return e.keyword!==_.keyword}));t&&e&&r.push({keyword:_.keyword,value:e,negated:!1}),n.conditionArray=r;var a=n.toString();J(a),K(a)}}}),[_,te]),ce=s.useMemo((function(){if(!_)return null;var e=te.getConditionArray().filter((function(e){return e.keyword===_.keyword})),t=0===e.length;return Object(o.jsxs)(o.Fragment,{children:[_.all&&Object(o.jsx)(p.s,{onChange:t?void 0:ae(),active:t,label:_.all,permanent:!0,total:void 0!==_.total?_.total:G}),_.values.map((function(t){var n=t.label,r=t.total;return Object(o.jsx)(p.s,{onChange:ae(n),active:1===e.length&&e[0].value===n,label:n,total:r},n)}))]})}),[_,te,ae,G]),oe=M&&Object(o.jsx)(x.a,{resource:I,action:O.a.Create,yes:Object(o.jsx)(w.a,{content:"Add ".concat(Object(j.startCase)(f()(I.toString(),1,!1)).toLowerCase()),hideOnClick:!0,disabled:t,children:Object(o.jsx)(p.d,{active:t,variant:"headerIcon",onClick:function(){return M(!t)},"data-qa":"table-header-add_button",children:Object(o.jsx)(p.j,{icon:"plus"})})})}),se=s.useCallback((function(){return g&&g(!h)}),[g,h]),ie=s.useCallback((function(){se(),K(Z)}),[Z,se,K]),le=re&&g&&Object(o.jsx)(x.a,{resource:I,action:O.a.Read,yes:Object(o.jsx)(p.d,{active:h,variant:"headerIcon",onClick:se,"data-qa":"table-header-filters_button",children:Object(o.jsx)(p.j,{icon:"sliders-h"})})}),ue=[].concat(Object(r.a)(c),[oe,le]).filter((function(e){return!!e})),de="Search ".concat(Object(j.startCase)(f()(I.toString(),G,!V)).toLowerCase(),"..."),be=s.useCallback((function(){se(),J(Y)}),[se,J,Y]),fe=!D||D&&!N;return Object(o.jsxs)(o.Fragment,{children:[ce&&Object(o.jsx)(i.Box,{style:P,as:"section",flex:"0 1 auto",mb:2,children:ce}),(v||ue.length>0)&&Object(o.jsxs)(i.Flex,{className:l,style:H,color:"white",justifyContent:"space-between",alignItems:"center",children:[q&&Object(o.jsxs)(p.i,{variant:"h4",pl:4,children:[q," ",Object(o.jsxs)(i.Box,{as:"span",color:"neutral_6",style:{fontWeight:"normal"},children:["(",G,")"]})]}),v&&Object(o.jsxs)(R,{px:4,flex:"1",alignItems:"center",bgActive:"neutral_1",highlightable:fe,style:{height:"100%"},children:[Object(o.jsx)(i.Box,{children:Object(o.jsx)(p.j,{icon:"search",color:"neutral_6"})}),Object(o.jsxs)(A,{flex:1,children:[fe&&Object(o.jsx)(p.l,{fullWidth:!0,fullHeight:!0,onChangeValue:K,placeholder:de,value:Y,onFocus:k,onBlur:T,onReturn:function(e){K(""),null===C||void 0===C||C(e)},variant:"search"}),!fe&&Object(o.jsxs)(p.r,{bg:"primary_1",color:"neutral_0",onClick:function(){K(""),null===y||void 0===y||y()},ml:3,children:[N,Object(o.jsx)(p.j,{icon:"times",ml:2,color:"neutral_0"})]})]})]}),!v&&Object(o.jsx)(i.Box,{flex:"1"}),ue.map((function(e,t){return Object(o.jsx)(E.a,{left:!0,children:e},t)}))]}),re&&Object(o.jsx)(i.Box,{style:{width:H.width,left:H.left,position:"absolute"},children:Object(o.jsx)(S,{expanded:h,onApply:ie,onCancel:be,children:re})})]})}},43:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n(5),a=Object(r.createAsyncAction)("FETCH GROUPED RESPONSES","FETCH GROUPED RESPONSES SUCCESS","FETCH GROUPED RESPONSES FAILURE")(),c=Object(r.createAsyncAction)("FETCH RESPONSES SUGGESTIONS","FETCH RESPONSES SUGGESTIONS SUCCESS","FETCH RESPONSES SUGGESTIONS FAILURE")(),o=Object(r.createAsyncAction)("ADD RESPONSE","ADD RESPONSE SUCCESS","ADD RESPONSE FAILURE")(),s=Object(r.createAsyncAction)("UPDATE RESPONSE","UPDATE RESPONSE SUCCESS","UPDATE RESPONSE FAILURE")(),i=Object(r.createAsyncAction)("UPDATE RESPONSE NAME","UPDATE RESPONSE NAME SUCCESS","UPDATE RESPONSE NAME FAILURE")(),l=Object(r.createAsyncAction)("DELETE RESPONSE","DELETE RESPONSE SUCCESS","DELETE RESPONSE FAILURE")(),u=Object(r.createStandardAction)("SEARCH RESPONSES")()},44:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return f}));var r=n(5),a=Object(r.createAsyncAction)("FETCH RULES","FETCH RULES SUCCESS","FETCH RULES FAILURE")(),c=Object(r.createAsyncAction)("FETCH RULE VISUALIZATION","FETCH RULE VISUALIZATION SUCCESS","FETCH RULE VISUALIZATION FAILURE")(),o=Object(r.createAsyncAction)("SAVE RULE","SAVE RULE SUCCESS","SAVE RULE FAILURE")(),s=Object(r.createAsyncAction)("UPDATE RULE","UPDATE RULE SUCCESS","UPDATE RULE FAILURE")(),i=Object(r.createAsyncAction)("DELETE RULE","DELETE RULE SUCCESS","DELETE RULE FAILURE")(),l=Object(r.createAsyncAction)("ADD RULES","ADD RULES SUCCESS","ADD RULES FAILURE")(),u=Object(r.createAsyncAction)("REPLACE RULES","REPLACE RULES SUCCESS","REPLACE RULES FAILURE")(),d=Object(r.createStandardAction)("CHANGE RULES")(),b=Object(r.createStandardAction)("CHANGE RULE SELECTION")(),f=Object(r.createStandardAction)("DOWNLOAD RULES")()},45:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return d}));var r=n(5),a=Object(r.createAsyncAction)("FETCH USERS","FETCH USERS SUCCESS","FETCH USERS FAILURE")(),c=Object(r.createAsyncAction)("FETCH USER","FETCH USER SUCCESS","FETCH USER FAILURE")(),o=Object(r.createAsyncAction)("UPDATE USER","UPDATE USER SUCCESS","UPDATE USER FAILURE")(),s=Object(r.createAsyncAction)("SAVE USER ROLES","SAVE USER ROLES SUCCESS","SAVE USER ROLES FAILURE")(),i=Object(r.createAsyncAction)("DELETE USER","DELETE USER SUCCESS","DELETE USER FAILURE")(),l=Object(r.createStandardAction)("SAVE USERS")(),u=Object(r.createStandardAction)("SEARCH USERS")(),d=Object(r.createStandardAction)("ONBOARDING STEP COMPLETED")()},48:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return d}));var r=n(5),a=Object(r.createAsyncAction)("SAVE SUGGESTION","SAVE SUGGESTION SUCCESS","SAVE SUGGESTION FAILURE")(),c=Object(r.createAsyncAction)("FETCH SYNONYM BY MAPPED VALUE","FETCH SYNONYM BY MAPPED VALUE SUCCESS","FETCH SYNONYM BY MAPPED VALUE FAILURE")(),o=Object(r.createAsyncAction)("FETCH SUGGESTIONS","FETCH SUGGESTIONS SUCCESS","FETCH SUGGESTIONS FAILURE")(),s=Object(r.createStandardAction)("SET TOTAL FETCHED CONVERSATIONS")(),i=Object(r.createAsyncAction)("DELETE SUGGESTION","DELETE SUGGESTION SUCCESS","DELETE SUGGESTION FAILURE")(),l=Object(r.createAsyncAction)("CHECK DRAFT SUGGESTION","CHECK DRAFT SUGGESTION SUCCESS","CHECK DRAFT SUGGESTION FAILURE")(),u=Object(r.createStandardAction)("CHANGE SUGGESTION")(),d=Object(r.createStandardAction)("SEARCH SUGGESTIONS")()},50:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return l}));var r=n(5),a=Object(r.createAsyncAction)("FETCH SYNONYMS","FETCH SYNONYMS SUCCESS","FETCH SYNONYMS FAILURE")(),c=Object(r.createAsyncAction)("UPDATE SYNONYM VALUE","UPDATE SYNONYM VALUE SUCCESS","UPDATE SYNONYM VALUE FAILURE")(),o=Object(r.createAsyncAction)("UPDATE SYNONYM REFERENCE","UPDATE SYNONYM REFERENCE SUCCESS","UPDATE SYNONYM REFERENCE FAILURE")(),s=Object(r.createAsyncAction)("ADD SYNONYM","ADD SYNONYM SUCCESS","ADD SYNONYM FAILURE")(),i=Object(r.createAsyncAction)("ADD SYNONYM VALUES","ADD SYNONYM VALUES SUCCESS","ADD SYNONYM VALUES FAILURE")(),l=Object(r.createAsyncAction)("DELETE SYNONYM VALUES","DELETE SYNONYM VALUES SUCCESS","DELETE SYNONYM VALUES FAILURE")();Object(r.createStandardAction)("SEARCH SYNONYMS")()},511:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(8),a=n(23),c=n(2),o=n(5),s=n(67),i=n.n(s),l=n(208),u={PT1H:{start:i()().endOf("hour").subtract(1,"day").add(1,"minute").unix(),end:i()().endOf("hour").unix()},P1D:{start:i()().endOf("day").subtract(1,"month").add(1,"hour").unix(),end:i()().endOf("day").unix()},P1M:{start:i()().endOf("month").subtract(1,"year").add(1,"day").unix(),end:i()().endOf("month").unix()}},d={metrics:{conversation_length:[],conversation_steps:[],sessions_per_user:[],conversations:[],new_users:[],user_messages:[],bot_messages:[],total_messages:[]},start:u.P1D.start,end:u.P1D.end,bucket:"P1D",loading:!1},b=function(e,t,n){return n.map((function(n,r){return{value:n,timestamp:e+r*t}}))};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(o.getType)(l.a.request):var n=t.payload,s=n.bucket,i=n.start,u=n.end;return Object(c.a)(Object(c.a)({},e),{},{bucket:s,start:i,end:u,loading:!0});case Object(o.getType)(l.a.success):var f=e.start,j=t.payload,p=j.bin_width,h=Object(a.a)(j,["bin_width"]),O=Object.entries(h).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,b(f,p,a)]})).reduce((function(e,t){var n=Object(r.a)(t,2),a=n[0],o=n[1];return Object(c.a)(Object(c.a)({},e),{},{[a]:o})}),{});return Object(c.a)(Object(c.a)({},e),{},{metrics:O,loading:!1});case Object(o.getType)(l.a.failure):return Object(c.a)(Object(c.a)({},e),{},{loading:!1});default:return e}}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var r=!1,a="true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENTERPRISE:"false",REACT_APP_GIT_SHA:"566c684",REACT_APP_API_URL:"/"}).REACT_APP_SERVER||!1||"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENTERPRISE:"false",REACT_APP_GIT_SHA:"566c684",REACT_APP_API_URL:"/"}).REACT_APP_GIT_INTEGRATION_AVAILABLE||!1,c=3e3,o=500,s=15},55:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));var r=n(5),a=Object(r.createAsyncAction)("SAVE CONFIG","SAVE CONFIG SUCCESS","SAVE CONFIG FAILURE")(),c=Object(r.createAsyncAction)("FETCH CONFIG","FETCH CONFIG SUCCESS","FETCH CONFIG FAILURE")(),o=Object(r.createAsyncAction)("SAVE DOMAIN","SAVE DOMAIN SUCCESS","SAVE DOMAIN FAILURE")(),s=Object(r.createAsyncAction)("FETCH DOMAIN","FETCH DOMAIN SUCCESS","FETCH DOMAIN FAILURE")(),i=Object(r.createAsyncAction)("FETCH DOMAIN WARNINGS","FETCH DOMAIN WARNINGS SUCCESS","FETCH DOMAIN WARNINGS FAILURE")()},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),a=n(23),c=n(0),o=(n(1),n(4));function s(e){var t=e.top,n=e.right,s=e.bottom,i=e.left,l=Object(a.a)(e,["top","right","bottom","left"]);return Object(c.jsx)(o.Card,Object(r.a)(Object(r.a)({},l),{},{sx:Object(r.a)({flexShrink:0,borderColor:"neutral_4",borderTopStyle:t?"solid":"",borderTopWidth:t?"1px":"",borderRightStyle:n?"solid":"",borderRightWidth:n?"1px":"",borderBottomStyle:s?"solid":"",borderBottomWidth:s?"1px":"",borderLeftStyle:i?"solid":"",borderLeftWidth:i?"1px":""},l.sx)}))}},64:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(15),a=n(6),c=n.n(a),o=n(7),s=n(19),i=void 0;function l(e,t){var n=c.a.mark(r);function r(r){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(o.b)(e,r);case 3:return a=n.sent,n.next=6,Object(o.f)(t.success(a));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(s.a)(n.t0);case 12:return n.next=14,Object(o.f)(t.failure(n.t0));case 14:case"end":return n.stop()}}),n,null,[[0,8]])}return r}function u(e,t,n,a){var i=c.a.mark(l);function l(l,u){var d,b,f;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,d=a?a(u.payload):[u.payload],c.next=4,o.b.apply(void 0,[e,l].concat(Object(r.a)(d)));case 4:return b=c.sent,f=n?n(b,u.payload):b,c.next=8,Object(o.f)(t.success(f));case 8:c.next=16;break;case 10:return c.prev=10,c.t0=c.catch(0),c.next=14,Object(s.a)(c.t0);case 14:return c.next=16,Object(o.f)(t.failure(c.t0));case 16:case"end":return c.stop()}}),i,null,[[0,10]])}return l}},641:function(e,t,n){"use strict";var r=n(35),a=n(1),c=n(14),o=n(148);function s(){var e=Object(r.a)([""]);return s=function(){return e},e}var i=Object(c.default)(o.a)(s());i.defaultProps={justifyContent:"center",alignItems:"flex-end",height:"100%"},t.a=a.memo(i)},68:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n(5),a=Object(r.createAsyncAction)("FETCH ROLES","FETCH ROLES SUCCESS","FETCH ROLES FAILURE")(),c=Object(r.createAsyncAction)("FETCH ROLE","FETCH ROLE SUCCESS","FETCH ROLE FAILURE")(),o=Object(r.createAsyncAction)("FETCH ROLE USERS","FETCH ROLE USERS SUCCESS","FETCH ROLE USERS FAILURE")(),s=Object(r.createAsyncAction)("SAVE ROLE","SAVE ROLE SUCCESS","SAVE ROLE FAILURE")(),i=Object(r.createAsyncAction)("UPDATE ROLE","UPDATE ROLE SUCCESS","UPDATE ROLE FAILURE")(),l=Object(r.createAsyncAction)("DELETE ROLE","DELETE ROLE SUCCESS","DELETE ROLE FAILURE")(),u=Object(r.createStandardAction)("FIND AND UPDATE ROLE")()},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n(23),c=n(0),o=(n(1),n(4)),s=n(3);function i(e){var t=e.text,n=e.children,i=Object(a.a)(e,["text","children"]);return Object(c.jsxs)(s.y,Object(r.a)(Object(r.a)({variant:"bodySecondary",as:"label",fontWeight:700,width:"100%"},i),{},{children:[Object(c.jsx)(o.Box,{mb:2,children:t}),n]}))}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return j})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return g}));var r=n(15),a=n(8),c=n(2),o=n(5),s=n(41),i=n(52),l=n(411),u=n(13),d=n(28),b=n(131),f={Tester:"Tester (Share your bot)",facebook:"Facebook",mattermost:"Mattermost",rasa:"Internal (Interactive Learning)",rocketchat:"Rocket.Chat",slack:"Slack",socketio:"Socket.io",telegram:"Telegram",twilio:"Twilio",webexteams:"Webex Teams"},j=[{label:"All (default)",status:null},{label:"Reviewed",status:"reviewed"},{label:"Saved for later",status:"saved_for_later"},{label:"Unread",status:"unread"}];function p(e,t){if("active_loop"===e.event||"form"===e.event)return"active_loop".concat(JSON.stringify({name:e.name}));switch(e.event){case"user":var n=e.parse_data.intent?e.parse_data.intent.name:"null",r=e.parse_data.entities;if(t){var a=(/\/\S+/.test(e.text)?{text:e.text}:r.reduce((function(e,t){var n=t.entity,r=t.value,a=t.start,c=t.end,o="[".concat(r,"](").concat(n,")");return{text:e.text.substring(0,a+e.offset)+o+e.text.substring(c+e.offset),offset:o.length-r.length}}),{text:e.text,offset:0})).text;return"".concat(n,": ").concat(a)}var o=0===r.length?"":JSON.stringify(r.reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},{[t.entity]:t.value})}),{}));return"".concat(n).concat(o);case"slot":return"slot".concat(JSON.stringify({[e.name]:e.value}));case"action":return e.name;case"bot":return e.text;default:return e.event}}var h={channels:[],intents:[],entities:[],actions:[],policies:[],reviewStatus:null,slots:[],tags:[],confidence:null,coreConfidence:null,nluConfidence:null,minimumMessages:null,flaggedOnly:!1,storiesNotRecognised:!1},O=Object(c.a)(Object(c.a)({},h),{},{date:{from:null,to:null}}),x={actions:[],awaitingResponse:!1,channels:[],conversationDeletionFailed:!1,conversations:{},conversationEvents:{},conversationsStatistics:null,draftFilter:O,entities:[],environment:"production",userEnvironment:"production",error:null,fastRefreshes:0,filter:O,intents:[],loading:{conversation:!1,conversations:!1,e2eTest:!1},policies:[],slotNames:[],slotValues:[],story:null,testStory:null,total:0,selectedIntent:{conversationId:null,intent:null,timestamp:null},chatToken:null,botName:null,botDescription:null,tags:[],e2eTest:null};function m(e){for(var t=["restart","session_started"],n=!1,o=function(r){if(t.some((function(t){return t===e[r].event})))return e[r-1].nextBreakEvent===e[r].timestamp&&(n=!0),"break"},s=e.length-1;0<s;s--){if("break"===o(s))break}if(n)return e;var i=e.reduceRight((function(e,n,o){var s=Object(a.a)(e,2),i=s[0],l=s[1];return[[].concat(Object(r.a)(i.slice(0,o)),[Object(c.a)(Object(c.a)({},n),{},{nextBreakEvent:l})],Object(r.a)(i.slice(o+1))),t.some((function(e){return e===n.event}))?n.timestamp:l]}),[e,null]);return Object(a.a)(i,1)[0]}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(o.getType)(d.h):return x;case Object(o.getType)(u.h.request):return Object(c.a)(Object(c.a)({},e),{},{loading:Object(c.a)(Object(c.a)({},e.loading),{},{conversation:!0})});case Object(o.getType)(u.h.failure):return Object(c.a)(Object(c.a)({},e),{},{loading:Object(c.a)(Object(c.a)({},e.loading),{},{conversation:!1}),error:t.payload});case Object(o.getType)(u.h.success):var n=t.payload.conversation,a=n.events,f=n.sender_id,j=e.conversationEvents,p=e.environment;if(0===a.length)return e;var h=(j[f]||[]).filter((function(e){return!("isOptimistic"in e)||!0!==e.isOptimistic})),O=h.length>0?h[h.length-1].timestamp:0,g=a[0].timestamp,v=g<=O?a.filter((function(e){return O<e.timestamp})):a,y=[].concat(Object(r.a)(h),Object(r.a)(v)),C=y[y.length-1],S=!C||"action"===C.event&&"action_listen"===C.name,w=j[f],E=w&&y.length===w.length&&y[y.length-1].timestamp===w[w.length-1].timestamp,k=E?j:Object(c.a)(Object(c.a)({},j),{},{[f]:m(y)}),T=e.fastRefreshes>i.d;return Object(c.a)(Object(c.a)({},e),{},{conversationEvents:k,error:null,userEnvironment:p,loading:Object(c.a)(Object(c.a)({},e.loading),{},{conversation:!1}),awaitingResponse:!S&&!T,fastRefreshes:S?0:e.fastRefreshes+(T?0:1)});case Object(o.getType)(u.x):case Object(o.getType)(u.y.request):var R=t.payload,A=R.text,_=R.senderId,I=Object(l.a)(A),F=e.conversationEvents,N=F[_]||[],U=Object(s.sortedIndexBy)(N,I,(function(e){return e.timestamp}));return Object(c.a)(Object(c.a)({},e),{},{conversationEvents:Object(c.a)(Object(c.a)({},F),{},{[_]:[].concat(Object(r.a)(N.slice(0,U)),[I],Object(r.a)(N.slice(U+1)))})});case Object(o.getType)(u.y.success):var L=t.payload,D=L.message,M=L.senderId,P=e.conversationEvents,B=P[M]||[],H=Object(s.sortedLastIndexBy)(B,D,(function(e){return Object(s.isEqual)(e,D)}));return H<0?e:Object(c.a)(Object(c.a)({},e),{},{awaitingResponse:!0,conversationEvents:Object(c.a)(Object(c.a)({},P),{},{[M]:[].concat(Object(r.a)(B.slice(0,H)),Object(r.a)(B.slice(H+1)))})});case Object(o.getType)(u.y.failure):var q=t.payload,G=q.message,V=q.senderId,z=e.conversationEvents,W=z[V]||[];return Object(c.a)(Object(c.a)({},e),{},{awaitingResponse:!1,conversationEvents:Object(c.a)(Object(c.a)({},z),{},{[V]:W.filter((function(e){return!Object(s.isEqual)(e,G)}))})});case Object(o.getType)(u.C.success):case Object(o.getType)(u.u.success):var Y=t.type===Object(o.getType)(u.u.success),K=t.payload,Q=K.conversationId,X=K.timestamp,Z="FLAG MESSAGE SUCCESS"===t.type,J=e.conversationEvents,$=J[Q]||[];return Object(c.a)(Object(c.a)({},e),{},{conversations:Object(s.mapValues)(e.conversations,(function(e){return e.sender_id!==Q?e:Object(c.a)(Object(c.a)({},e),{},{has_flagged_messages:Z||$.some((function(e){return e.timestamp!==X&&e.is_flagged}))})})),conversationEvents:Object(c.a)(Object(c.a)({},J),{},{[Q]:$.map((function(e){return e.timestamp!==X?e:Object(c.a)(Object(c.a)({},e),{},{is_flagged:Y})}))})});case Object(o.getType)(u.r.request):var ee=t.payload.filter;return Object(c.a)(Object(c.a)({},e),{},{loading:Object(c.a)(Object(c.a)({},e.loading),{},{conversations:!0}),draftFilter:ee,filter:ee});case Object(o.getType)(u.r.success):var te=t.payload,ne=te.conversations,re=te.total,ae=te.offset,ce=re>=e.total?e.conversations:{},oe=Object(b.a)(ce,ne,ae||0,(function(e,t){return e.sender_id===t.sender_id}));return Object(c.a)(Object(c.a)({},e),{},{conversations:oe,total:re,loading:Object(c.a)(Object(c.a)({},e.loading),{},{conversations:!1})});case Object(o.getType)(u.c.request):return Object(c.a)(Object(c.a)({},e),{},{conversationDeletionFailed:!1});case Object(o.getType)(u.c.success):var se=t.payload.conversationId,ie=Object.keys(e.conversations).find((function(t){return e.conversations[t].sender_id===se})),le=Object(s.pickBy)(e.conversations,(function(e,t){return t!==ie})),ue=Object.keys(le).map((function(e,t){return{[t]:le[e]}})),de=Object.assign.apply(Object,[{}].concat(Object(r.a)(ue)));return Object(c.a)(Object(c.a)({},e),{},{conversationDeletionFailed:!1,conversations:de,conversationEvents:Object(s.pickBy)(e.conversationEvents,(function(e,t){return t!==ie})),total:e.total-1});case Object(o.getType)(u.c.failure):return Object(c.a)(Object(c.a)({},e),{},{conversationDeletionFailed:!0});case Object(o.getType)(u.D.success):var be=t.payload,fe=be.conversationId,je=be.status;return Object(c.a)(Object(c.a)({},e),{},{conversations:Object(s.mapValues)(e.conversations,(function(e){return e.sender_id!==fe?e:Object(c.a)(Object(c.a)({},e),{},{review_status:je})}))});case Object(o.getType)(u.q.success):return Object(c.a)(Object(c.a)({},e),{},{tags:t.payload});case Object(o.getType)(u.p.success):return Object(c.a)(Object(c.a)({},e),{},{story:t.payload.story,testStory:t.payload.testStory});case Object(o.getType)(u.v.success):var pe=t.payload,he=pe.tags,Oe=pe.conversationId;return Object(c.a)(Object(c.a)({},e),{},{tags:[].concat(Object(r.a)(e.tags.filter((function(e){return void 0===he.find((function(t){return t.id===e.id}))}))),Object(r.a)(he)),conversations:Object(s.mapValues)(e.conversations,(function(e){return e.sender_id!==Oe?e:Object(c.a)(Object(c.a)({},e),{},{tags:Object(r.a)(new Set([].concat(Object(r.a)(e.tags),Object(r.a)(he.map((function(e){return e.id}))))))})}))});case Object(o.getType)(u.d.success):var xe=t.payload,me=xe.tag,ge=xe.conversationId;return Object(c.a)(Object(c.a)({},e),{},{conversations:Object(s.mapValues)(e.conversations,(function(e){return e.sender_id!==ge?e:Object(c.a)(Object(c.a)({},e),{},{tags:e.tags.filter((function(e){return e!==me.id}))})}))});case Object(o.getType)(u.w.request):return Object(c.a)(Object(c.a)({},e),{},{loading:Object(c.a)(Object(c.a)({},e.loading),{},{e2eTest:!0})});case Object(o.getType)(u.w.success):var ve=t.payload;return Object(c.a)(Object(c.a)({},e),{},{e2eTest:ve,loading:Object(c.a)(Object(c.a)({},e.loading),{},{e2eTest:!1})});case Object(o.getType)(u.w.failure):return Object(c.a)(Object(c.a)({},e),{},{loading:Object(c.a)(Object(c.a)({},e.loading),{},{e2eTest:!1}),error:t.payload});case Object(o.getType)(u.a):return Object(c.a)(Object(c.a)({},e),{},{environment:t.payload});case Object(o.getType)(u.z):return Object(c.a)(Object(c.a)({},e),{},{selectedIntent:t.payload});case Object(o.getType)(u.l.success):return Object(c.a)(Object(c.a)({},e),{},{intents:t.payload.sort()});case Object(o.getType)(u.k.success):return Object(c.a)(Object(c.a)({},e),{},{entities:t.payload.sort()});case Object(o.getType)(u.i.success):return Object(c.a)(Object(c.a)({},e),{},{actions:t.payload.sort()});case Object(o.getType)(u.m.success):return Object(c.a)(Object(c.a)({},e),{},{policies:t.payload.sort()});case Object(o.getType)(u.n.success):return Object(c.a)(Object(c.a)({},e),{},{slotNames:t.payload.sort()});case Object(o.getType)(u.o.success):return Object(c.a)(Object(c.a)({},e),{},{slotValues:t.payload.sort()});case Object(o.getType)(u.j.success):return Object(c.a)(Object(c.a)({},e),{},{channels:t.payload.sort()});case Object(o.getType)(u.g.success):return Object(c.a)(Object(c.a)({},e),{},{chatToken:t.payload.chat_token});case Object(o.getType)(u.f.success):return Object(c.a)(Object(c.a)({},e),{},{botName:t.payload.bot_name,botDescription:t.payload.description});case Object(o.getType)(u.b):return Object(c.a)(Object(c.a)({},e),{},{draftFilter:t.payload});case Object(o.getType)(u.t.success):return Object(c.a)(Object(c.a)({},e),{},{conversationsStatistics:t.payload});default:return e}}},9:function(e,t,n){"use strict";n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return O}));var r,a,c=n(2),o=n(15),s=n(8),i=n(5),l=n(516),u=n.n(l),d=n(28),b="current";!function(e){e.Create="create",e.Read="read",e.List="read",e.Update="update",e.Delete="delete"}(r||(r={})),function(e){e.ActionPrediction="actionPrediction",e.AllEvaluations="allEvaluations",e.Analytics="analytics",e.Branch="branch",e.BulkData="bulkData",e.BulkResponses="bulkResponseTemplates",e.BulkStories="bulkStories",e.ChatToken="chatToken",e.ClientEvaulation="clientEvaluation",e.ClientEvents="clientEvents",e.ClientMessages="clientMessages",e.Clients="clients",e.Commit="commit",e.ConversationActions="conversationActions",e.ConversationEntities="conversationEntities",e.ConversationIntents="conversationIntents",e.ConversationPolicies="conversationPolicies",e.Domain="domain",e.EntitySynonyms="entity_synonyms",e.Environments="environments",e.Examples="examples",e.Features="features",e.Intents="intents",e.Logs="logs",e.Lookup="lookup",e.MessageFlags="messageFlags",e.MessageIntents="messageIntents",e.Messages="messages",e.Metadata="metadata",e.Models="models",e.NLGResponse="nlgResponse",e.Projects="projects",e.Regexes="regexes",e.Repositories="repositories",e.RepositoryStatus="repository_status",e.Responses="responseTemplates",e.Roles="roles",e.Rules="rules",e.Statistics="statistics",e.Stories="stories",e.Tests="tests",e.User="user",e.UserGoals="userGoals",e.Users="users",e.Warnings="warnings"}(a||(a={}));var f="none",j={accessToken:null,apiToken:"",error:null,features:[],guestAccessToken:null,guestUsername:null,loading:!1,role:[f],username:null,permissions:[],newEnterpriseUser:!1,enterpriseUser:!1},p={get:"read",list:"read"};function h(e){var t={};return e.forEach((function(e){var n=e.split(":"),r=Object(s.a)(n,2),i=r[0],l=r[1],u=i.split("."),d=p[l]||l,f=Object.entries(a).find((function(e){return Object(s.a)(e,2)[1]===u[0]}));if(void 0!==f){var j=a[f[0]],h=u.slice(1);t[j]||(t[j]={});var O=t[j][d]||{role:b,resource:j,action:d,possession:"any",attributes:[]};if("*"!==O.attributes[0]){var x=0===h.length?["*"]:[].concat(Object(o.a)(O.attributes),Object(o.a)(h));t[j][d]=Object(c.a)(Object(c.a)({},O),{},{attributes:x})}}})),Object.keys(t).flatMap((function(e){var n=t[e];return Object.keys(n).map((function(e){return n[e]}))}))}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(i.getType)(d.g.failure):return Object(c.a)(Object(c.a)({},e),{},{error:t.payload,accessToken:null,username:null});case Object(i.getType)(d.f.success):var n=t.payload.access_token,r=u()(n),a=r.username;return Object(c.a)(Object(c.a)({},e),{},{guestAccessToken:n,guestUsername:a});case Object(i.getType)(d.c.success):case Object(i.getType)(d.g.success):var o=t.payload.access_token,s=u()(o),l=s.username,b=s.scopes,f=s.user,p=f.roles,O=f.api_token,x=Object(c.a)(Object(c.a)({},e),{},{error:null,accessToken:o,username:l,permissions:h(b)}),m=Object(c.a)(Object(c.a)({},x),{},{apiToken:O,role:p});return t.type===Object(i.getType)(d.g.success)?m:Object(c.a)(Object(c.a)({},m),{},{newEnterpriseUser:null===l,enterpriseUser:!0});case Object(i.getType)(d.h):return Object(c.a)({},j);case Object(i.getType)(d.d.success):return Object(c.a)(Object(c.a)({},e),{},{features:t.payload});case Object(i.getType)(d.i.success):var g=t.payload;return Object(c.a)(Object(c.a)({},e),{},{features:e.features.map((function(e){return e.name===g.name?g:e}))});case Object(i.getType)(d.b.success):var v=t.payload,y=v.username,C=v.api_token,S=v.roles;return Object(c.a)(Object(c.a)({},e),{},{error:null,username:y,apiToken:C,role:S});case Object(i.getType)(d.b.failure):return Object(c.a)(Object(c.a)({},e),{},{error:t.payload});case Object(i.getType)(d.c.failure):return Object(c.a)(Object(c.a)({},e),{},{error:t.payload,newEnterpriseUser:!1,enterpriseUser:!1});default:return e}}},95:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return b}));var r=n(35),a=n(14),c=n(20);function o(){var e=Object(r.a)(["\n  &:after {\n    ",";\n  }\n"]);return o=function(){return e},e}function s(){var e=Object(r.a)(["\n  &:disabled {\n    ","\n    ","\n    ","\n  }\n"]);return s=function(){return e},e}function i(){var e=Object(r.a)(["\n  &:hover:not(:disabled) {\n    ","\n  }\n"]);return i=function(){return e},e}var l=Object(a.css)(i(),Object(c.system)({colorHover:{property:"color",scale:"colors"},bgHover:{property:"backgroundColor",scale:"colors"},borderColorHover:{property:"borderColor",scale:"colors"}})),u=(Object(a.css)(s(),Object(c.system)({colorDisabled:{property:"color",scale:"colors"}}),Object(c.system)({borderColorDisabled:{property:"borderColor",scale:"colors"}}),Object(c.system)({bgDisabled:{property:"backgroundColor",scale:"colors"}})),Object(c.system)({bgActive:{property:"backgroundColor",scale:"colors"}})),d=Object(c.system)({colorActive:{property:"color",scale:"colors"}}),b=Object(a.css)(o(),Object(c.system)({afterBg:{property:"backgroundColor",scale:"colors"}}))},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n(1),c=n(4),o=n(14),s=n(20),i=n(3),l=a.memo((function(e){var t=e.content,n=e.leftContent,l=e.centreContent,u=e.rightContent,d=e.title,b=a.useContext(o.ThemeContext);return Object(r.jsxs)(c.Flex,{style:{height:Object(s.get)(b,"space.10")},"data-qa":"title-bar_div",alignItems:"center",justifyContent:"space-between",children:[n&&Object(r.jsx)(c.Box,{flex:"0 1 auto",children:n}),Object(r.jsx)(c.Box,{p:4,children:Object(r.jsx)(i.i,{variant:"h3",children:d})}),t&&Object(r.jsx)(c.Box,{flex:"1 1",alignSelf:"stretch",children:t}),!t&&Object(r.jsxs)(r.Fragment,{children:[l&&Object(r.jsx)(c.Flex,{height:"100%",children:l}),u&&Object(r.jsx)(c.Flex,{alignItems:"right",children:u})]})]})}));function u(e){var t=e.noPadding,n=e.title,a=e.content,o=e.leftContent,s=e.centreContent,i=e.rightContent,u=e.children,d=e.scrollable;return Object(r.jsxs)(c.Flex,{flex:"1",flexDirection:"column",style:{maxWidth:"100%",overflow:"hidden"},children:[Object(r.jsx)(c.Box,{flex:"0 0 auto",style:{boxShadow:"0 2px 6px 0 #ECEFF7",zIndex:99},children:Object(r.jsx)(l,{title:n,content:a,leftContent:o,centreContent:s,rightContent:i})}),Object(r.jsxs)(c.Box,{flex:"1 1 auto",px:t?0:10,py:t?0:7,style:{height:"100%",overflow:d?"auto":"hidden"},bg:"neutral_3",children:[u,d&&Object(r.jsx)(c.Box,{pb:t?0:7})]})]})}},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(15),a=n(8),c=n(2),o=n(23),s=n(0),i=n(14),l=(n(1),n(740)),u=n(185),d=(n(986),n(987),n(988),n(989),n(20)),b=n(4),f=n(3),j=Object(i.default)((function(e){e.p,e.pt,e.bg,e.borderRadius,e.boxShadow,e.textAlign;var t=Object(o.a)(e,["p","pt","bg","borderRadius","boxShadow","textAlign"]);return Object(s.jsx)(l.a,Object(c.a)({},t))})).withConfig({displayName:"BaseTooltip__Tippy",componentId:"sc-1ryivhs-0"})(["&&{"," "," ","}.tippy-content{padding:0;}.tippy-content > div{"," ","}.tippy-arrow{transform:scale(0.9);}&&[data-placement^='top']{.tippy-arrow::before{border-top-color:",";}}&&[data-placement^='bottom']{.tippy-arrow::before{border-bottom-color:",";}}&&[data-placement^='left']{.tippy-arrow::before{border-left-color:",";}}&&[data-placement^='right']{.tippy-arrow::before{border-right-color:",";}}&&[data-placement^='right-start']{.tippy-arrow::before{margin-left:-1px;transform:scale(0.8);border-right-color:",";}}"],d.boxShadow,d.borderRadius,d.color,d.space,d.textAlign,(function(e){return Object(d.color)(e).backgroundColor}),(function(e){return Object(d.color)(e).backgroundColor}),(function(e){return Object(d.color)(e).backgroundColor}),(function(e){return Object(d.color)(e).backgroundColor}),(function(e){return Object(d.color)(e).backgroundColor}));function p(e){var t=e.containerStyle,n=e.children,i=e.heading,l=e.content,d=e.inline,p=e.m,h=e.mt,O=e.mr,x=e.mb,m=e.ml,g=e.mx,v=e.my,y=e.p,C=e.pt,S=e.pr,w=e.pb,E=e.pl,k=e.px,T=e.py,R=e.onCloseClick,A=(e.onClose,Object(o.a)(e,["containerStyle","children","heading","content","inline","m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","onCloseClick","onClose"])),_={m:p,mt:h,mr:O,mb:x,ml:m,mx:g,my:v},I=Object.fromEntries(Object.entries({p:y,pt:C,pr:S,pb:w,pl:E,px:k,py:T}).filter((function(e){var t=Object(a.a)(e,2);t[0];return void 0!==t[1]}))),F=[u.a].concat(Object(r.a)(A.sticky?[u.e]:[]),Object(r.a)(A.inlinePositioning?[u.d]:[]));return Object(s.jsx)(b.Box,Object(c.a)(Object(c.a)({sx:Object(c.a)(Object(c.a)({},t),d&&{display:"inline-block"})},_),{},{children:Object(s.jsx)(j,Object(c.a)(Object(c.a)({borderRadius:"normal",bg:"neutral_8",plugins:F,content:Object(s.jsxs)(b.Flex,Object(c.a)(Object(c.a)({flexDirection:"column"},I),{},{children:[i&&Object(s.jsxs)(b.Flex,{flexDirection:"row",alignItems:"start",children:[i,R&&Object(s.jsx)(b.Box,{onClick:R,style:{cursor:"pointer"},children:Object(s.jsx)(f.j,{icon:"times"})})]}),Object(s.jsx)(f.y,{as:"div",variant:"bodySecondary",inheritColor:!0,children:l})]})),animation:"shift-toward",arrow:!0},A),{},{children:Object(s.jsx)(b.Flex,{as:"span",children:n})}))}))}p.defaultProps={maxWidth:"initial"}}},[[1422,1,2]]]);